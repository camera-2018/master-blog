<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>å‘é˜³ä¿¡æ¯</title>
    <link>https://xyxsw.ltd/</link>
    
    <atom:link href="https://xyxsw.ltd/rss.xml" rel="self" type="application/rss+xml"/>
    
    <description>è‹¥æœˆåƒé¸®çš„åšå®¢&#39;</description>
    <pubDate>Wed, 18 Oct 2023 14:45:56 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title></title>
      <link>https://xyxsw.ltd/2023/10/18/java_crud%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/</link>
      <guid>https://xyxsw.ltd/2023/10/18/java_crud%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/</guid>
      <pubDate>Wed, 18 Oct 2023 14:45:56 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;java-crudç¯å¢ƒé…ç½®æ•™ç¨‹&quot;&gt;&lt;a href=&quot;#java-crudç¯å¢ƒé…ç½®æ•™ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;java_crudç¯å¢ƒé…ç½®æ•™ç¨‹&quot;&gt;&lt;/a&gt;java_crudç¯å¢ƒé…ç½®æ•™ç¨‹&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡ä¼šä»å®‰è£…å¼€å§‹ï¼Œåˆ°æœ€åå†™å‡ºä¸€ä¸ªå¸¦å‘½</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="java-crudç¯å¢ƒé…ç½®æ•™ç¨‹"><a href="#java-crudç¯å¢ƒé…ç½®æ•™ç¨‹" class="headerlink" title="java_crudç¯å¢ƒé…ç½®æ•™ç¨‹"></a>java_crudç¯å¢ƒé…ç½®æ•™ç¨‹</h1><p>æœ¬æ–‡ä¼šä»å®‰è£…å¼€å§‹ï¼Œåˆ°æœ€åå†™å‡ºä¸€ä¸ªå¸¦å‘½ä»¤è¡Œäº¤äº’çª—å£çš„CRUDçš„å°é¡¹ç›®.</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="å®‰è£…JDK"><a href="#å®‰è£…JDK" class="headerlink" title="å®‰è£…JDK"></a>å®‰è£…JDK</h2><p><a href="https://www.oracle.com/java/technologies/downloads/#jdk17-windows">å®‰è£…åœ°å€</a></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221643.png"></p><p> å»ºè®®ä¸‹è½½java17ä»¥é˜²æ­¢æœ‰ä¾èµ–é—®é¢˜</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221712.png"></p><p>ç‚¹å‡»è¿™ä¸ªä¸‹è½½<code>.msi</code>å®‰è£…åŒ…æ¥å®‰è£…</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221734.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221748.png"></p><p>è¿™é‡Œå»ºè®®ä¸è¦æ›´æ”¹<strong>é»˜è®¤ä½ç½®</strong></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221802.png"></p><p>å®‰è£…å®ŒæˆğŸ¥³</p><h2 id="è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡"></a>è®¾ç½®ç¯å¢ƒå˜é‡</h2><p>åœ¨<code>Windowså¼€å§‹èœå•</code>æœç´¢<code>ç¯å¢ƒå˜é‡</code></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221840.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221858.png"></p><p>åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸‹é¢ç‚¹å‡»æ–°å»º</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221915.png"></p><p>å˜é‡åè®¾ç½®ä¸º <code>JAVA_HOME</code></p><p>å˜é‡å€¼è®¾ç½®ä¸º <code>C:\Program Files\Java\jdk-17.0.4.1</code> å¦‚æœä½ æœ‰å®‰è£…åˆ°å…¶ä»–ç›®å½•è¯·å¡«å…¶ä»–ç›®å½•</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221927.png"></p><p>æ–°å»ºç¯å¢ƒå˜é‡ <code>CLASS_PATH</code> </p><p>å˜é‡å€¼ä¸º <code>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code></p><p>å¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221948.png"></p><p>æ³¨æ„ å˜é‡å€¼æ¯”è¾ƒå¥‡æ€ª å¯èƒ½ç†è§£ä¸èƒ½  ä½†æ˜¯è¦ç…§ä¸Šå¡«å†™</p><p>åœ¨ç³»ç»Ÿå˜é‡é‡Œæ‰¾åˆ°<code>path</code> åŒå‡»</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222004.png"></p><p>ç‚¹å‡»æ–°å»º  å€¼å¡«å†™</p><p><code>%JAVA_HOME%\bin</code></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222021.png"></p><p>ç‚¹å‡»ç¡®å®š</p><p>æ¥ä¸‹æ¥æŒ‰ Windowsé”®åŠ Ré”®  è¾“å…¥cmdç‚¹ç¡®å®š</p><p>åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥<code>java --version</code></p><p>å¦‚æœ‰æ­£å¸¸ä¸æŠ¥é”™åˆ™é…ç½®æˆåŠŸğŸ¥³</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222038.png"></p><h2 id="å®‰è£…MySQL"><a href="#å®‰è£…MySQL" class="headerlink" title="å®‰è£…MySQL"></a>å®‰è£…MySQL</h2><p><a href="https://downloads.mysql.com/archives/installer/">MySQL :: Download MySQL Installer (Archived Versions)</a></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222056.png"></p><p>åŒå‡»æ‰“å¼€</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222109.png"></p><p>é€‰default</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222120.png"></p><p>ç›´æ¥next</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222134.png"></p><p>yes</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222149.png"></p><p>Execute</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222201.png"></p><p>ä¸€è·¯next</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222212.png"></p><p>è®¾ä¸€ä¸ªå¯†ç </p><p>ç„¶åä¸€è·¯next</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222223.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222238.png"></p><p>ç‚¹check</p><p>ç‚¹next</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222255.png"></p><p>æœ€åä¼šè·³å‡ºè¿™ä¹ˆä¸€ä¸ªå¥‡å¥‡æ€ªæ€ªçš„ MySQL JS çš„å‘½ä»¤è¡Œ ï¼ˆè¯´å®è¯æˆ‘æ²¡æ‡‚ä¸ºä»€ä¹ˆæœ‰è¿™ç©æ„</p><p>ï¼ˆä¸è¿‡ä½ å¯ä»¥åœ¨ä¸Šé¢ç©ç© JS çš„ç‰¹æ€§   ï¼šï¼‰</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929230157.png"></p><p>å’Œå‘½ä»¤è¡ŒåŒæ—¶å¼¹å‡ºæ¥çš„æ˜¯workbench </p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929230229.png"></p><p>MySQLå·²å®‰è£…å®ŒæˆğŸ¥³</p><h2 id="å®‰è£…-JetBrain-IntelliJ-IDEA"><a href="#å®‰è£…-JetBrain-IntelliJ-IDEA" class="headerlink" title="å®‰è£… JetBrain IntelliJ IDEA"></a>å®‰è£… JetBrain IntelliJ IDEA</h2><p><a href="https://www.jetbrains.com/zh-cn/idea/">ä¸‹è½½åœ°å€</a></p><p>ç›´æ¥ä¸‹è½½å’¯ 0é…ç½®çš„</p><h1 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h1><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929230750.png"></p><p>æ–°å»ºé¡¹ç›®</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929230914.png"></p><p>åˆ›å»ºé…ç½®å¦‚å›¾æ‰€ç¤º</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231039.png"></p><p>ç‚¹è¿› <code>src/main/java/org/example/main</code>è¿è¡Œä¸€ä¸‹è¯•è¯•</p><h2 id="é…ç½®Maven"><a href="#é…ç½®Maven" class="headerlink" title="é…ç½®Maven"></a>é…ç½®Maven</h2><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231348.png"></p><p>ç‚¹å‡»ç¼–è¾‘é…ç½®</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231437.png"></p><p>æ–°å»ºä¸€ä¸ªMavené…ç½®</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231601.png"></p><p>é…ç½®å¦‚å›¾ ä¿å­˜åº”ç”¨</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231748.png"></p><p>ç‚¹å‡»è¿è¡Œ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231717.png"></p><p>buildæˆåŠŸåä¼šç”Ÿæˆä¸€ä¸ªsnapshotçš„jar</p><p>æ¥ä¸‹æ¥æ˜¯å®‰è£…mavenä¾èµ–é¡¹</p><p>æ‰“å¼€pom.xml å³é”®ç‚¹ç”Ÿæˆ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231903.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231942.png"></p><p>æœç´¢ mysql-connector æ·»åŠ è¿™ä¸ª8ç‰ˆæœ¬çš„ä¾èµ–</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929232035.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220930000633.png"></p><p>ç”Ÿæˆäº†å¦‚å›¾çš„ä»£ç åˆ™æˆåŠŸ</p><p>åœ¨ä¸ dependencies åŒçº§çš„æ ‡ç­¾ä¸‹é¢ æ·»åŠ å¦‚ä¸‹ä»£ç  é…ç½®mavenä¾èµ–è‡ªåŠ¨å®‰è£…</p><pre><code class="xml"> &lt;build&gt;        &lt;plugins&gt;            &lt;plugin&gt;                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;                &lt;executions&gt;                    &lt;execution&gt;                        &lt;phase&gt;package&lt;/phase&gt;                        &lt;goals&gt;                            &lt;goal&gt;single&lt;/goal&gt;                        &lt;/goals&gt;                    &lt;/execution&gt;                &lt;/executions&gt;                &lt;configuration&gt;                    &lt;descriptorRefs&gt;                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;                    &lt;/descriptorRefs&gt;                    &lt;archive&gt;                        &lt;manifest&gt;                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;                            &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;                        &lt;/manifest&gt;                    &lt;/archive&gt;                &lt;/configuration&gt;            &lt;/plugin&gt;        &lt;/plugins&gt;    &lt;/build&gt;</code></pre><p>ç‚¹å‡»å³ä¸Šè§’ <img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929232533.png"> é‡æ–°åŠ è½½mavenå˜æ›´</p><h2 id="åŠ è½½æ•°æ®åº“-åˆ›å»ºæ•°æ®è¡¨"><a href="#åŠ è½½æ•°æ®åº“-åˆ›å»ºæ•°æ®è¡¨" class="headerlink" title="åŠ è½½æ•°æ®åº“&amp;&amp;åˆ›å»ºæ•°æ®è¡¨"></a>åŠ è½½æ•°æ®åº“&amp;&amp;åˆ›å»ºæ•°æ®è¡¨</h2><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929232829.png"></p><p>åœ¨å³è¾¹çš„ä¾§è¾¹æ ä¸­æ‰¾åˆ°æ•°æ®åº“  æ·»åŠ ä¸€ä¸ªMySQL</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233002.png"></p><p>è¾“å…¥ä½ åˆšè®¾ç½®çš„è´¦å·å¯†ç è¿æ¥</p><p>å¼¹å‡ºä¸€ä¸ªconsole</p><p>åœ¨é‡Œé¢è¾“å…¥</p><pre><code class="sql">CREATE DATABASE `java_crud_demo` CHARACTER SET &#39;utf8mb4&#39; COLLATE &#39;utf8mb4_general_ci&#39;;</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233123.png"></p><p>ç»¿è‰²æ¡†å†…æ˜¯ideaè¯†åˆ«å‡ºæ¥çš„sqlè¯­å¥  ç‚¹å‡»å·¦ä¸Šç»¿è‰²ç®­å¤´æ‰§è¡Œ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233231.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233308.png"></p><p>å³ä¾§æ•°æ®åº“æ é‡Œä¼šå‡ºç°ä½ åˆšåˆ›å»ºçš„æ•°æ®åº“ ä½†æ˜¯é‡Œé¢æ²¡æœ‰è¡¨</p><p>åœ¨consoleé‡Œè¾“å…¥</p><pre><code class="sql">create table if not exists `java_crud_demo`.`article_table`(    id     int unsigned auto_increment        primary key,    title  varchar(100) not null,    author varchar(40)  not null,    time   datetime     null);</code></pre><p>ctrl + a å…¨é€‰ä¸­ ç„¶åç‚¹æ‰§è¡Œ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233643.png"></p><p>ç”Ÿæˆäº†è¡¨article_table é‡Œé¢æ²¡æœ‰æ•°æ®</p><p>ç®€å•çš„å¡«å……æ•°æ® å¯ä»¥ consoleè¾“å…¥</p><pre><code class="sql">INSERT INTO `java_crud_demo`.`article_table` (`title`, `author`, `time`)VALUES (&#39;æ ‡é¢˜&#39;, &#39;ä½œè€…&#39;, NOW());</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929234014.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929234049.png"></p><p>æ’å…¥å®Œäº†è®°å¾—ç‚¹è¿™ä¸ªåˆ·æ–°</p><p>ä¹Ÿå¯ä»¥ç›´æ¥åœ¨tableé¢„è§ˆç•Œé¢</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220930000521.png"></p><p>æ·»åŠ è¡Œ è¾“å…¥å®Œæ¯•å ç‚¹æäº¤</p><h2 id="æ•°æ®åº“crudæ¨¡æ¿"><a href="#æ•°æ®åº“crudæ¨¡æ¿" class="headerlink" title="æ•°æ®åº“crudæ¨¡æ¿"></a>æ•°æ®åº“crudæ¨¡æ¿</h2><p>æ–°å»ºä¸€ä¸ªcrud.java</p><pre><code class="java">package org.example;import java.sql.*;public class Crud &#123;    // MySQL 8.0 ä»¥ä¸‹ç‰ˆæœ¬ - JDBC é©±åŠ¨ååŠæ•°æ®åº“ URL    //static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;    //static final String DB_URL = &quot;jdbc:mysql://localhost:3306/java_crud_demo&quot;;    // MySQL 8.0 ä»¥ä¸Šç‰ˆæœ¬ - JDBC é©±åŠ¨ååŠæ•°æ®åº“ URL    static final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;    static final String DB_URL = &quot;jdbc:mysql://localhost:3306/java_crud_demo?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC&quot;;    // æ•°æ®åº“çš„ç”¨æˆ·åä¸å¯†ç ï¼Œéœ€è¦æ ¹æ®è‡ªå·±çš„è®¾ç½®    static final String USER = &quot;root&quot;;    static final String PASS = &quot;123456&quot;;    public static void main(String[] args) &#123;        Connection conn = null;        Statement stmt = null;        try&#123;            // æ³¨å†Œ JDBC é©±åŠ¨            Class.forName(JDBC_DRIVER);            // æ‰“å¼€é“¾æ¥            System.out.println(&quot;è¿æ¥æ•°æ®åº“...&quot;);            conn = DriverManager.getConnection(DB_URL,USER,PASS);            // æ‰§è¡ŒæŸ¥è¯¢            System.out.println(&quot; å®ä¾‹åŒ–Statementå¯¹è±¡...&quot;);            stmt = conn.createStatement();            String sql;            sql = &quot;SELECT id, title, author, time FROM java_crud_demo&quot;;            ResultSet rs = stmt.executeQuery(sql);            // å±•å¼€ç»“æœé›†æ•°æ®åº“            while(rs.next())&#123;                // é€šè¿‡å­—æ®µæ£€ç´¢                int id  = rs.getInt(&quot;id&quot;);                String title = rs.getString(&quot;title&quot;);                String author = rs.getString(&quot;author&quot;);                String time = rs.getString(&quot;time&quot;);                // è¾“å‡ºæ•°æ®                System.out.println(&quot;ID: &quot; + id);                System.out.println(&quot;æ ‡é¢˜ï¼š&quot; + title);                System.out.println(&quot;ä½œè€…ï¼š&quot; + author);                System.out.println(&quot;æ—¶é—´ï¼š&quot; + time);            &#125;            // å®Œæˆåå…³é—­            rs.close();            stmt.close();            conn.close();        &#125;catch(SQLException se)&#123;            // å¤„ç† JDBC é”™è¯¯            se.printStackTrace();        &#125;catch(Exception e)&#123;            // å¤„ç† Class.forName é”™è¯¯            e.printStackTrace();        &#125;finally&#123;            // å…³é—­èµ„æº            try&#123;                if(stmt!=null) stmt.close();            &#125;catch(SQLException se2)&#123;            &#125;// ä»€ä¹ˆéƒ½ä¸åš            try&#123;                if(conn!=null) conn.close();            &#125;catch(SQLException se)&#123;                se.printStackTrace();            &#125;        &#125;        System.out.println(&quot;Goodbye!&quot;);    &#125;&#125;</code></pre><p>æ¥ä¸‹æ¥æ„‰å¿«å†™ä½ çš„ä»£ç ä¸»é€»è¾‘å’¯ğŸ¥³</p><h2 id="åŒå‡»æ‰“å¼€jar"><a href="#åŒå‡»æ‰“å¼€jar" class="headerlink" title="åŒå‡»æ‰“å¼€jar"></a>åŒå‡»æ‰“å¼€jar</h2><pre><code class="java">package org.example;import java.io.File;public class Main &#123;    public static void main(String[] args) &#123;        if (args.length == 0) &#123;            try &#123;                String path = System.getProperty(&quot;java.class.path&quot;);                int lastIndex = path.lastIndexOf(File.separator) + 1;                String file_name = path.substring(lastIndex);                ProcessBuilder pb = new ProcessBuilder();                pb.directory(new File(&quot;.&quot;));                System.out.printf(&quot;%s %s %s %s %s %s %s&quot;, &quot;cmd&quot;, &quot;/c&quot;, &quot;start&quot;, &quot;java&quot;, &quot;-jar&quot;, file_name, &quot;eject&quot;);                        pb.command(&quot;cmd&quot;, &quot;/c&quot;, &quot;start&quot;, &quot;java&quot;, &quot;-jar&quot;, file_name, &quot;eject&quot;);                pb.start();            &#125; catch (Exception e) &#123;                e.printStackTrace();            &#125; finally &#123;                System.exit(0);            &#125;        &#125;        else &#123;            //ä¸»å‡½æ•°            System.out.println(&quot;Hello World!&quot;);        &#125;    &#125;    &#125;</code></pre><p>åœ¨mainå¼€å¤´åŠ ä¸Šè¿™æ ·ä¸€æ®µ ä»–ä¼šå¸®ä½ è¾“å…¥å‘½ä»¤æ¥æ‰“å¼€ä¸€ä¸ªå¼¹å‡ºçš„æ–°çª—å£å•¦ğŸ¥³</p><h2 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h2><p>Maven æ„å»ºä¹‹åå°±å¾—åˆ°äº†éœ€è¦çš„jaråŒ…äº†ğŸ¥³</p>]]></content:encoded>
      
      
      
      
      <comments>https://xyxsw.ltd/2023/10/18/java_crud%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>DNS ä¸ Pdns OpenWrt DNS é€’å½’æœåŠ¡å™¨æ­å»ºä¸ MosDNS åˆ†æµ</title>
      <link>https://xyxsw.ltd/2023/10/18/DNS%20%E4%B8%8E%20Pdns%20OpenWrt%20DNS%20%E9%80%92%E5%BD%92%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%20MosDNS%20%E5%88%86%E6%B5%81/</link>
      <guid>https://xyxsw.ltd/2023/10/18/DNS%20%E4%B8%8E%20Pdns%20OpenWrt%20DNS%20%E9%80%92%E5%BD%92%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%20MosDNS%20%E5%88%86%E6%B5%81/</guid>
      <pubDate>Wed, 18 Oct 2023 14:43:02 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;DNS&quot;&gt;&lt;a href=&quot;#DNS&quot; class=&quot;headerlink&quot; title=&quot;DNS&quot;&gt;&lt;/a&gt;DNS&lt;/h1&gt;&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯DNS&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯DNS&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯DNS&quot;&gt;&lt;</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h1><h2 id="ä»€ä¹ˆæ˜¯DNS"><a href="#ä»€ä¹ˆæ˜¯DNS" class="headerlink" title="ä»€ä¹ˆæ˜¯DNS"></a>ä»€ä¹ˆæ˜¯DNS</h2><p>åŸŸåç³»ç»Ÿï¼ˆè‹±è¯­ï¼šDomain Name Systemï¼Œç¼©å†™ï¼šDNSï¼‰æ˜¯äº’è”ç½‘çš„ä¸€é¡¹æœåŠ¡ã€‚å®ƒä½œä¸ºå°†åŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œèƒ½å¤Ÿä½¿äººæ›´æ–¹ä¾¿åœ°è®¿é—®äº’è”ç½‘ã€‚</p><p>ç®€å•æ¥è¯´å°±æ˜¯ç”¨åŸŸåè¯·æ±‚æœåŠ¡å™¨æ¢å›æ¥ipåœ°å€</p><p><a href="https://www.nslookup.io/">https://www.nslookup.io/</a></p><p>è¿™ä¸ªç½‘ç«™å¯ä»¥çœ‹dnsè¯·æ±‚çš„ç»“æœã€åŒç†è¿˜æœ‰linuxæˆ–è€…windowsçš„nslookupå‘½ä»¤</p><p><strong>DNS records for dn11.top</strong></p><blockquote><p>A records</p></blockquote><table><thead><tr><th>IPv4 address</th><th>Revalidate in</th></tr></thead><tbody><tr><td>104.21.27.178</td><td>5m</td></tr><tr><td>172.67.143.107</td><td>5m</td></tr></tbody></table><p>DNS æœåŠ¡å™¨ä½¿äººä»¬æ— éœ€å­˜å‚¨å¤æ‚è®°ä¸ä½çš„ipåœ°å€ï¼Œè€Œæ˜¯è®°ä½æœ‰è§„å¾‹çš„åŸŸåæ¥æ–¹ä¾¿çš„è®¿é—®äº’è”ç½‘</p><h2 id="DNSè®°å½•"><a href="#DNSè®°å½•" class="headerlink" title="DNSè®°å½•"></a>DNSè®°å½•</h2><p>DNS è®°å½•æ˜¯ä½äºæƒå¨ DNS æœåŠ¡å™¨ä¸­çš„æŒ‡ä»¤ï¼Œæä¾›ä¸€ä¸ªåŸŸçš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬å“ªäº› IP åœ°å€ä¸è¯¥åŸŸå…³è”ï¼Œä»¥åŠå¦‚ä½•å¤„ç†å¯¹è¯¥åŸŸçš„è¯·æ±‚ã€‚</p><h3 id="å¸¸è§çš„-DNS-è®°å½•"><a href="#å¸¸è§çš„-DNS-è®°å½•" class="headerlink" title="å¸¸è§çš„ DNS è®°å½•"></a>å¸¸è§çš„ DNS è®°å½•</h3><p>SOA è®°å½• - å­˜å‚¨åŸŸçš„ç®¡ç†ä¿¡æ¯ã€‚</p><pre><code class="bash">;; ANSWER SECTION:dn11.top.               1800    IN      SOA     ophelia.ns.cloudflare.com. dns.cloudflare.com. 2322082117 10000 2400 604800 1800</code></pre><p>NS è®°å½• - å­˜å‚¨ DNS æ¡ç›®çš„åç§°æœåŠ¡å™¨ã€‚</p><pre><code class="bash">;; ANSWER SECTION:dn11.top.               21600   IN      NS      ophelia.ns.cloudflare.com.dn11.top.               21600   IN      NS      phil.ns.cloudflare.com.</code></pre><p>A è®°å½• - ä¿å­˜åŸŸçš„ IPv4 åœ°å€çš„è®°å½•ã€‚</p><pre><code class="bash">;; ANSWER SECTION:dn11.top.               300     IN      A       104.21.27.178dn11.top.               300     IN      A       172.67.143.107</code></pre><p>AAAA è®°å½• - åŒ…å«åŸŸçš„ IPv6 åœ°å€çš„è®°å½•ï¼ˆä¸ A è®°å½•ç›¸åï¼ŒA è®°å½•åˆ—å‡ºçš„æ˜¯ IPv4 åœ°å€ï¼‰ã€‚</p><p>CNAME è®°å½• - å°†ä¸€ä¸ªåŸŸæˆ–å­åŸŸè½¬å‘åˆ°å¦ä¸€ä¸ªåŸŸï¼Œä¸æä¾› IP åœ°å€ã€‚</p><p>MX è®°å½• - å°†é‚®ä»¶å®šå‘åˆ°ç”µå­é‚®ä»¶æœåŠ¡å™¨ã€‚</p><p>TXT è®°å½• - å¯è®©ç®¡ç†å‘˜åœ¨è®°å½•ä¸­å­˜å‚¨æ–‡æœ¬æ³¨é‡Šã€‚è¿™äº›è®°å½•é€šå¸¸ç”¨äºç”µå­é‚®ä»¶å®‰å…¨ã€‚</p><h2 id="æœ‰å‡ ç§DNSæœåŠ¡å™¨ï¼Ÿæœ‰å‡ ç§å·¥ä½œæ–¹å¼ï¼Ÿ"><a href="#æœ‰å‡ ç§DNSæœåŠ¡å™¨ï¼Ÿæœ‰å‡ ç§å·¥ä½œæ–¹å¼ï¼Ÿ" class="headerlink" title="æœ‰å‡ ç§DNSæœåŠ¡å™¨ï¼Ÿæœ‰å‡ ç§å·¥ä½œæ–¹å¼ï¼Ÿ"></a>æœ‰å‡ ç§DNSæœåŠ¡å™¨ï¼Ÿæœ‰å‡ ç§å·¥ä½œæ–¹å¼ï¼Ÿ</h2><p>æœ‰ä¸¤ç§DNSæœåŠ¡å™¨ï¼šDNSé€’å½’æœåŠ¡å™¨å’ŒDNSæƒå¨æœåŠ¡å™¨</p><p>æœ‰ä¸¤ç§å·¥ä½œæ–¹å¼ï¼šé€’å½’å’Œè¿­ä»£</p><p>DNSå®¢æˆ·ç«¯è®¾ç½®ä½¿ç”¨çš„DNSæœåŠ¡å™¨ä¸€èˆ¬éƒ½æ˜¯DNSé€’å½’æœåŠ¡å™¨ï¼Œå®ƒè´Ÿè´£å…¨æƒå¤„ç†å®¢æˆ·ç«¯çš„DNSæŸ¥è¯¢è¯·æ±‚ï¼Œç›´åˆ°è¿”å›æœ€ç»ˆç»“æœã€‚è€ŒDNSæœåŠ¡å™¨ä¹‹é—´ä¸€èˆ¬é‡‡ç”¨è¿­ä»£æŸ¥è¯¢æ–¹å¼ã€‚</p><h2 id="å¦‚ä½•å·¥ä½œçš„"><a href="#å¦‚ä½•å·¥ä½œçš„" class="headerlink" title="å¦‚ä½•å·¥ä½œçš„"></a>å¦‚ä½•å·¥ä½œçš„</h2><p>DNSæŸ¥è¯¢ æ¶‰åŠ 4 ä¸ª DNS æœåŠ¡å™¨ï¼š</p><ol><li>DNS é€’å½’è§£æå™¨</li></ol><p>DNS è§£æå™¨æ˜¯ä¸€ç§æœåŠ¡å™¨ï¼Œæ—¨åœ¨é€šè¿‡ Web æµè§ˆå™¨ç­‰åº”ç”¨ç¨‹åºæ¥æ”¶å®¢æˆ·ç«¯è®¡ç®—æœºçš„æŸ¥è¯¢ã€‚ç„¶åï¼Œè§£æå™¨ä¸€<strong>èˆ¬è´Ÿè´£å‘å‡ºå…¶ä»–è¯·æ±‚</strong>ï¼Œä»¥ä¾¿æ»¡è¶³å®¢æˆ·ç«¯çš„ DNS æŸ¥è¯¢ã€‚</p><blockquote><p>å¸¸è§çš„ dns é€’å½’è§£æå™¨æœ‰</p><p>è°·æ­Œ 8.8.8.8  8.8.4.4</p><p>é˜¿é‡Œ 223.5.5.5 223.6.6.6</p><p>ç™¾åº¦ 180.76.76.76</p><p>è…¾è®¯DNSPod 119.29.29.29</p><p>CloudFlare 1.1.1.1</p><p>æ›´å¤š <a href="https://en.wikipedia.org/wiki/Public_recursive_name_server">https://en.wikipedia.org/wiki/Public_recursive_name_server</a></p></blockquote><ol start="2"><li>æ ¹åŸŸåæœåŠ¡å™¨</li></ol><p>æ ¹åŸŸåæœåŠ¡å™¨æ˜¯å°†ä¸»æœºåè½¬æ¢ï¼ˆè§£æï¼‰ä¸º IP åœ°å€çš„ç¬¬ä¸€æ­¥ã€‚</p><p>æ ¹åŸŸåæœåŠ¡å™¨ï¼ˆè‹±è¯­ï¼šroot name serverï¼Œç®€ç§°â€œæ ¹åŸŸåæœåŠ¡å™¨â€ï¼‰æ˜¯äº’è”ç½‘åŸŸåè§£æç³»ç»Ÿï¼ˆDNSï¼‰ä¸­æœ€é«˜çº§åˆ«çš„åŸŸåæœåŠ¡å™¨ï¼Œè´Ÿè´£è¿”å›é¡¶çº§åŸŸçš„æƒå¨åŸŸåæœåŠ¡å™¨åœ°å€ã€‚</p><p>ä»»æ„æ­£å¸¸ linux å‘è¡Œç‰ˆå¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤æ¥çœ‹åˆ°è¿™13å°æ ¹åŸŸåæœåŠ¡å™¨</p><pre><code class="bash">ubuntu@ubuntu_dn11:~$ dig ns . @8.8.8.8; &lt;&lt;&gt;&gt; DiG 9.18.12-0ubuntu0.22.04.3-Ubuntu &lt;&lt;&gt;&gt; ns . @8.8.8.8;; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 9453;; flags: qr rd ra ad; QUERY: 1, ANSWER: 13, AUTHORITY: 0, ADDITIONAL: 1;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 512;; QUESTION SECTION:;.                              IN      NS;; ANSWER SECTION:.                       71928   IN      NS      a.root-servers.net..                       71928   IN      NS      b.root-servers.net..                       71928   IN      NS      c.root-servers.net..                       71928   IN      NS      d.root-servers.net..                       71928   IN      NS      e.root-servers.net..                       71928   IN      NS      f.root-servers.net..                       71928   IN      NS      g.root-servers.net..                       71928   IN      NS      h.root-servers.net..                       71928   IN      NS      i.root-servers.net..                       71928   IN      NS      j.root-servers.net..                       71928   IN      NS      k.root-servers.net..                       71928   IN      NS      l.root-servers.net..                       71928   IN      NS      m.root-servers.net.;; Query time: 0 msec;; SERVER: 8.8.8.8#53(8.8.8.8) (UDP);; WHEN: Fri Oct 06 13:22:43 UTC 2023;; MSG SIZE  rcvd: 239</code></pre><p>å…¨çƒ13<strong>ç»„</strong>æ ¹åŸŸåæœåŠ¡å™¨ä»¥è‹±æ–‡å­—æ¯Aåˆ°Mä¾åºå‘½åï¼ŒåŸŸåæ ¼å¼ä¸ºâ€œå­—æ¯.root-servers.netâ€ã€‚åˆ©ç”¨ä»»æ’­ï¼ˆanycastï¼‰æŠ€æœ¯åœ¨å…¨çƒå¤šä¸ªåœ°ç‚¹è®¾ç«‹é•œåƒç«™ã€‚</p><p>æˆªè‡³2023å¹´6æœˆï¼Œå…¨çƒå…±æœ‰1719å°æ ¹åŸŸåæœåŠ¡å™¨åœ¨è¿è¡Œã€‚</p><blockquote><p>Qï¼šä¸ºä»€ä¹ˆæ˜¯13ç»„ï¼Ÿ1700ç»„ä¸è¡Œå—ï¼Ÿ</p><p>Aï¼šç”±äºDNSå’ŒæŸäº›åè®®ï¼ˆæœªåˆ†ç‰‡çš„ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUDPï¼‰æ•°æ®åŒ…åœ¨IPv4å†…çš„æœ€å¤§æœ‰æ•ˆå¤§å°ä¸º512å­—èŠ‚ï¼‰çš„å…±åŒé™åˆ¶ï¼Œæ ¹åŸŸåæœåŠ¡å™¨åœ°å€çš„æ•°é‡è¢«é™åˆ¶ä¸º13ä¸ªã€‚ä¸€æ¬¡è¿”å›çš„æ•°æ®æ”¾ä¸ä¸‹å•¦~</p><p>Qï¼šanycastæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>Aï¼šæˆ‘ä»¬å‡è®¾æœ‰ä¸‰å°æœåŠ¡å™¨Î±ã€Î²ã€Î³å’Œä¸€å°å®¢æˆ·æœºï¼Œè¿™ä¸‰å°æœåŠ¡å™¨éƒ½å®£å‘Šäº†åŒæ ·çš„ä¸€ä¸ªåœ°å€æ¯”å¦‚è¯´172.16.255.53ï¼Œå®¢æˆ·æœºè®¿é—®172.16.255.53æ—¶ï¼Œä¼šå› ä¸ºè·¯ç”±åè®®çš„åŸå› ï¼Œé€‰æ‹©å®¢æˆ·æœºè·ç¦»æœåŠ¡å™¨æœ€è¿‘çš„ä¸€æ¡è·¯å¾„ã€‚å‡è®¾Î±è·ç¦»å®¢æˆ·æœºè¿‘ï¼Œè®¿é—®172.16.255.53è·å¾—çš„æ•°æ®å°±æ˜¯Î±æœåŠ¡å™¨ç»™å®¢æˆ·æœºçš„ã€‚</p><p>Qï¼šanycastçš„å¥½å¤„ï¼Ÿ</p><p>Aï¼šé˜²æ­¢æœåŠ¡æŒ‚æ‰ã€æµé‡ä¼šè‡ªåŠ¨å¯»æ‰¾æœ€ä½³è·¯å¾„ã€å‡è®¾ä¸€å°æœåŠ¡å™¨æŒ‚æ‰äº†ï¼Œæ•´ä¸ªæœåŠ¡ä¼šè¢«å¦ä¸€å°æœåŠ¡å™¨æ‰¿æ‹…ã€‚</p></blockquote><blockquote><p>Qï¼šæœ‰ . è¿™ä¸ªæœåŠ¡å™¨å—</p><p>Aï¼šå­˜æ”¾è¿™13ä¸ªæ ¹åŸŸçš„æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒè¢«å†…ç½®åœ¨é€’å½’æœåŠ¡å™¨å†…ï¼Œæ²¡æœ‰æƒå¨æœåŠ¡å™¨ä¼šè¿”å› . è¿™ä¸ªåŸŸçš„è§£æç»™ä½ ã€‚<br>åœ¨è¿™é‡Œå¯ä»¥ä¸‹è½½åˆ°è¿™ä¸ªæ–‡ä»¶ <a href="https://www.iana.org/domains/root/files">https://www.iana.org/domains/root/files</a><br>è¿è¥å•†é€šå¸¸éœ€è¦é…ç½®ä¸€ä¸ª â€œRoot Hints æ–‡ä»¶â€ æ¥ç®¡ç† DNS é€’å½’è§£æå™¨ã€‚è¯¥æ–‡ä»¶åŒ…å«äº†æ ¹åŒºåŸŸçš„æƒå¨åç§°æœåŠ¡å™¨çš„åç§°å’Œ IP åœ°å€ï¼Œä»¥ä¾¿è½¯ä»¶å¯ä»¥å¼•å¯¼ DNS è§£æè¿‡ç¨‹ã€‚å¯¹äºè®¸å¤šè½¯ä»¶æ¥è¯´ï¼Œè¿™ä¸ªåˆ—è¡¨å·²ç»å†…ç½®åœ¨è½¯ä»¶ä¸­ã€‚<a href="https://www.internic.net/domain/named.root">https://www.internic.net/domain/named.root</a></p></blockquote><ol start="3"><li>TLD åç§°æœåŠ¡å™¨</li></ol><p>é¡¶çº§åŸŸåï¼ˆè‹±è¯­ï¼šTop-level Domain, TLDï¼‰æ˜¯äº’è”ç½‘åŸŸåç³»ç»Ÿçš„ç­‰çº§ä¸­ï¼Œä½äºæ ¹åŸŸç©ºé—´çš„æœ€é«˜çº§åŸŸåã€‚</p><p>é¡¶çº§åŸŸåæœåŠ¡å™¨è¿™ä¸ªæœåŠ¡å™¨æ˜¯æœç´¢ç‰¹å®š IP åœ°å€çš„ä¸‹ä¸€æ­¥ï¼Œå…¶ä¸Šæ‰˜ç®¡äº†ä¸»æœºåçš„æœ€åä¸€éƒ¨åˆ†ï¼ˆä¾‹å¦‚ï¼Œåœ¨ dn11.top ä¸­ï¼ŒTLD æœåŠ¡å™¨ä¸º â€œtopâ€ï¼‰ã€‚</p><p><a href="https://www.iana.org/domains/root/db">https://www.iana.org/domains/root/db</a> è¿™é‡Œæ˜¯ä¸–ç•Œä¸Šå®Œæ•´çš„é¡¶çº§åŸŸåˆ—è¡¨ã€‚</p><ol start="4"><li>æƒå¨æ€§åŸŸåæœåŠ¡å™¨</li></ol><p>æƒå¨æ€§åŸŸåæœåŠ¡å™¨æ˜¯åŸŸåæœåŠ¡å™¨æŸ¥è¯¢ä¸­çš„æœ€åä¸€ç«™ã€‚</p><p>æƒå¨åç§°æœåŠ¡å™¨åŒ…å«ç‰¹å®šäºå…¶æœåŠ¡åŸŸåçš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œdn11.topï¼‰æƒå¨æ€§åŸŸåæœåŠ¡å™¨åŒ…å«ç‰¹å®šäºå…¶æ‰€æœåŠ¡çš„åŸŸåçš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ dn11.topï¼‰ï¼Œå¹¶ä¸”å®ƒå¯ä¸ºé€’å½’è§£æå™¨æä¾›åœ¨ DNS A è®°å½•ä¸­æ‰¾åˆ°çš„æœåŠ¡å™¨çš„ IP åœ°å€ï¼ˆä¾‹å¦‚æ‰¾åˆ°äº†ä¸Šæ–‡çš„ipv4åœ°å€ 104.21.27.178ï¼‰</p><h2 id="å›¾è§£å·¥ä½œæµç¨‹"><a href="#å›¾è§£å·¥ä½œæµç¨‹" class="headerlink" title="å›¾è§£å·¥ä½œæµç¨‹"></a>å›¾è§£å·¥ä½œæµç¨‹</h2><h3 id="é€’å½’å·¥ä½œæµç¨‹"><a href="#é€’å½’å·¥ä½œæµç¨‹" class="headerlink" title="é€’å½’å·¥ä½œæµç¨‹"></a>é€’å½’å·¥ä½œæµç¨‹</h3><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20231006233612.png"></p><p>æˆ‘è¿™é‡Œç”»äº†ä¸€å¼ å›¾ï¼šå…¶ä¸­çº¢è‰²æœåŠ¡å™¨ä¸ºDNSé€’å½’æœåŠ¡å™¨ï¼ŒPCä¸Šçš„DNSå®¢æˆ·ç«¯åªä¸DNSé€’å½’æœåŠ¡å™¨é€šè®¯ï¼Œç”±é€’å½’æœåŠ¡å™¨å®Œæˆåç»­æŸ¥è¯¢å†…å®¹ã€‚è“è‰²äº‘ä¸ºæƒ³è¦è®¿é—®çš„ç½‘ç«™çš„ipåœ°å€æ‰€åœ¨çš„æœåŠ¡å™¨ã€‚</p><p>æˆ‘ä¼šé€ä¸€è®²è§£æ¯ä¸ªè¿‡ç¨‹ï¼ˆç®­å¤´ï¼‰éƒ½åšäº†ä»€ä¹ˆã€‚</p><p>æœ¬å›¾çš„å‰ææ˜¯dnsé€’å½’æœåŠ¡å™¨ä¸­ä¸å«ä»»ä½•ç¼“å­˜ã€‚</p><p>â‘ ï¼šPCé€šè¿‡æµè§ˆå™¨è¾“å…¥äº†dn11.topè¿™ä¸ªåŸŸåã€dnså®¢æˆ·ç«¯æ”¶åˆ°äº†è¯·æ±‚dn11.topè¿™ä¸ªåŸŸåçš„ipçš„ä»»åŠ¡ã€dnså®¢æˆ·ç«¯å»è¯·æ±‚DNSé€’å½’æœåŠ¡å™¨</p><p>â‘¡ï¼šDNSé€’å½’æœåŠ¡å™¨ä½¿ç”¨å†…ç½®çš„Root Hintæ–‡ä»¶ï¼ˆå†…æœ‰æ ¹æœåŠ¡å™¨çš„NSè§£æå’Œæ ¹æœåŠ¡å™¨çš„IPåœ°å€ï¼‰å»è¯·æ±‚æ ¹æƒå¨æœåŠ¡å™¨ã€å¾—åˆ°äº†TLDæœåŠ¡å™¨çš„NSè§£æå¹¶å¾—åˆ°äº†TLDæœåŠ¡å™¨çš„ipåœ°å€</p><p>â‘¢ï¼šTLDæœåŠ¡å™¨çš„ipåœ°å€è¢«è¿”å›ç»™DNSé€’å½’æœåŠ¡å™¨</p><p>â‘£ï¼šDNSé€’å½’æœåŠ¡å™¨å»è¯·æ±‚TLDæœåŠ¡å™¨ã€å¾—åˆ°äº†åŸŸåæƒå¨æœåŠ¡å™¨çš„NSè§£æå¹¶å¾—åˆ°äº†åŸŸåæƒå¨æœåŠ¡å™¨çš„NSè®°å½•å’ŒIPåœ°å€</p><p>â‘¤ï¼šåŸŸåæƒå¨æœåŠ¡å™¨çš„ipåœ°å€è¢«è¿”å›ç»™DNSé€’å½’æœåŠ¡å™¨</p><p>â‘¥ï¼šDNSé€’å½’æœåŠ¡å™¨å»è¯·æ±‚åŸŸåæƒå¨æœåŠ¡å™¨ã€å¾—åˆ°äº†è¯·æ±‚åŸŸåæœ€ç»ˆçš„ip</p><p>â‘¦ï¼šè¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè¢«è¿”å›ç»™DNSé€’å½’æœåŠ¡å™¨</p><p>â‘§ï¼šè¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè¢«è¿”å›ç»™PCä¸Šçš„DNSå®¢æˆ·ç«¯</p><p>â‘¨ï¼šPCä¸Šçš„æµè§ˆå™¨ç”¨è¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè®¿é—®åŸŸåæ‰€åœ¨çš„äº‘æœåŠ¡å™¨</p><p>â‘©ï¼šäº‘æœåŠ¡å™¨è¿”å›ç½‘é¡µæ•°æ®ç»™PCæµè§ˆå™¨ã€å®ç°é¡µé¢çš„è®¿é—®</p><h3 id="è¿­ä»£å·¥ä½œæµç¨‹"><a href="#è¿­ä»£å·¥ä½œæµç¨‹" class="headerlink" title="è¿­ä»£å·¥ä½œæµç¨‹"></a>è¿­ä»£å·¥ä½œæµç¨‹</h3><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20231015181102.png"></p><p>æˆ‘è¿™é‡Œç”»äº†ä¸€å¼ å›¾ï¼šå…¶ä¸­çº¢è‰²æœåŠ¡å™¨ä¸ºDNSé€’å½’æœåŠ¡å™¨ï¼ŒPCä¸Šçš„DNSå®¢æˆ·ç«¯åªä¸DNSé€’å½’æœåŠ¡å™¨é€šè®¯ï¼Œç”±é€’å½’æœåŠ¡å™¨å’Œæƒå¨æœåŠ¡å™¨çš„è¿­ä»£æŸ¥è¯¢å®Œæˆåç»­æŸ¥è¯¢å†…å®¹ã€‚è“è‰²äº‘ä¸ºæƒ³è¦è®¿é—®çš„ç½‘ç«™çš„ipåœ°å€æ‰€åœ¨çš„æœåŠ¡å™¨ã€‚</p><p>æˆ‘ä¼šé€ä¸€è®²è§£æ¯ä¸ªè¿‡ç¨‹ï¼ˆç®­å¤´ï¼‰éƒ½åšäº†ä»€ä¹ˆã€‚</p><p>æœ¬å›¾çš„å‰ææ˜¯dnsé€’å½’æœåŠ¡å™¨ä¸­ä¸å«ä»»ä½•ç¼“å­˜ã€‚</p><p>â‘ ï¼šPCé€šè¿‡æµè§ˆå™¨è¾“å…¥äº†dn11.topè¿™ä¸ªåŸŸåã€dnså®¢æˆ·ç«¯æ”¶åˆ°äº†è¯·æ±‚dn11.topè¿™ä¸ªåŸŸåçš„ipçš„ä»»åŠ¡ã€dnså®¢æˆ·ç«¯å»è¯·æ±‚DNSé€’å½’æœåŠ¡å™¨</p><p>â‘¡ï¼šDNSé€’å½’æœåŠ¡å™¨ä½¿ç”¨å†…ç½®çš„Root Hintæ–‡ä»¶ï¼ˆå†…æœ‰æ ¹æœåŠ¡å™¨çš„NSè§£æå’Œæ ¹æœåŠ¡å™¨çš„IPåœ°å€ï¼‰å»è¯·æ±‚æ ¹æƒå¨æœåŠ¡å™¨ã€æ ¹æƒå¨æœåŠ¡å™¨æ”¶åˆ°äº†è¯·æ±‚ã€æ‰¾åˆ°äº†TLDæƒå¨æœåŠ¡å™¨çš„NSè®°å½•å’Œipåœ°å€</p><p>â‘¢ï¼šæ ¹æƒå¨æœåŠ¡å™¨è¯·æ±‚TLDæœåŠ¡å™¨ã€TLDæœåŠ¡å™¨æ”¶åˆ°äº†è¯·æ±‚ã€æ‰¾åˆ°äº†åŸŸåæƒå¨æœåŠ¡å™¨çš„NSè®°å½•å’Œipåœ°å€</p><p>â‘£ï¼šTLDæœåŠ¡å™¨è¯·æ±‚åŸŸåæƒå¨æœåŠ¡å™¨ã€æƒå¨æœåŠ¡å™¨æ‰¾åˆ°äº†åŸŸåçš„ipåœ°å€</p><p>â‘¤ï¼šåŸŸåçš„ipåœ°å€ä»åŸŸåæƒå¨æœåŠ¡å™¨è¿”å›ç»™TLDæƒå¨æœåŠ¡å™¨</p><p>â‘¥ï¼šåŸŸåçš„ipåœ°å€ä»TLDæƒå¨æœåŠ¡å™¨è¿”å›ç»™æ ¹æƒå¨æœåŠ¡å™¨</p><p>â‘¦ï¼šåŸŸåçš„ipåœ°å€ä»æ ¹æƒå¨è¿”å›ç»™DNSé€’å½’æœåŠ¡å™¨</p><p>â‘§ï¼šè¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè¢«è¿”å›ç»™PCä¸Šçš„DNSå®¢æˆ·ç«¯</p><p>â‘¨ï¼šPCä¸Šçš„æµè§ˆå™¨ç”¨è¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè®¿é—®åŸŸåæ‰€åœ¨çš„äº‘æœåŠ¡å™¨</p><p>â‘©ï¼šäº‘æœåŠ¡å™¨è¿”å›ç½‘é¡µæ•°æ®ç»™PCæµè§ˆå™¨ã€å®ç°é¡µé¢çš„è®¿é—®</p><h2 id="é…ç½®pdns"><a href="#é…ç½®pdns" class="headerlink" title="é…ç½®pdns"></a>é…ç½®pdns</h2><h3 id="1-openwrtç›´æ¥å¯åŠ¨"><a href="#1-openwrtç›´æ¥å¯åŠ¨" class="headerlink" title="1.openwrtç›´æ¥å¯åŠ¨"></a>1.openwrtç›´æ¥å¯åŠ¨</h3><h4 id="è£…åŒ…"><a href="#è£…åŒ…" class="headerlink" title="è£…åŒ…"></a>è£…åŒ…</h4><pre><code>opkg updateopkg install pdns pdns-backend-sqlite3 pdns-recursor sqlite3-cli</code></pre><h4 id="åˆå§‹åŒ–æ•°æ®åº“"><a href="#åˆå§‹åŒ–æ•°æ®åº“" class="headerlink" title="åˆå§‹åŒ–æ•°æ®åº“"></a>åˆå§‹åŒ–æ•°æ®åº“</h4><p>åˆ›å»ºæ–‡ä»¶</p><pre><code>mkdir -p /usr/share/doc/pdns-backend-sqlite/touch schema.sqlite3.sql</code></pre><p>ç„¶ååœ¨schema.sqlite3.sqlé‡Œå†™å…¥</p><pre><code>nano /usr/share/doc/pdns-backend-sqlite/schema.sqlite3.sql</code></pre><pre><code class="sql">PRAGMA foreign_keys = 1;CREATE TABLE domains (  id                    INTEGER PRIMARY KEY,  name                  VARCHAR(255) NOT NULL COLLATE NOCASE,  master                VARCHAR(128) DEFAULT NULL,  last_check            INTEGER DEFAULT NULL,  type                  VARCHAR(8) NOT NULL,  notified_serial       INTEGER DEFAULT NULL,  account               VARCHAR(40) DEFAULT NULL,  options               VARCHAR(65535) DEFAULT NULL,  catalog               VARCHAR(255) DEFAULT NULL);CREATE UNIQUE INDEX name_index ON domains(name);CREATE INDEX catalog_idx ON domains(catalog);CREATE TABLE records (  id                    INTEGER PRIMARY KEY,  domain_id             INTEGER DEFAULT NULL,  name                  VARCHAR(255) DEFAULT NULL,  type                  VARCHAR(10) DEFAULT NULL,  content               VARCHAR(65535) DEFAULT NULL,  ttl                   INTEGER DEFAULT NULL,  prio                  INTEGER DEFAULT NULL,  disabled              BOOLEAN DEFAULT 0,  ordername             VARCHAR(255),  auth                  BOOL DEFAULT 1,  FOREIGN KEY(domain_id) REFERENCES domains(id) ON DELETE CASCADE ON UPDATE CASCADE);CREATE INDEX records_lookup_idx ON records(name, type);CREATE INDEX records_lookup_id_idx ON records(domain_id, name, type);CREATE INDEX records_order_idx ON records(domain_id, ordername);CREATE TABLE supermasters (  ip                    VARCHAR(64) NOT NULL,  nameserver            VARCHAR(255) NOT NULL COLLATE NOCASE,  account               VARCHAR(40) NOT NULL);CREATE UNIQUE INDEX ip_nameserver_pk ON supermasters(ip, nameserver);CREATE TABLE comments (  id                    INTEGER PRIMARY KEY,  domain_id             INTEGER NOT NULL,  name                  VARCHAR(255) NOT NULL,  type                  VARCHAR(10) NOT NULL,  modified_at           INT NOT NULL,  account               VARCHAR(40) DEFAULT NULL,  comment               VARCHAR(65535) NOT NULL,  FOREIGN KEY(domain_id) REFERENCES domains(id) ON DELETE CASCADE ON UPDATE CASCADE);CREATE INDEX comments_idx ON comments(domain_id, name, type);CREATE INDEX comments_order_idx ON comments (domain_id, modified_at);CREATE TABLE domainmetadata ( id                     INTEGER PRIMARY KEY, domain_id              INT NOT NULL, kind                   VARCHAR(32) COLLATE NOCASE, content                TEXT, FOREIGN KEY(domain_id) REFERENCES domains(id) ON DELETE CASCADE ON UPDATE CASCADE);CREATE INDEX domainmetaidindex ON domainmetadata(domain_id);CREATE TABLE cryptokeys ( id                     INTEGER PRIMARY KEY, domain_id              INT NOT NULL, flags                  INT NOT NULL, active                 BOOL, published              BOOL DEFAULT 1, content                TEXT, FOREIGN KEY(domain_id) REFERENCES domains(id) ON DELETE CASCADE ON UPDATE CASCADE);CREATE INDEX domainidindex ON cryptokeys(domain_id);CREATE TABLE tsigkeys ( id                     INTEGER PRIMARY KEY, name                   VARCHAR(255) COLLATE NOCASE, algorithm              VARCHAR(50) COLLATE NOCASE, secret                 VARCHAR(255));CREATE UNIQUE INDEX namealgoindex ON tsigkeys(name, algorithm);</code></pre><p>åˆå§‹åŒ–sqlite3</p><pre><code>mkdir -p /etc/powerdns/sqlite3 /etc/powerdns/pdns.sqlite3 &lt; /usr/share/doc/pdns-backend-sqlite/schema.sqlite3.sqlchmod +r /etc/powerdns</code></pre><h4 id="é…ç½®pdns-1"><a href="#é…ç½®pdns-1" class="headerlink" title="é…ç½®pdns"></a>é…ç½®pdns</h4><pre><code>nano /etc/powerdns/pdns.conf</code></pre><p>å†™å…¥</p><pre><code>launch=gsqlite3gsqlite3-database=/etc/powerdns/pdns.sqlite3local-address=&lt;!!ä½ çš„åœ°å€!!&gt;:53allow-axfr-ips=0.0.0.0/0slave=yesallow-notify-from=0.0.0.0/0allow-dnsupdate-from=0.0.0.0/0allow-unsigned-notify=yes</code></pre><p>è§£é‡Šï¼šç”±äºæˆ‘ä»¬æ­£åœ¨é…ç½®pdnsæƒå¨æœåŠ¡å™¨ï¼Œåœ°å€å¯ä»¥é€‰ä¸€ä¸ªä½ è‡ªå·±å­ç½‘ä½ å–œæ¬¢çš„ã€æ¯”å¦‚è¯´æˆ‘åœ¨<code>172.16.3.53</code></p><p>å½“ç„¶ç›‘å¬è¿™ç§åœ°å€éœ€è¦åœ¨ç½‘å¡ä¸Šåˆ›å»ºä¸€ä¸ªæ–°ip</p><p>å¯¹äºopæ¥è¯´ å¯ä»¥åœ¨webç®¡ç†ç•Œé¢ é€‰æ‹©ç½‘ç»œ æ–°å»ºä¸€ä¸ªæ¥å£ åŒºåŸŸlan è®¾å¤‡br-lan åœ°å€ä¸º<code>172.16.3.53</code></p><p>å¯¹äºç›‘å¬53ç«¯å£ã€ä½ çš„æœ¬åœ°dnsmasqå¯èƒ½ä¼šåŠ«æŒè¿™ä¸ªç«¯å£</p><p>åœ¨æ­¤æˆ‘ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯å…³é—­dnsmasq</p><pre><code>service dnsmasq stopservice dnsmasq disable</code></pre><p>ç„¶åç”±äºæˆ‘çš„dnsmasqä¼šä¸çŸ¥é“æ€ä¹ˆç€å¤æ´» æˆ‘å†™äº†ä¸€ä¸ªè„šæœ¬æ¥æŒ‰æ­»ä»–</p><pre><code>nano /root/stop_dnsmasq_if_running.sh</code></pre><pre><code class="bash">#!/bin/sh # æ£€æŸ¥ dnsmasq æ˜¯å¦åœ¨è¿è¡Œåœ¨ç«¯å£53ä¸Šif netstat -tlunpa | grep &#39;:53 &#39; | grep -q &#39;dnsmasq&#39;; then    service dnsmasq stopfi</code></pre><pre><code>crontab -e</code></pre><pre><code>* * * * * /root/stop_dnsmasq_if_running.sh</code></pre><p>è¿™ä¸ªçš„æ„æ€æ˜¯ä¸€ä¸ªå®šæ—¶è„šæœ¬ æ¯åˆ†é’Ÿæ£€æµ‹ä¸€ä¸‹ å¦‚æœä»–å¼€ç€ å°±ç»™ä»–å…³æ‰</p><h4 id="å¯åŠ¨pdns"><a href="#å¯åŠ¨pdns" class="headerlink" title="å¯åŠ¨pdns"></a>å¯åŠ¨pdns</h4><pre><code>service pdns restart</code></pre><p>é…ç½®è‡ªå·±çš„å­åŸŸ</p><pre><code>pdnsutil create-zone ts.dn11 ns1.ts.dn11</code></pre><p>å…¶ä¸­tsæ¢æˆä½ æƒ³ç”¨çš„åŸŸå</p><pre><code>pdnsutil edit-zone ts.dn11</code></pre><p>edit-zoneä¼šå”¤é†’å«editorçš„ç¼–è¾‘å™¨ï¼Œå¦‚æœä½ æ²¡æœ‰è¿™ä¸ªå«editorçš„ç¼–è¾‘å™¨ å¯ä»¥å†™ä¸€ä¸‹ç¯å¢ƒå˜é‡</p><pre><code>nano /etc/profile</code></pre><p>æ·»åŠ ä¸€è¡Œ</p><pre><code>export EDITOR=/usr/bin/nano</code></pre><p>(opçš„nanoé»˜è®¤å®‰è£…ä½ç½®åœ¨è¿™é‡Œã€å…¶ä»–ä½ æƒ³é…çš„è‡ªç”±å‘æŒ¥)</p><pre><code>source /etc/profile</code></pre><p>æ‰“å¼€edit-zoneå å†™å…¥</p><pre><code>; Warning - every name in this file is ABSOLUTE!$ORIGIN .ts.dn11 3600    IN      SOA     ns1.ts.dn11 hostmaster.ts.dn11 2023093018 60 30 604800 60ts.dn11 3600    IN      NS      ns1.ts.dn11.ns1.ts.dn11     3600    IN      A     172.16.3.53ts.dn11 60      IN      A       172.16.3.1</code></pre><p>è§£é‡Šï¼šSOAè®°å½•é‡Œç¬¬ä¸€ä¸ªå€¼æ˜¯ä½ åŸŸåæƒå¨æœåŠ¡å™¨æ‰€åœ¨çš„NSã€ç¬¬äºŒä¸ªä¸ºé‚®ç®±ã€ç¬¬ä¸‰ä¸ªä¸ºæµæ°´å·ï¼ˆæ ¼å¼YYYYMMDD+2ä½é¡ºåºå·ï¼‰ï¼ˆå¦‚æœä½ ä¸æ”¹çš„è¯pdnsä¼šè‡ªåŠ¨å¸®ä½ é¡ºå»¶æµæ°´å·ï¼‰ã€ç¬¬å››ä¸ªä¸ºåˆ·æ–°é—´éš”ã€ç¬¬äº”ä¸ªä¸ºé‡è¯•é—´éš”ã€ç¬¬å…­ä¸ªä¸ºè¿‡æœŸæ—¶é—´é•¿ã€ç¬¬ä¸ƒä¸ªä¸ºTTLï¼ˆç”Ÿå­˜æ—¶é—´å€¼ã€æ„ä¸ºç¼“å­˜è¿‡æœŸæ—¶é—´ã€è®¾ç½®ä¸º60sï¼‰</p><p>æœ€åä¸€è¡Œå°±æ˜¯ç»™ä½ çš„åŸŸååŠ ä¸€ä¸ªAè§£æ</p><h4 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h4><pre><code>dig a ts.dn11 @172.16.3.53 -p 53</code></pre><p>å¦‚æœè¿”å›ç±»ä¼¼å¦‚ä¸‹å†…å®¹åˆ™æˆåŠŸ</p><pre><code>root@OP:~# dig a ts.dn11 @172.16.3.53 -p 53; &lt;&lt;&gt;&gt; DiG 9.18.16 &lt;&lt;&gt;&gt; a ts.dn11 @172.16.3.53 -p 53;; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 58804;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1;; WARNING: recursion requested but not available;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 1232;; QUESTION SECTION:;ts.dn11.                       IN      A;; ANSWER SECTION:ts.dn11.                60      IN      A       172.16.3.1;; Query time: 0 msec;; SERVER: 172.16.3.53#53(172.16.3.53) (UDP);; WHEN: Sun Oct 15 18:55:04 CST 2023;; MSG SIZE  rcvd: 52</code></pre><h4 id="é…ç½®TLDåŸŸã€æ‹‰å–åŒæ­¥"><a href="#é…ç½®TLDåŸŸã€æ‹‰å–åŒæ­¥" class="headerlink" title="é…ç½®TLDåŸŸã€æ‹‰å–åŒæ­¥"></a>é…ç½®TLDåŸŸã€æ‹‰å–åŒæ­¥</h4><p>å†…ç½‘ç”¨æˆ·éœ€è¦è®¿é—® <a href="http://172.16.7.102:8083/login">http://172.16.7.102:8083/login</a> ï¼ˆè´¦å·å¯†ç dn11ï¼‰æ¥é…ç½®è‡ªå·±çš„åŸŸåæƒå¨çš„nsæŒ‡å‘</p><p>ç‚¹å‡»dn11åŸŸã€ç‚¹å‡» add record ã€æ·»åŠ ä¸¤æ¡è®°å½•</p><pre><code>ns1.ts    A      172.16.3.53ts        NS     ns1.ts.dn11.</code></pre><p>ä¹‹åç‚¹å‡» save ç„¶åç‚¹å‡» apply changes</p><p>è§£é‡Šï¼šns1æ˜¯ä½ æœ¬åœ°è‡ªå·±å¯çš„åŸŸåæƒå¨æœåŠ¡å™¨çš„åœ°å€</p><p>ç„¶åå›åˆ°æœ¬åœ° è¾“å…¥</p><pre><code>pdnsutil create-zone dn11</code></pre><p>åˆ›å»ºdn11åŸŸ</p><pre><code>pdnsutil edit-zone dn11</code></pre><p>ä¿®æ”¹é‡Œé¢çš„soaå€¼ä¸º</p><pre><code>dn11    300     IN      SOA     a.root.dn11 hostmaster.dn11 1 60 60 604800 60</code></pre><p>è§£é‡Šï¼šæµæ°´å·å¡«å° ä¾¿äºæ‹‰å–ä¸Šæ¸¸çš„åŒæ­¥</p><p>ç„¶åå†™æ•°æ®åº“å¯ç”¨ä¸»ä»åŒæ­¥</p><pre><code>sqlite3 /etc/powerdns/pdns.sqlite3</code></pre><p>è¿›å…¥sqliteå‘½ä»¤è¡Œ</p><p>å…ˆå¯ç”¨çœ‹å¤´</p><pre><code>sqlite&gt; .header yes</code></pre><pre><code>sqlite&gt; select * from domains;id|name|master|last_check|type|notified_serial|account|options|catalog1|ts.dn11|||NATIVE||||2|dn11|||NATIVE||||</code></pre><p>é‡Œé¢å¤§æ¦‚ä¹Ÿè®¸æ˜¯è¿™æ ·ã€ç„¶åå†™æ•°æ®åº“åŒæ­¥ä¸Šæ¸¸</p><pre><code>UPDATE domainsSET master = &#39;172.16.7.53&#39;, type = &#39;SLAVE&#39;WHERE name = &#39;dn11&#39;;</code></pre><p>å†™å®ŒæŒ‰ ctrl + D é€€å‡ºsqliteå‘½ä»¤è¡Œ</p><p>ç„¶åä½¿ç”¨</p><pre><code>pdns_control retrieve dn11</code></pre><p>å¼ºåˆ¶æ‹‰å–ä¸€ä¸‹dn11çš„è®°å½•</p><p>æœ€åçœ‹ä¸‹è‡ªå·±çš„è®°å½•æœ‰æ²¡æœ‰è¢«åŒæ­¥</p><pre><code>root@OP:~# pdnsutil list-zone dn11</code></pre><p>æ£€æŸ¥ä¸€ä¸‹</p><pre><code>root@OP:~# dig ns ts.dn11 @172.16.3.53 -p 53; &lt;&lt;&gt;&gt; DiG 9.18.16 &lt;&lt;&gt;&gt; ns ts.dn11 @172.16.3.53 -p 53;; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 7351;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1;; WARNING: recursion requested but not available;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 1232;; QUESTION SECTION:;ts.dn11.                       IN      NS;; ANSWER SECTION:ts.dn11.                60      IN      NS      172.16.3.53.;; Query time: 0 msec;; SERVER: 172.16.3.53#53(172.16.3.53) (UDP);; WHEN: Sun Oct 15 19:12:09 CST 2023;; MSG SIZE  rcvd: 61</code></pre><h4 id="é…ç½®pdns-recursor"><a href="#é…ç½®pdns-recursor" class="headerlink" title="é…ç½®pdns_recursor"></a>é…ç½®pdns_recursor</h4><pre><code>nano /etc/powerdns/recursor.conf</code></pre><p>å†™å…¥</p><pre><code># æ¥å—å“ªäº›IPçš„æŸ¥è¯¢è¯·æ±‚ï¼Œ0.0.0.0/0è¡¨ç¤ºå…¨éƒ¨allow-from=0.0.0.0/0# æœ¬åœ°ç›‘å¬çš„æ¥å£IPåœ°å€local-address=172.16.255.53:53 172.16.255.53:5300# å…³é—­dnssecåŠŸèƒ½ï¼Œ4.5ç‰ˆæœ¬åé»˜è®¤å¼€å¯dnssec=offdont-query=forward-zones-recurse=dn11=172.16.3.53,.=223.5.5.5</code></pre><p>è§£é‡Šï¼š</p><p>æœ¬åœ°ç›‘å¬çš„ipåœ°å€è¿™é‡Œä½¿ç”¨anycastã€åŒæ ·çš„ä½ éœ€è¦åœ¨ä½ çš„ç½‘å¡é‡ŒåŠ ä¸€ä¸ªipä¸º172.16.255.53ï¼ˆç›‘å¬5300çš„åŸå› æ˜¯ã€å¦‚æœè·¯ç”±è·¯å¾„ä¸Šæœ‰äººå¼€äº†dnsmasqã€é‚£ä¹ˆè¿™ä¸ª53è¯·æ±‚ä¼šè¢«åŠ«æŒï¼‰</p><p>å¹¶ä¸”å®£å‘Š</p><pre><code>root@OP:~# cat /etc/bird.conf.........# å®£å‘Š 172.16.3.0/24 æ®µprotocol static &#123;    ipv4 &#123;        table BGP_table;        import all;        export none;    &#125;;    # åªæ˜¯ä¸ºäº†è®©BGPçš„è·¯ç”±è¡¨é‡Œå‡ºç°è¿™æ¡è·¯ç”±ï¼Œä¸è¦æ‹…å¿ƒ reject    # è¿™ä¸ªåŠ¨ä½œå…¶å®æ— æ‰€è°“ï¼Œreject è¿™ä¸ªåŠ¨ä½œå¹¶ä¸ä¼šè¢«å‘åˆ°å…¶ä»– AS    # åç»­å°†åœ¨å¯¼å‡ºåˆ° master4 çš„æ—¶å€™åˆ é™¤è¿™æ¡è·¯ç”±ï¼Œæœ¬åœ°ä¹Ÿä¸ä¼šæœ‰è¿™ä¸€æ¡    # è¯·ä¿®æ”¹ä¸ºä½ è‡ªå·±è¦å®£å‘Šçš„æ®µ    route 172.16.3.0/24 reject;    route 172.16.255.53/32 reject;&#125;.........root@OP:~# service bird restart</code></pre><p>dont-query&#x3D;çš„æ„æ€æ˜¯å…è®¸å†…ç½‘åœ°å€è¿›è¡ŒæŸ¥è¯¢ï¼ˆé»˜è®¤æ˜¯ç¦æ­¢çš„ã€æ‰€ä»¥è¿™é‡Œå¡«ç©ºï¼‰</p><p>forward-zones-recurse&#x3D;dn11&#x3D;172.16.3.53,.&#x3D;223.5.5.5</p><p>è¿™ä¸ªé€’å½’é…ç½®é¡¹çš„æ„æ€æ˜¯ï¼šå¦‚æœè¯·æ±‚åˆ°äº†dn11è¿™ä¸ªTLDå°±å»è¯·æ±‚ä½ è‡ªå·±æ­çš„nsã€å¦‚æœä¸æ˜¯è¿™ä¸ªåŸŸå°±å½“å…¬ç½‘å¤„ç†è½¬å‘ç»™å…¬ç½‘dns 223.5.5.5</p><p>ç„¶åé‡å¯</p><pre><code>service pdns-recursor restart</code></pre><p>æœ€åæµ‹è¯•ä¸€ä¸‹ã€è¯·æ±‚ä¸€ä¸‹ç½‘é‡Œå­˜åœ¨çš„åŸŸå</p><pre><code>root@OP:~# dig op.iraze.dn11 @172.16.255.53 -p 53; &lt;&lt;&gt;&gt; DiG 9.18.16 &lt;&lt;&gt;&gt; op.iraze.dn11 @172.16.255.53 -p 53;; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 4037;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 512;; QUESTION SECTION:;op.iraze.dn11.                 IN      A;; ANSWER SECTION:op.iraze.dn11.          60      IN      A       172.16.2.2;; Query time: 39 msec;; SERVER: 172.16.255.53#53(172.16.255.53) (UDP);; WHEN: Sun Oct 15 19:23:32 CST 2023;; MSG SIZE  rcvd: 58</code></pre><h3 id="2-dockeræ‹‰é•œåƒ-è£…pdns-admin-webç•Œé¢ç®¡ç†"><a href="#2-dockeræ‹‰é•œåƒ-è£…pdns-admin-webç•Œé¢ç®¡ç†" class="headerlink" title="2.dockeræ‹‰é•œåƒ è£…pdns-admin webç•Œé¢ç®¡ç†"></a>2.dockeræ‹‰é•œåƒ è£…pdns-admin webç•Œé¢ç®¡ç†</h3><pre><code>[root@gs-fedora Pdns]# cat docker-compose.yml version: &quot;3&quot;services:  pdns:    image: zhonger/pdns:latest    restart: always    ports:      - &quot;172.16.7.53:53:53/tcp&quot;      - &quot;172.16.7.53:53:53/udp&quot;    environment:      - PDNS_launch=gsqlite3      - PDNS_gsqlite3_database=/var/lib/powerdns/pdns.sqlite3      - PDNS_webserver_address=0.0.0.0      - PDNS_webserver_allow_from=0.0.0.0/0      - PDNS_allow_axfr_ips=0.0.0.0/0,::1      - PDNS_allow_dnsupdate_from=0.0.0.0/0,::1      - PDNS_allow_notify_from=0.0.0.0/0,::0      - PDNS_also_notify=172.16.3.53      - PDNS_master=yes      - PDNS_api=yes      - PDNS_api_key=0F34664B2C9CA2E1B84C5A6B4605C968    volumes:      - /etc/localtime:/etc/localtime:ro      - ./powerdns:/var/lib/powerdns    command: /bin/bash ./up.sh    privileged: true  db:    image: mysql:latest    environment:      - MYSQL_ALLOW_EMPTY_PASSWORD=yes      - MYSQL_DATABASE=powerdnsadmin      - MYSQL_USER=pdns       - MYSQL_PASSWORD=my_pdns    restart: always    volumes:      - /etc/localtime:/etc/localtime:ro      - ./pda-mysql:/var/lib/mysql    privileged: true  app:    image: zhonger/powerdns-admin:latest    restart: always    depends_on:      - db      - pdns    ports:      - &quot;8083:80&quot;    logging:      driver: json-file      options:        max-size: 50m    volumes:      - /etc/localtime:/etc/localtime:ro    environment:      - SQLALCHEMY_DATABASE_URI=mysql://pdns:my_pdns@db/powerdnsadmin      - GUNICORN_TIMEOUT=60      - GUNICORN_WORKERS=2      - GUNICORN_LOGLEVEL=DEBUG      - OFFLINE_MODE=False # True for offline, False for external resources     privileged: true</code></pre><pre><code>[root@gs-fedora Pdns]# cat up.sh service system-resolve stopip addr add 172.16.7.53 dev eno1</code></pre><p>è¿™ä¸ªkeyæ˜¯æˆ‘éšä¾¿å†™çš„ã€ä½ å¯ä»¥è‡ªå·±ç”Ÿæˆä¸€ä¸ª</p><p>PDNS_api_key&#x3D;0F34664B2C9CA2E1B84C5A6B4605C968</p><p>åœ¨powerdns admin settings pdnsä¸­å¡«å†™è¿™ä¸ªkey å¡«å¥½å åœ¨ä¸Šå±‚çš„PowerDNS server configuration &amp; statisticsé‡Œèƒ½çœ‹åˆ°ä¸€ç³»åˆ—pdnsçš„å­—æ®µ</p><h2 id="é…ç½®dnsåˆ†æµ-MosDNS"><a href="#é…ç½®dnsåˆ†æµ-MosDNS" class="headerlink" title="é…ç½®dnsåˆ†æµ MosDNS"></a>é…ç½®dnsåˆ†æµ MosDNS</h2><p>è£…åŒ…</p><pre><code>opkg updateopkg install mosdns</code></pre><p>æ³¨æ„ä¸è¦è£… luci-app-mosdns æˆ‘æ„Ÿè§‰ä¸å¥½ç”¨</p><p>æ”¹é…ç½®</p><pre><code>nano /etc/mosdns/config.yaml</code></pre><pre><code>log:  level: info  file: &quot;/tmp/mosdns.log&quot;api:  http: &quot;0.0.0.0:9091&quot;include: []plugins:  - tag: main_sequence    type: sequence    args:      # hduå†…ç½‘dnsè§£æ      - matches: qname hdu.edu.cn        exec: forward 192.168.0.1:53      # dn11å†…ç½‘dnsè§£æ      - matches: qname dn11        exec: forward 172.16.255.53:5300      # å…¶ä»–dnsè§£æ      - matches: &quot;!qname hdu.edu.cn dn11&quot;        exec: forward 223.5.5.5:53  # å¯åŠ¨ç«¯å£å’Œip  - tag: udp_server_2    type: udp_server    args:      entry: main_sequence      listen: &quot;172.16.3.13:53&quot;  - tag: tcp_server_2    type: tcp_server    args:      entry: main_sequence      listen: &quot;172.16.3.13:53&quot;</code></pre><p>åŒæ ·çš„ å¯åŠ¨éœ€è¦ä½ br-lanç½‘å¡é‡ŒåŠ ä¸€ä¸ª 172.16.3.13è¿™ä¸ªipåœ°å€</p><pre><code>service mosdns restart</code></pre>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/DN11/">DN11</category>
      
      
      <comments>https://xyxsw.ltd/2023/10/18/DNS%20%E4%B8%8E%20Pdns%20OpenWrt%20DNS%20%E9%80%92%E5%BD%92%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%20MosDNS%20%E5%88%86%E6%B5%81/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>DN11 ä½¿ç”¨ EBGP é‡åˆ†å‘ IBGP OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰</title>
      <link>https://xyxsw.ltd/2023/09/20/DN11%20%E4%BD%BF%E7%94%A8%20EBGP%20%E9%87%8D%E5%88%86%E5%8F%91%20IBGP%20OSPF%EF%BC%88%E5%90%8Cas%E5%86%85%E9%83%A8peer%EF%BC%89/</link>
      <guid>https://xyxsw.ltd/2023/09/20/DN11%20%E4%BD%BF%E7%94%A8%20EBGP%20%E9%87%8D%E5%88%86%E5%8F%91%20IBGP%20OSPF%EF%BC%88%E5%90%8Cas%E5%86%85%E9%83%A8peer%EF%BC%89/</guid>
      <pubDate>Tue, 19 Sep 2023 16:16:07 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;DN11-ä½¿ç”¨-EBGP-é‡åˆ†å‘-IBGP-OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰&quot;&gt;&lt;a href=&quot;#DN11-ä½¿ç”¨-EBGP-é‡åˆ†å‘-IBGP-OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰&quot; class=&quot;headerlink&quot; title=&quot;DN11 ä½¿ç”¨ EBGP é‡åˆ†å‘ I</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="DN11-ä½¿ç”¨-EBGP-é‡åˆ†å‘-IBGP-OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰"><a href="#DN11-ä½¿ç”¨-EBGP-é‡åˆ†å‘-IBGP-OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰" class="headerlink" title="DN11 ä½¿ç”¨ EBGP é‡åˆ†å‘ IBGP OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰"></a>DN11 ä½¿ç”¨ EBGP é‡åˆ†å‘ IBGP OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰</h1><h2 id="è¿æ¥-wg-peer"><a href="#è¿æ¥-wg-peer" class="headerlink" title="è¿æ¥ wg peer"></a>è¿æ¥ wg peer</h2><p>1.æœ¬åœ°æœºå™¨</p><pre><code class="nginx"># wg_aws.conf[Interface]# ä½ çš„ç§é’¥PrivateKey = &lt;PRIVATEKAY&gt;# ä½ å¼€çš„ç«¯å£å·ï¼ˆæ³¨æ„é˜²ç«å¢™ï¼‰ListenPort = &lt;PORT&gt;PostUp = /sbin/ip addr add dev %i &lt;your ip&gt; peer &lt;peer ip&gt;# ä¸åˆ›å»ºè·¯ç”±ï¼ˆç”±è·¯ç”±åè®®æ¥ç®¡ï¼‰Table = off[Peer]# ä½ å¯¹ç«¯çš„ipå’Œç«¯å£ï¼ˆå¤–ç½‘æœºå™¨ï¼‰Endpoint = &lt;ENDPOINT&gt;:&lt;PORT&gt;# ä½ å¯¹ç«¯çš„å…¬é’¥ï¼ˆå¤–ç½‘æœºå™¨ï¼‰PublicKey = &lt;PUBLICKEY&gt; AllowedIPs = 0.0.0.0/0</code></pre><p>2.å¤–ç½‘æœºå™¨</p><pre><code class="nginx"># wg_ts_home.conf[Interface]# ä½ çš„ç§é’¥PrivateKey = &lt;PRIVATEKAY&gt;# ä½ å¼€çš„ç«¯å£å·ï¼ˆæ³¨æ„é˜²ç«å¢™ï¼‰ListenPort = &lt;PORT&gt;PostUp = /sbin/ip addr add dev %i &lt;your ip&gt; peer &lt;peer ip&gt;# ä¸åˆ›å»ºè·¯ç”±ï¼ˆç”±è·¯ç”±åè®®æ¥ç®¡ï¼‰Table = off# wg é»˜è®¤çš„ MTU æ˜¯ 1420 ï¼ˆè¿™é‡Œä¸»è¦æ’é™¤å¤–ç½‘æœºå™¨ MTU å¼‚å¸¸çš„é—®é¢˜ï¼Œæ´é‡Œæ‰“æ´ä¸è¦é…è¿™ä¸ªï¼‰MTU = 1420[Peer]# ä½ å¯¹ç«¯çš„ipå’Œç«¯å£ï¼ˆæœ¬åœ°æœºå™¨ï¼‰Endpoint = &lt;ENDPOINT&gt;:&lt;PORT&gt;# ä½ å¯¹ç«¯çš„å…¬é’¥ï¼ˆæœ¬åœ°æœºå™¨ï¼‰PublicKey = &lt;PUBLICKEY&gt; AllowedIPs = 0.0.0.0/0</code></pre><h2 id="birdé…ç½®"><a href="#birdé…ç½®" class="headerlink" title="birdé…ç½®"></a>birdé…ç½®</h2><p>åˆ›å»º</p><pre><code class="bash">/etc/bird.conf/etc/bird/ospf.conf/etc/bird/ibgp.conf/etc/bird/bgp.conf</code></pre><p>è¿™å››ä¸ªæ–‡ä»¶</p><p>å†…ç½‘ openwrt å’Œå¤–ç½‘æœºå™¨ä¸Šå‡ ä¹éœ€è¦ç›¸åŒçš„è¿™å››ä¸ªæ–‡ä»¶ï¼ˆå”¯ä¸€ä¸åŒçš„æ˜¯ bgp neighbor é‚£é‡Œï¼‰</p><blockquote><p>æ–‡ä¸­çš„ 172.16.3.254ã€172.16.3.91 æ”¹ä¸ºä½ æœ¬æœºï¼ˆä½ çš„æœ¬åœ°æœºå™¨æˆ–è€…å¤–ç½‘æœºå™¨ï¼‰çš„éš§é“ip<br>æ–‡ä¸­çš„ 4211112243 æ”¹ä¸ºä½ çš„ asn ï¼ˆåˆ«æ•´å‡ºä¿© as å·å°±è¡Œï¼‰</p></blockquote><h3 id="etc-bird-conf"><a href="#etc-bird-conf" class="headerlink" title="&#x2F;etc&#x2F;bird.conf"></a>&#x2F;etc&#x2F;bird.conf</h3><pre><code class="nginx">log syslog all;debug protocols all;router id 172.16.3.254;ipv4 table BGP_table;ipv4 table OSPF_table;ipv4 table IBGP_table;protocol device&#123;&#125;protocol kernel&#123;    ipv4 &#123;        export all;        import none;    &#125;;&#125;include &quot;/etc/bird/ospf.conf&quot;;include &quot;/etc/bird/ibgp.conf&quot;;include &quot;/etc/bird/bgp.conf&quot;;protocol pipe PIPE_OSPF_BGP&#123;    table BGP_table;    peer table OSPF_table;    import all;    export none;&#125;protocol pipe PIPE_BGP_MASTER4&#123;    table master4;    peer table BGP_table;    import filter &#123;        if source = RTS_STATIC then reject;        krt_prefsrc = 172.16.3.254;        accept;    &#125;;    export none;&#125;protocol pipe PIPE_IBGP_BGP &#123;    table BGP_table;    peer table IBGP_table;    import filter &#123;        if source = RTS_OSPF then reject;        accept;    &#125;;    export filter &#123;        if source = RTS_STATIC then reject;        accept;    &#125;;&#125;# å®£å‘Š 172.16.3.0/24 æ®µprotocol static &#123;    ipv4 &#123;        table BGP_table;        import all;        export none;    &#125;;    # åªæ˜¯ä¸ºäº†è®©BGPçš„è·¯ç”±è¡¨é‡Œå‡ºç°è¿™æ¡è·¯ç”±ï¼Œä¸è¦æ‹…å¿ƒ reject    # è¿™ä¸ªåŠ¨ä½œå…¶å®æ— æ‰€è°“ï¼Œreject è¿™ä¸ªåŠ¨ä½œå¹¶ä¸ä¼šè¢«å‘åˆ°å…¶ä»– AS    # åç»­å°†åœ¨å¯¼å‡ºåˆ° master4 çš„æ—¶å€™åˆ é™¤è¿™æ¡è·¯ç”±ï¼Œæœ¬åœ°ä¹Ÿä¸ä¼šæœ‰è¿™ä¸€æ¡    # è¯·ä¿®æ”¹ä¸ºä½ è‡ªå·±è¦å®£å‘Šçš„æ®µ    route 172.16.3.0/24 reject;&#125;</code></pre><h3 id="etc-bird-ibgp-conf"><a href="#etc-bird-ibgp-conf" class="headerlink" title="&#x2F;etc&#x2F;bird&#x2F;ibgp.conf"></a>&#x2F;etc&#x2F;bird&#x2F;ibgp.conf</h3><pre><code class="nginx">template bgp ibgp_peers &#123;    local as 4211112243;    source address 172.16.3.254;    multihop;    ipv4 &#123;        next hop self;        igp table OSPF_table;        table IBGP_table;        import all;        export all;    &#125;;&#125;protocol bgp ibgp_aws from ibgp_peers &#123;    neighbor 172.16.3.91 internal;&#125;</code></pre><h2 id="bgp-conf"><a href="#bgp-conf" class="headerlink" title="bgp.conf"></a>bgp.conf</h2><pre><code class="nginx">template bgp BGP_peers &#123;    local 172.16.3.254 as 4211112243;    ipv4 &#123;        table BGP_table;        import all;        export filter &#123;            if source ~ [RTS_STATIC, RTS_BGP, RTS_OSPF] then accept;            reject;        &#125;;    &#125;;&#125;# collector é…ç½®protocol bgp collect_self &#123;    local as 4211112243;    multihop;    neighbor 172.16.255.1 as 4211110101;    ipv4 &#123;        add paths tx;        table BGP_table;        import none;        export filter &#123;            if source ~ [RTS_BGP,RTS_STATIC] then accept;        &#125;;    &#125;;&#125;# å¦‚ä¸‹çš„ neighbor é…ç½®åº”æŒ‰ç…§ wg å®é™…é“¾æ¥æ•°é‡ä¸ºå‡†# ä»æ¨¡æ¿å®šä¹‰ä¸€ä¸ªBGPé‚»å±…# protocol bgp protocol åç§° from æ¨¡æ¿åç§°protocol bgp baimeow from BGP_peers &#123;   neighbor 172.16.4.254%baimeow as 4220084444;&#125;# å¦‚ä¸‹ä¸º å¦‚æœä½ æœ‰ç‰©ç†é“¾è·¯çš„ BGP é…ç½® ï¼ˆæ²¡æœ‰çš„åˆ«æŠ„ï¼‰# protocol bgp Meva_phy from BGP_peers &#123;#     source address 172.16.3.1;#     neighbor 172.16.3.97%&#39;br-lan&#39; as 4211111024;# #     ipv4 &#123;#     import filter &#123;#             if bgp_path ~ [= 4211111024 =] then bgp_local_pref = 120;#             bgp_next_hop = 172.16.3.97;#             accept;#         &#125;;#     &#125;;# &#125;</code></pre><h2 id="ospf-conf"><a href="#ospf-conf" class="headerlink" title="ospf.conf"></a>ospf.conf</h2><pre><code class="nginx">protocol ospf v2 ospf_aws &#123;        ipv4 &#123;                table OSPF_table;                export all;                import all;        &#125;;        area 0.0.0.0 &#123;                interface &quot;wg_aws&quot; &#123;                        cost 20;                        type ptp;                &#125;;                interface &quot;lo&quot; &#123;                        type bcast;                &#125;;        &#125;;&#125;</code></pre>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/DN11/">DN11</category>
      
      
      <comments>https://xyxsw.ltd/2023/09/20/DN11%20%E4%BD%BF%E7%94%A8%20EBGP%20%E9%87%8D%E5%88%86%E5%8F%91%20IBGP%20OSPF%EF%BC%88%E5%90%8Cas%E5%86%85%E9%83%A8peer%EF%BC%89/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>go-zero apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/08/30/go-zero%20api%E6%96%87%E4%BB%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/08/30/go-zero%20api%E6%96%87%E4%BB%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Wed, 30 Aug 2023 14:14:03 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;go-zero-apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶&quot;&gt;&lt;a href=&quot;#go-zero-apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶&quot; class=&quot;headerlink&quot; title=&quot;go-zero apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶&quot;&gt;&lt;/a&gt;go-zero apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶&lt;/h2&gt;&lt;h2 i</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="go-zero-apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶"><a href="#go-zero-apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶" class="headerlink" title="go-zero apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶"></a>go-zero apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶</h2><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p>.apiæ–‡ä»¶æ˜¯go-zeroè‡ªåˆ›çš„æ–‡ä»¶æ ¼å¼ï¼Œå’Œprotobufçš„è¯­æ³•æœ‰å¾ˆå¤§ä¸åŒï¼Œä½†å¥½åœ¨ä¸éš¾ç†è§£ã€‚å…·ä½“è¯­æ³•ä»‹ç»å¯çœ‹å®˜ç½‘æ–‡æ¡£ï¼š<a href="https://link.juejin.cn/?target=https://go-zero.dev/docs/tasks/dsl/api">go-zero.dev&#x2F;docs&#x2F;tasks&#x2F;â€¦</a></p><p>å…ˆç¼–å†™æ¥å£å®šä¹‰ï¼Œç„¶åç›´æ¥ä¸€æ¬¡æ€§ä½¿ç”¨ goctl ç”Ÿæˆä»£ç ã€‚</p><p>apiæ–‡ä»¶æ”¯æŒå°†ä¸€ä¸ªæ•°æ®ç»“æ„åµŒå…¥å¦ä¸€ä¸ªç»“æ„ä¸­ï¼Œä¾¿äºç¼–å†™ç»Ÿä¸€çš„å“åº”æ ¼å¼ã€‚</p><p>é¦–å…ˆå®šä¹‰ç©ºè¯·æ±‚ç»“æ„å’ŒåŸºç¡€çš„å“åº”ç»“æ„ï¼š</p><pre><code class="api">syntax = &quot;v1&quot;    type Empty &#123;  &#125;    type BasicResponse &#123;      StatusCode int32 `json:&quot;status_code&quot;`      StatusMsg string `json:&quot;status_msg&quot;`  &#125;</code></pre><p>typeå…³é”®å­—ä¹Ÿæ”¯æŒä»£ç å—ï¼Œåªéœ€è¦ç”¨<code>type()</code>åŒ…è£¹ï¼Œå°±å¯ä»¥çœå»å…³é”®è¯ã€‚ä¸‹é¢å®šä¹‰äº†æ³¨å†Œå’Œç™»å½•çš„è¯·æ±‚å’Œå“åº”ç»“æ„ã€‚</p><pre><code class="go">type (      RegisterRequest struct &#123;          Username string `form:&quot;username&quot;`          Password string `form:&quot;password&quot;`      &#125;      RegisterResponse struct &#123;          BasicResponse          UserId int64 `json:&quot;user_id&quot;`       &#125;  )    type (      LoginRequest struct &#123;          Username string `form:&quot;username&quot;`          Password string `form:&quot;password&quot;`      &#125;      LoginResponse struct &#123;          BasicResponse          UserId int64 `json:&quot;user_id&quot;`      &#125;  )</code></pre><p>æœ€åè¿˜è¦å®šä¹‰ä¸€ä¸ªè·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£ã€‚å› ä¸ºæœ¬æ–‡ä¸æ¶‰åŠåˆ›ä½œã€ç¤¾äº¤æ–¹é¢çš„ä¸šåŠ¡é€»è¾‘å®ç°ï¼Œæ‰€ä»¥<code>User</code>ç»“æ„å…¶å®æ²¡ä»€ä¹ˆå¯ä»¥è¿”å›çš„ä¿¡æ¯ã€‚ä¹‹åå°†å…¶åµŒå…¥å“åº”ç±»å‹çš„<code>user</code>å­—æ®µä¸­ï¼š</p><pre><code class="go">type (      User &#123;          Id int64 `json:&quot;id&quot;`          Name string `json:&quot;name&quot;`      &#125;          GetUserInfoRequest struct &#123;          UserId int64 `form:&quot;user_id&quot;`       &#125;      GetUserInfoResponse struct &#123;          BasicResponse          User User `json:&quot;user&quot;`      &#125;  )</code></pre><h2 id="å®šä¹‰æ¥å£è·¯ç”±"><a href="#å®šä¹‰æ¥å£è·¯ç”±" class="headerlink" title="å®šä¹‰æ¥å£è·¯ç”±"></a>å®šä¹‰æ¥å£è·¯ç”±</h2><p>æŠŠæ‰€æœ‰apiè·¯ç”±é…ç½®å¥½</p><pre><code class="api">@server(      group: app  )  service app &#123;      @handler Ping      get /ping (Empty) returns (BasicResponse)  &#125;    @server(      group: user      prefix: /douyin/user  )  service app &#123;      @handler Register      post /register (RegisterRequest) returns (RegisterResponse)        @handler Login      post /login (LoginRequest) returns (LoginResponse)        @handler GetUserInfo      get / (GetUserInfoRequest) returns (GetUserInfoResponse)  &#125;</code></pre><p>ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p><ol><li>å¦‚æœserviceä»£ç å—æœ‰å¤šä¸ªï¼Œè¦æ±‚åé¢çš„åç§°ï¼ˆå³â€œappâ€ï¼‰ç›¸åŒ</li><li>å½¢å¦‚è£…é¥°å™¨çš„@serverä»£ç å—å¯ä»¥åšä»£ç åˆ†ç»„ã€è·¯ç”±å‰ç¼€ã€é‰´æƒã€ä¸­é—´ä»¶ç­‰å¤šç§é…ç½®ã€‚<ul><li>è¿™é‡ŒæŠŠè·¯ç”±åˆ†æˆappå’Œuserä¸¤ç»„ï¼Œä¹‹åç”Ÿæˆæ—¶ä¼šåˆ†ç»„æ”¾åœ¨æ–‡ä»¶å¤¹é‡Œ</li><li>ç»™userç»„è®¾ç½®äº†<code>/douyin/user</code>çš„è·¯ç”±å™¨å‰ç¼€ï¼Œå°±ä¸ç”¨é‡å¤å†™äº†</li><li>é‰´æƒå’Œä¸­é—´ä»¶é…ç½®ä¸‹æ–‡ä¼šæåˆ°</li></ul></li><li>æ¯ä¸ªæ¥å£éœ€è¦ä¸€ä¸ª<code>handler</code>ï¼Œå…¶å®å°±æ˜¯ç»™å‡½æ•°èµ·å</li><li>æ¥å£å®šä¹‰çš„æ ¼å¼æ˜¯ <code>&lt;HTTPæ–¹æ³•&gt; &lt;å­è·¯å¾„&gt; (&lt;è¯·æ±‚æ•°æ®ç»“æ„&gt;) returns (&lt;å“åº”æ•°æ®ç»“æ„&gt;) </code></li></ol><h2 id="åˆ›å»ºé¡¹ç›®æ¨¡æ¿"><a href="#åˆ›å»ºé¡¹ç›®æ¨¡æ¿" class="headerlink" title="åˆ›å»ºé¡¹ç›®æ¨¡æ¿"></a>åˆ›å»ºé¡¹ç›®æ¨¡æ¿</h2><p>è¿™æ¬¡ä¸æ˜¯æ–°å»ºç¤ºä¾‹é¡¹ç›®ï¼Œè€Œæ˜¯æ ¹æ®ç°æœ‰çš„apiå£°æ˜åˆ›å»º</p><p>å®‰è£… goctl</p><p><a href="https://go-zero.dev/docs/tasks/installation/goctl">https://go-zero.dev/docs/tasks/installation/goctl</a></p><pre><code class="bash">$ GO111MODULE=on go install github.com/zeromicro/go-zero/tools/goctl@latest</code></pre><p>å®‰è£… protoc</p><p><a href="https://go-zero.dev/docs/tasks/installation/protoc">https://go-zero.dev/docs/tasks/installation/protoc</a></p><pre><code class="bash">$ goctl env check --install --verbose --force</code></pre><pre><code class="shell">goctl api go --api app.api --dir=. --style=goZero </code></pre><p>è¿™ä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆé¡¹ç›®æ–‡ä»¶ã€‚ä¹‹åè¿›å…¥ç›®å½•å®‰è£…ä¾èµ–ï¼š</p><pre><code class="shell">go mod tidy</code></pre><h2 id="æµ‹è¯•Pingæ¥å£"><a href="#æµ‹è¯•Pingæ¥å£" class="headerlink" title="æµ‹è¯•Pingæ¥å£"></a>æµ‹è¯•Pingæ¥å£</h2><p>Pingæ¥å£çš„é€»è¾‘åœ¨<code>internal/logic/app/pingLogic.go</code>ï¼Œæ‰“å¼€æ–‡ä»¶å¹¶ç¼–è¾‘handlerå‡½æ•°ï¼š</p><pre><code class="go">func (l *PingLogic) Ping(req *types.Empty) (resp *types.BasicResponse, err error) &#123;      return &amp;types.BasicResponse&#123;        StatusCode: 0,        StatusMsg:  &quot;pong&quot;,    &#125;, nil&#125;</code></pre><p>è¿™é‡Œçš„å†™æ³•å’Œrpcå¾®æœåŠ¡æœ‰ç‚¹åŒºåˆ«ã€‚æ³¨æ„åˆ°ä¼ å…¥çš„<code>resp</code>æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥éœ€è¦<strong>æ‰‹åŠ¨åˆ›å»º</strong>ä¸€ä¸ªå“åº”ç»“æ„ä½“å¹¶è®¾ç½®é”®å€¼ã€‚</p><p>è¿™æ ·å°±ç®—å®ŒæˆPingæ¥å£äº†ï¼Œå¯ä»¥è¿è¡ŒæœåŠ¡ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/08/30/go-zero%20api%E6%96%87%E4%BB%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>gorm è¿›é˜¶ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/08/30/gorm%E8%BF%9B%E9%98%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/08/30/gorm%E8%BF%9B%E9%98%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Wed, 30 Aug 2023 11:21:58 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;gorm&quot;&gt;&lt;a href=&quot;#gorm&quot; class=&quot;headerlink&quot; title=&quot;gorm&quot;&gt;&lt;/a&gt;gorm&lt;/h2&gt;&lt;p&gt;å…³äºç®€å•çš„ gorm æ€»ç»“ å¯ä»¥çœ‹ä¸Šä¸€ç¯‡æ–‡ç«   gorm åˆä½“éªŒ ï½œ é’è®­è¥ç¬”è®°&lt;/p&gt;
&lt;h3 id=&quot;è½¯åˆ é™¤&quot;&gt;&lt;a h</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="gorm"><a href="#gorm" class="headerlink" title="gorm"></a>gorm</h2><p>å…³äºç®€å•çš„ gorm æ€»ç»“ å¯ä»¥çœ‹ä¸Šä¸€ç¯‡æ–‡ç«   gorm åˆä½“éªŒ ï½œ é’è®­è¥ç¬”è®°</p><h3 id="è½¯åˆ é™¤"><a href="#è½¯åˆ é™¤" class="headerlink" title="è½¯åˆ é™¤"></a>è½¯åˆ é™¤</h3><p><code>Gorm</code>æä¾›äº†è½¯åˆ é™¤çš„èƒ½åŠ›ï¼Œéœ€è¦åœ¨ç»“æ„ä½“ä¸­å®šä¹‰ä¸€ä¸ª<code>Deleted</code>å­—æ®µï¼Œæ­¤æ—¶å†è°ƒç”¨<code>Delete</code>åˆ é™¤å‡½æ•°ï¼Œåˆ™ä¼šç”Ÿæˆ<code>update</code>è¯­å¥ï¼Œå¹¶å°†<code>deleted</code>å­—æ®µèµ‹å€¼ä¸ºå½“å‰åˆ é™¤æ—¶é—´ã€‚</p><pre><code class="go">type Product struct &#123;    ID      uint    Code    string    Price   uint    Deleted gorm.DeletedAt&#125;</code></pre><p>å†æ¬¡æ‰§è¡Œåˆ é™¤æ“ä½œï¼š</p><pre><code class="go">godb.Delete(&amp;Product&#123;&#125;, 1)</code></pre><p>ç”Ÿæˆçš„<code>sql</code>ä¸ºï¼š</p><pre><code class="sql">UPDATE `product` SET `deleted`=&#39;2023-01-30 22:22:22.202&#39; WHERE `product`.`id` = 1 AND `product`.`deleted` IS NULL</code></pre><p>æŸ¥è¯¢è¢«è½¯åˆ é™¤çš„æ“ä½œï¼Œè¦ä½¿ç”¨<code>Unscoped</code>å‡½æ•°ï¼š</p><pre><code class="go">db.Unscoped().First(&amp;product, 2)</code></pre><p>æœ‰äº†<code>DeleteAt</code>å­—æ®µåï¼Œåˆ é™¤æ“ä½œå·²ç»å˜æˆäº†æ›´æ–°æ“ä½œï¼Œé‚£ä¹ˆæƒ³è¦ç‰©ç†åˆ é™¤æ€ä¹ˆåŠï¼Ÿä¹Ÿæ˜¯ä½¿ç”¨<code>Unscoped</code>å‡½æ•°ï¼š</p><pre><code class="go">db.Unscoped().Delete(&amp;Product&#123;&#125;, 1)</code></pre><h2 id="Gormäº‹åŠ¡"><a href="#Gormäº‹åŠ¡" class="headerlink" title="Gormäº‹åŠ¡"></a>Gormäº‹åŠ¡</h2><p><code>Gorm</code>æä¾›äº†<code>Begin</code>ã€<code>Commit</code>ã€<code>Rollback</code>æ–¹æ³•ç”¨äºä½¿ç”¨äº‹åŠ¡ã€‚</p><pre><code class="go">// å¼€å¯äº‹åŠ¡tx := db.Begin()if err := tx.Create(&amp;Product&#123;Code: &quot;D32&quot;, Price: 100&#125;).Error; err != nil &#123;    // å‡ºç°é”™è¯¯å›æ»š    tx.Rollback()    return&#125;if err := tx.Create(&amp;Product&#123;Code: &quot;D33&quot;, Price: 100&#125;).Error; err != nil &#123;    // å‡ºç°é”™è¯¯å›æ»š    tx.Rollback()    return&#125;// æäº¤äº‹åŠ¡tx.Commit()</code></pre><p>åœ¨å¼€å¯äº‹åŠ¡åï¼Œè°ƒç”¨å¢åˆ æ”¹æ“ä½œæ˜¯åº”è¯¥ä½¿ç”¨å¼€å¯äº‹åŠ¡è¿”å›çš„<code>tx</code>è€Œä¸æ˜¯<code>db</code>ã€‚</p><p><code>Gorm</code>è¿˜æä¾›äº†<code>Transaction</code>å‡½æ•°ç”¨äºè‡ªå®šæäº¤äº‹åŠ¡ï¼Œé¿å…ç”¨æˆ·æ¼å†™<code>Commit</code>ã€<code>Rollback</code>ã€‚</p><pre><code class="go">if err = db.Transaction(func(tx *gorm.DB) error &#123;    if err := db.Create(&amp;Product&#123;Code: &quot;D55&quot;, Price: 100&#125;).Error; err != nil &#123;        return err    &#125;    if err := db.Create(&amp;Product&#123;Code: &quot;D56&quot;, Price: 100&#125;).Error; err != nil &#123;        return err    &#125;    return nil&#125;); err != nil &#123;    return&#125;</code></pre><p>è¿™ç§å†™æ³•ï¼Œå½“å‡ºç°é”™è¯¯æ—¶ä¼šè‡ªåŠ¨è¿›è¡Œ<code>Rollback</code>ï¼Œå½“æ­£å¸¸æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨<code>Commit</code>ã€‚</p><h3 id="Hook"><a href="#Hook" class="headerlink" title="Hook"></a>Hook</h3><p>å½“æˆ‘ä»¬æƒ³åœ¨æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œå‰ååšä¸€äº›é¢å¤–çš„æ“ä½œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>Gorm</code>æä¾›çš„<code>Hook</code>èƒ½åŠ›ã€‚</p><p><code>Hook</code>æ˜¯åœ¨åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤ç­‰æ“ä½œä¹‹å‰ã€ä¹‹åè‡ªåŠ¨è°ƒç”¨çš„å‡½æ•°ï¼Œå¦‚æœä»»ä½•<code>Hook</code>è¿”å›é”™è¯¯ï¼Œ<code>Gorm</code>å°†åœæ­¢åç»­çš„æ“ä½œå¹¶å›æ»šäº‹åŠ¡ã€‚</p><p><code>Hook</code>ä¼šå¼€å¯é»˜è®¤äº‹åŠ¡ï¼Œæ‰€ä»¥ä¼šå¸¦æ¥äº†ä¸€äº›æ€§èƒ½æŸå¤±ã€‚</p><h3 id="æ€§èƒ½æé«˜"><a href="#æ€§èƒ½æé«˜" class="headerlink" title="æ€§èƒ½æé«˜"></a>æ€§èƒ½æé«˜</h3><p>å¯¹äºå†™æ“ä½œï¼ˆåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ï¼‰ï¼Œä¸ºäº†ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ï¼Œ<code>Gorm</code>ä¼šå°†ä»–ä»¬å°è£…åœ¨äº‹åŠ¡å†…è¿è¡Œï¼Œä½†æ˜¯è¿™æ ·ä¼šé™ä½æ€§èƒ½ï¼Œå¯ä»¥ä½¿ç”¨<code>SkipDefaultTransaction</code>å…³é—­é»˜è®¤äº‹åŠ¡ã€‚</p><p>ä½¿ç”¨<code>PrepareStmt</code>ç¼“å­˜é¢„ç¼–è¯‘è¯­å¥å¯ä»¥æé«˜åç»­è°ƒç”¨çš„é€Ÿåº¦ã€‚</p><pre><code class="go">db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  SkipDefaultTransaction: true,  PrepareStmt: true,&#125;)</code></pre><h2 id="Gormç”Ÿæ€"><a href="#Gormç”Ÿæ€" class="headerlink" title="Gormç”Ÿæ€"></a>Gormç”Ÿæ€</h2><p>Gormæ‹¥æœ‰éå¸¸ä¸°å¯Œçš„æ‰©å±•ç”Ÿæ€ï¼Œä¸‹é¢åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„æ‰©å±•ã€‚</p><ul><li>ä»£ç ç”Ÿæˆå·¥å…·:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/gen">github.com&#x2F;go-gorm&#x2F;gen</a></li><li>åˆ†ç‰‡åˆ†åº“æ–¹æ¡ˆ:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/sharding">github.com&#x2F;go-gorm&#x2F;shaâ€¦</a></li><li>æ‰‹åŠ¨ç´¢å¼•:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/hints">github.com&#x2F;go-gorm&#x2F;hinâ€¦</a></li><li>ä¹è§‚é”:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/optimisticlock">github.com&#x2F;go-gorm&#x2F;optâ€¦</a></li><li>è¯»å†™åˆ†ç¦»:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/dbresolver">github.com&#x2F;go-gorm&#x2F;dbrâ€¦</a></li><li>OpenTelemetryæ‰©å±•:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/opentelemetry">github.com&#x2F;go-gorm&#x2F;opeâ€¦</a></li></ul><h2 id="GORM-é…ç½®"><a href="#GORM-é…ç½®" class="headerlink" title="GORM é…ç½®"></a>GORM é…ç½®</h2><p>GORM æä¾›çš„é…ç½®å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨</p><pre><code class="go">type Config struct &#123;  SkipDefaultTransaction   bool  NamingStrategy           schema.Namer  Logger                   logger.Interface  NowFunc                  func() time.Time  DryRun                   bool  PrepareStmt              bool  DisableNestedTransaction bool  AllowGlobalUpdate        bool  DisableAutomaticPing     bool  DisableForeignKeyConstraintWhenMigrating bool&#125;</code></pre><h3 id="è·³è¿‡é»˜è®¤äº‹åŠ¡"><a href="#è·³è¿‡é»˜è®¤äº‹åŠ¡" class="headerlink" title="è·³è¿‡é»˜è®¤äº‹åŠ¡"></a>è·³è¿‡é»˜è®¤äº‹åŠ¡</h3><p>ä¸ºäº†ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ï¼ŒGORM ä¼šåœ¨äº‹åŠ¡é‡Œæ‰§è¡Œå†™å…¥æ“ä½œï¼ˆåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¿™æ–¹é¢çš„è¦æ±‚ï¼Œæ‚¨å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶ç¦ç”¨å®ƒã€‚</p><pre><code class="go">db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  SkipDefaultTransaction: true,&#125;)</code></pre><h3 id="å‘½åç­–ç•¥"><a href="#å‘½åç­–ç•¥" class="headerlink" title="å‘½åç­–ç•¥"></a>å‘½åç­–ç•¥</h3><p>GORM å…è®¸ç”¨æˆ·é€šè¿‡è¦†ç›–é»˜è®¤çš„<code>NamingStrategy</code>æ¥æ›´æ”¹å‘½åçº¦å®šï¼Œè¿™éœ€è¦å®ç°æ¥å£ <code>Namer</code></p><pre><code class="go">type Namer interface &#123;    TableName(table string) string    SchemaName(table string) string    ColumnName(table, column string) string    JoinTableName(table string) string    RelationshipFKName(Relationship) string    CheckerName(table, column string) string    IndexName(table, column string) string&#125;</code></pre><p>é»˜è®¤ <code>NamingStrategy</code> ä¹Ÿæä¾›äº†å‡ ä¸ªé€‰é¡¹ï¼Œå¦‚ï¼š</p><pre><code class="go">db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  NamingStrategy: schema.NamingStrategy&#123;    TablePrefix: &quot;t_&quot;,   // table name prefix, table for `User` would be `t_users`    SingularTable: true, // use singular table name, table for `User` would be `user` with this option enabled    NoLowerCase: true, // skip the snake_casing of names    NameReplacer: strings.NewReplacer(&quot;CID&quot;, &quot;Cid&quot;), // use name replacer to change struct/field name before convert it to db name  &#125;,&#125;)</code></pre><h3 id="NowFunc"><a href="#NowFunc" class="headerlink" title="NowFunc"></a>NowFunc</h3><p>æ›´æ”¹åˆ›å»ºæ—¶é—´ä½¿ç”¨çš„å‡½æ•°</p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  NowFunc: func() time.Time &#123;    return time.Now().Local()  &#125;,&#125;)</code></pre><h3 id="DryRun"><a href="#DryRun" class="headerlink" title="DryRun"></a>DryRun</h3><p>ç”Ÿæˆ <code>SQL</code> ä½†ä¸æ‰§è¡Œï¼Œå¯ä»¥ç”¨äºå‡†å¤‡æˆ–æµ‹è¯•ç”Ÿæˆçš„ SQL</p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  DryRun: false,&#125;)</code></pre><h3 id="PrepareStmt"><a href="#PrepareStmt" class="headerlink" title="PrepareStmt"></a>PrepareStmt</h3><p><code>PreparedStmt</code> åœ¨æ‰§è¡Œä»»ä½• SQL æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ª prepared statement å¹¶å°†å…¶ç¼“å­˜ï¼Œä»¥æé«˜åç»­çš„æ•ˆç‡</p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  PrepareStmt: false,&#125;)</code></pre><h3 id="ç¦ç”¨åµŒå¥—äº‹åŠ¡"><a href="#ç¦ç”¨åµŒå¥—äº‹åŠ¡" class="headerlink" title="ç¦ç”¨åµŒå¥—äº‹åŠ¡"></a>ç¦ç”¨åµŒå¥—äº‹åŠ¡</h3><p>åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ä½¿ç”¨ <code>Transaction</code> æ–¹æ³•ï¼ŒGORM ä¼šä½¿ç”¨ <code>SavePoint(savedPointName)</code>ï¼Œ<code>RollbackTo(savedPointName)</code> ä¸ºä½ æä¾›åµŒå¥—äº‹åŠ¡æ”¯æŒï¼Œä½ å¯ä»¥é€šè¿‡ <code>DisableNestedTransaction</code> é€‰é¡¹å…³é—­å®ƒ</p><h3 id="DisableAutomaticPing"><a href="#DisableAutomaticPing" class="headerlink" title="DisableAutomaticPing"></a>DisableAutomaticPing</h3><p>åœ¨å®Œæˆåˆå§‹åŒ–åï¼ŒGORM ä¼šè‡ªåŠ¨ ping æ•°æ®åº“ä»¥æ£€æŸ¥æ•°æ®åº“çš„å¯ç”¨æ€§ï¼Œè‹¥è¦ç¦ç”¨è¯¥ç‰¹æ€§ï¼Œå¯å°†å…¶è®¾ç½®ä¸º <code>true</code></p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  DisableAutomaticPing: true,&#125;)</code></pre><h3 id="DisableForeignKeyConstraintWhenMigrating"><a href="#DisableForeignKeyConstraintWhenMigrating" class="headerlink" title="DisableForeignKeyConstraintWhenMigrating"></a>DisableForeignKeyConstraintWhenMigrating</h3><p>åœ¨ <code>AutoMigrate</code> æˆ– <code>CreateTable</code> æ—¶ï¼ŒGORM ä¼šè‡ªåŠ¨åˆ›å»ºå¤–é”®çº¦æŸï¼Œè‹¥è¦ç¦ç”¨è¯¥ç‰¹æ€§ï¼Œå¯å°†å…¶è®¾ç½®ä¸º <code>true</code></p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  DisableForeignKeyConstraintWhenMigrating: true,&#125;)</code></pre>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/08/30/gorm%E8%BF%9B%E9%98%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>goå­—èŠ‚ä¸‰ä»¶å¥— ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/08/28/go%E5%AD%97%E8%8A%82%E4%B8%89%E4%BB%B6%E5%A5%97%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/08/28/go%E5%AD%97%E8%8A%82%E4%B8%89%E4%BB%B6%E5%A5%97%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Mon, 28 Aug 2023 14:26:29 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•&quot;&gt;&lt;a href=&quot;#Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•&quot; class=&quot;headerlink&quot; title=&quot;Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•&quot;&gt;&lt;/a&gt;Gormã€</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•"><a href="#Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•" class="headerlink" title="Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•"></a>Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•</h2><h3 id="Gorm"><a href="#Gorm" class="headerlink" title="Gorm"></a>Gorm</h3><p>Gormæ˜¯Golangä¸­å¹¿å—æ¬¢è¿çš„ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ï¼Œå·²ç»å‘å±•æ•°åå¹´ï¼Œå…·æœ‰å¼ºå¤§çš„åŠŸèƒ½å’Œå‡ºè‰²çš„æ€§èƒ½ã€‚</p><p>ORMæ¡†æ¶ç”¨äºå°†é¢å‘å¯¹è±¡çš„æ¦‚å¿µä¸æ•°æ®åº“ä¸­çš„è¡¨ç›¸å¯¹åº”ï¼Œç®€åŒ–æ•°æ®æ“ä½œè¿‡ç¨‹ã€‚åœ¨Golangä¸­ï¼Œè‡ªå®šä¹‰çš„ç»“æ„ä½“ä¸æ•°æ®åº“è¡¨ä¸€ä¸€å¯¹åº”ï¼Œç»“æ„ä½“çš„å®ä¾‹å¯¹åº”è¡¨ä¸­çš„ä¸€æ¡è®°å½•ã€‚</p><p>åŸºæœ¬ç”¨æ³•</p><p>å®šä¹‰ç»“æ„ä½“ï¼šåœ¨Gormä¸­ï¼Œå®šä¹‰ç»“æ„ä½“æ¥æ˜ å°„æ•°æ®åº“è¡¨ã€‚</p><pre><code class="go">type User struct &#123;  ID    uint   `gorm:&quot;primary_key&quot;`  Name  string `gorm:&quot;type:varchar(100)&quot;`  Email string `gorm:&quot;type:varchar(100);uniqueIndex&quot;`&#125;</code></pre><p>å¢åŠ æ•°æ®ï¼šä½¿ç”¨Createæ–¹æ³•æ¥æ–°å¢æ•°æ®æ¡ç›®ã€‚</p><pre><code class="go">db.Create(&amp;User&#123;Name: &quot;John&quot;, Email: &quot;john@example.com&quot;&#125;)</code></pre><p>æŸ¥è¯¢æ•°æ®ï¼šä½¿ç”¨Findè¿›è¡Œæ•°æ®æŸ¥æ‰¾ï¼Œå¯ä»¥é€šè¿‡Whereå’ŒOræ¡ä»¶æ„å»ºæŸ¥è¯¢æ¡ä»¶ã€‚</p><pre><code class="go">var user Userdb.Where(&quot;name = ?&quot;, &quot;John&quot;).First(&amp;user)</code></pre><p>æ›´æ–°æ•°æ®ï¼šä½¿ç”¨Updateè¿›è¡Œæ•°æ®æ›´æ–°ï¼Œå¯ä»¥ä½¿ç”¨Modelç»“åˆUpdateæˆ–Updatesæ–¹æ³•æ¥æ›´æ–°åˆ—ã€‚</p><pre><code class="go">db.Model(&amp;user).Update(&quot;Name&quot;, &quot;John Updated&quot;)</code></pre><p>åˆ é™¤æ•°æ®ï¼šä½¿ç”¨Deleteè¿›è¡Œæ•°æ®åˆ é™¤æ“ä½œï¼Œæ ¹æ®æ˜¯å¦åŒ…å«gorm.deletedatå­—æ®µæ‰§è¡Œç‰©ç†æˆ–é€»è¾‘åˆ é™¤ã€‚</p><pre><code class="go">db.Delete(&amp;user)</code></pre><h3 id="Kitex"><a href="#Kitex" class="headerlink" title="Kitex"></a>Kitex</h3><p><a href="https://www.cloudwego.io/zh/docs/kitex/overview/">https://www.cloudwego.io/zh/docs/kitex/overview/</a></p><p>Kitexæ˜¯å­—èŠ‚å¼€å‘çš„é«˜æ€§èƒ½Golangå¾®æœåŠ¡RPCæ¡†æ¶ï¼Œå…·å¤‡å‡ºè‰²çš„å¯æ‰©å±•æ€§å’Œé«˜æ€§èƒ½ã€‚<br>æœåŠ¡ç«¯</p><pre><code class="go">func main() &#123;  srv := kitex.NewServer(new(YourServiceImpl),                           kitex.WithServiceAddr(&quot;:8888&quot;))  srv.Run()&#125;</code></pre><p>å®¢æˆ·ç«¯</p><pre><code class="go">func main() &#123;  client := NewYourServiceClient(&quot;127.0.0.1:8888&quot;, kitex.WithTransportProtocol(protocol.TRPC))  // è°ƒç”¨RPCæ–¹æ³•&#125;</code></pre><p>é«˜æ€§èƒ½ï¼šKitexå…·æœ‰ä¼˜å¼‚çš„æ€§èƒ½è¡¨ç°ï¼Œé€‚ç”¨äºé«˜è´Ÿè½½çš„å¾®æœåŠ¡åœºæ™¯ã€‚<br>å¯æ‰©å±•ï¼šæ”¯æŒå¤šåè®®ï¼Œå¹¶ä¸”æœ‰ä¸°å¯Œçš„å¼€æºæ‰©å±•åº“ï¼Œå¯ä»¥æ»¡è¶³å„ç§éœ€æ±‚ã€‚</p><h3 id="Hertz"><a href="#Hertz" class="headerlink" title="Hertz"></a>Hertz</h3><p><a href="https://www.cloudwego.io/zh/docs/hertz/overview/">https://www.cloudwego.io/zh/docs/hertz/overview/</a></p><p>Hertzæ˜¯å­—èŠ‚å¼€å‘çš„HTTPæ¡†æ¶ï¼Œç»“åˆäº†å…¶ä»–å¼€æºæ¡†æ¶çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶æ»¡è¶³å­—èŠ‚è·³åŠ¨å†…éƒ¨çš„éœ€æ±‚ï¼Œå…·æœ‰é«˜å¯ç”¨æ€§ã€é«˜æ€§èƒ½å’Œé«˜æ‰©å±•æ€§ã€‚</p><pre><code class="go">package mainimport (    &quot;context&quot;    &quot;github.com/cloudwego/hertz/pkg/app&quot;    &quot;github.com/cloudwego/hertz/pkg/app/server&quot;    &quot;github.com/cloudwego/hertz/pkg/common/utils&quot;    &quot;github.com/cloudwego/hertz/pkg/protocol/consts&quot;)func main() &#123;    h := server.Default()    h.GET(&quot;/ping&quot;, func(c context.Context, ctx *app.RequestContext) &#123;            ctx.JSON(consts.StatusOK, utils.H&#123;&quot;message&quot;: &quot;pong&quot;&#125;)    &#125;)    h.Spin()&#125;</code></pre><p>é«˜å¯ç”¨æ€§ï¼šHertzæ¡†æ¶è¢«è®¾è®¡ä¸ºå…·æœ‰é«˜åº¦çš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡çš„åº”ç”¨åœºæ™¯ã€‚<br>é«˜æ€§èƒ½ï¼šæ¡†æ¶åœ¨æ€§èƒ½æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œé€‚åˆå¤„ç†é«˜å¹¶å‘è¯·æ±‚ã€‚<br>é«˜æ‰©å±•æ€§ï¼šHertzæ¡†æ¶å…è®¸æ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå®šåˆ¶å’Œæ‰©å±•ï¼Œä»¥æ»¡è¶³å¤æ‚åº”ç”¨çš„è¦æ±‚ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/08/28/go%E5%AD%97%E8%8A%82%E4%B8%89%E4%BB%B6%E5%A5%97%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ç½‘ç«™å®‰å…¨æ¼æ´ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/08/26/%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/08/26/%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Sat, 26 Aug 2023 06:33:42 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯æ¼æ´&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯æ¼æ´&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯æ¼æ´&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯æ¼æ´&lt;/h2&gt;&lt;p&gt;æ¼æ´æ˜¯æŒ‡åœ¨ç½‘ç«™æˆ–ç½‘ç»œåº”ç”¨ä¸­å­˜åœ¨çš„å®‰å…¨å¼±ç‚¹ï¼Œå®ƒä»¬å¯èƒ½ç”±äºå„ç§åŸå› è€Œäº§ç”Ÿï¼ŒåŒ…æ‹¬ç¼–ç é”™è¯¯ã€é…ç½®ä¸å½“æˆ–ç¬¬ä¸‰æ–¹ç»„ä»¶çš„å®‰å…¨æ€§ä¸è¶³</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯æ¼æ´"><a href="#ä»€ä¹ˆæ˜¯æ¼æ´" class="headerlink" title="ä»€ä¹ˆæ˜¯æ¼æ´"></a>ä»€ä¹ˆæ˜¯æ¼æ´</h2><p>æ¼æ´æ˜¯æŒ‡åœ¨ç½‘ç«™æˆ–ç½‘ç»œåº”ç”¨ä¸­å­˜åœ¨çš„å®‰å…¨å¼±ç‚¹ï¼Œå®ƒä»¬å¯èƒ½ç”±äºå„ç§åŸå› è€Œäº§ç”Ÿï¼ŒåŒ…æ‹¬ç¼–ç é”™è¯¯ã€é…ç½®ä¸å½“æˆ–ç¬¬ä¸‰æ–¹ç»„ä»¶çš„å®‰å…¨æ€§ä¸è¶³ã€‚äº†è§£ä¸€ä¸ªç½‘ç«™çš„åŸºæœ¬æ„æˆæ˜¯ç†è§£æ¼æ´çš„ç¬¬ä¸€æ­¥ã€‚ç½‘ç«™é€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªå…³é”®ç»„æˆéƒ¨åˆ†æ„æˆï¼Œè€Œæ”»å‡»è€…é€šå¸¸ä¼šå°è¯•ä»è¿™äº›éƒ¨åˆ†æ‰¾å‡ºå¼±ç‚¹è¿›è¡Œæ”»å‡»ï¼š</p><ul><li><strong>å‰ç«¯</strong>ï¼šä½¿ç”¨çš„æŠ€æœ¯å¯èƒ½åŒ…æ‹¬HTMLã€CSSã€JavaScriptã€Vue.jsã€React.jsç­‰ã€‚</li><li><strong>ç½‘å…³</strong>ï¼šä¾‹å¦‚nginxæˆ–Apacheï¼Œè´Ÿè´£å¤„ç†è¿›å‡ºçš„ç½‘ç»œæµé‡ã€‚</li><li><strong>åç«¯</strong>ï¼šå¯èƒ½æ˜¯ç”¨Goã€Javaã€Node.jsã€Pythonç­‰è¯­è¨€ç¼–å†™çš„ã€‚</li><li><strong>å‰åç«¯äº¤äº’</strong>ï¼šé€šå¸¸é€šè¿‡HTTPæˆ–WebSocketè¿›è¡Œã€‚</li></ul><h2 id="å¸¸è§çš„å®‰å…¨äº‹ä»¶"><a href="#å¸¸è§çš„å®‰å…¨äº‹ä»¶" class="headerlink" title="å¸¸è§çš„å®‰å…¨äº‹ä»¶"></a>å¸¸è§çš„å®‰å…¨äº‹ä»¶</h2><p>ç”±å®‰å…¨æ¼æ´å¼•å‘çš„æ”»å‡»äº‹ä»¶ä¸ä»…å¯èƒ½å¯¼è‡´æ•°æ®æ³„éœ²ã€æœåŠ¡ç˜«ç—ªã€æˆæœå¤±çªƒå’Œç³»ç»ŸåŠ«æŒï¼Œè¿˜å¯èƒ½å¸¦æ¥ä»¥ä¸‹æ›´ä¸ºä¸¥é‡çš„åæœï¼š</p><ul><li><strong>æ³•å¾‹è´£ä»»</strong>ï¼šæ³„éœ²ç”¨æˆ·æ•°æ®å¯èƒ½å¯¼è‡´æ³•å¾‹è¯‰è®¼å’Œå·¨é¢ç½šæ¬¾ã€‚</li><li><strong>å“ç‰Œå£°èª‰å—æŸ</strong>ï¼šä¸€æ¬¡ä¸¥é‡çš„å®‰å…¨äº‹ä»¶å¯èƒ½æ°¸ä¹…æ€§åœ°å½±å“å…¬å¸çš„å£°èª‰ã€‚</li><li><strong>ä¸šåŠ¡ä¸­æ–­</strong>ï¼šæœåŠ¡ä¸­æ–­å¯èƒ½å¯¼è‡´ç”¨æˆ·æµå¤±å’Œæ”¶å…¥å‡å°‘ã€‚</li><li><strong>å†…å¤–éƒ¨ä¿¡ä»»åº¦ä¸‹é™</strong>ï¼šå‘˜å·¥å’Œåˆä½œä¼™ä¼´ä¹Ÿå¯èƒ½å› ä¸ºå®‰å…¨äº‹ä»¶è€Œå¯¹ä¼ä¸šå¤±å»ä¿¡ä»»ã€‚</li></ul><h2 id="ç½‘ç«™æ”»å‡»è€…çš„æ„å›¾"><a href="#ç½‘ç«™æ”»å‡»è€…çš„æ„å›¾" class="headerlink" title="ç½‘ç«™æ”»å‡»è€…çš„æ„å›¾"></a>ç½‘ç«™æ”»å‡»è€…çš„æ„å›¾</h2><p>ç¡®åˆ‡åœ°çŸ¥é“æ”»å‡»è€…çš„æ„å›¾å¯ä»¥å¸®åŠ©ä¼ä¸šæ›´æœ‰æ•ˆåœ°é˜²å¾¡å¨èƒã€‚é™¤äº†æ”¿æ²»ã€ç»æµå’Œç«äº‰ç­‰åŸå› å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹å¯èƒ½çš„æ”»å‡»åŠ¨æœºï¼š</p><ul><li><strong>ç¤¾ä¼šå·¥ç¨‹æ”»å‡»</strong>ï¼šé€šè¿‡äººä¸ºæ“ä½œæˆ–æ¬ºéª—ï¼Œä½¿å†…éƒ¨äººå‘˜æ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚</li><li><strong>é»‘å¸½SEO</strong>ï¼šé€šè¿‡å„ç§æ‰‹æ®µæ¥æ“çºµæœç´¢å¼•æ“æ’åã€‚</li><li><strong>èµ„æºå ç”¨</strong>ï¼šæ”»å‡»è€…å¯èƒ½åªæ˜¯ä¸ºäº†æ¶ˆè€—ç›®æ ‡ç½‘ç«™çš„èµ„æºã€‚</li><li><strong>çº¯ç²¹çš„ç ´åæ¬²</strong>ï¼šæœ‰äº›æ”»å‡»è€…å¯èƒ½åªæ˜¯å‡ºäºç ´åçš„ä¹è¶£ã€‚</li></ul><h3 id="çº¢è“å¯¹æŠ—"><a href="#çº¢è“å¯¹æŠ—" class="headerlink" title="çº¢è“å¯¹æŠ—"></a>çº¢è“å¯¹æŠ—</h3><p>çº¢è“å¯¹æŠ—æ˜¯ä¸€ç§æ¨¡æ‹Ÿç°å®ä¸–ç•Œç½‘ç»œæ”»é˜²åœºæ™¯çš„æ–¹æ³•ï¼Œé€šå¸¸ç”¨äºè¯„ä¼°å’Œæå‡ç»„ç»‡çš„å®‰å…¨é˜²æŠ¤èƒ½åŠ›ã€‚åœ¨è¿™ä¸€æ¨¡å¼ä¸­ï¼Œçº¢å†›ï¼ˆRed Teamï¼‰æ¨¡æ‹Ÿæ”»å‡»è€…ï¼Œå¯»æ‰¾ç³»ç»Ÿçš„å¼±ç‚¹å’Œæ¼æ´ï¼›è“å†›ï¼ˆBlue Teamï¼‰åˆ™æ‰®æ¼”é˜²å¾¡æ–¹ï¼Œè´Ÿè´£æ£€æµ‹å’Œé˜»æ­¢è¿™äº›æ”»å‡»ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰æ‰€è°“çš„â€œç´«å†›â€ï¼ˆPurple Teamï¼‰ï¼Œè´Ÿè´£åè°ƒçº¢è“ä¸¤æ–¹ï¼Œä»¥ç¡®ä¿åŒæ–¹éƒ½ä»å¯¹æŠ—ä¸­è·å¾—æœ€å¤§çš„å­¦ä¹ ä»·å€¼ã€‚</p><h3 id="æ”»å‡»æ–¹å¼"><a href="#æ”»å‡»æ–¹å¼" class="headerlink" title="æ”»å‡»æ–¹å¼"></a>æ”»å‡»æ–¹å¼</h3><p>ç½‘ç«™æ”»å‡»é€šå¸¸å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šé’ˆå¯¹å®¢æˆ·ç«¯çš„æ”»å‡»å’Œé’ˆå¯¹æœåŠ¡ç«¯çš„æ”»å‡»ã€‚</p><ul><li><strong>é’ˆå¯¹å®¢æˆ·ç«¯çš„æ”»å‡»</strong>ï¼šè¿™ç±»æ”»å‡»ç›´æ¥å½±å“ç½‘ç«™çš„ç»ˆç«¯ç”¨æˆ·ï¼Œä¾‹å¦‚é€šè¿‡XSSï¼ˆè·¨ç«™è„šæœ¬ï¼‰æˆ–CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰ç­‰æ–¹å¼ã€‚</li><li><strong>é’ˆå¯¹æœåŠ¡ç«¯çš„æ”»å‡»</strong>ï¼šè¿™ç±»æ”»å‡»ç›®æ ‡æ˜¯ç½‘ç«™åç«¯çš„æœåŠ¡å™¨æˆ–æ•°æ®åº“ï¼Œä¾‹å¦‚é€šè¿‡SQLæ³¨å…¥æˆ–å‘½ä»¤æ‰§è¡Œç­‰æ–¹å¼ã€‚ æ¯ä¸€ç§æ”»å‡»éƒ½æœ‰å…¶è‡ªå·±çš„é˜²æŠ¤æœºåˆ¶å’Œä¿®è¡¥æ–¹æ¡ˆï¼Œå› æ­¤å¯¹è¿™äº›æ”»å‡»æ‰‹æ®µæœ‰æ·±å…¥çš„äº†è§£æ˜¯éå¸¸é‡è¦çš„ã€‚</li></ul><h3 id="æœåŠ¡ç«¯æ¼æ´"><a href="#æœåŠ¡ç«¯æ¼æ´" class="headerlink" title="æœåŠ¡ç«¯æ¼æ´"></a>æœåŠ¡ç«¯æ¼æ´</h3><p>æœåŠ¡ç«¯æ¼æ´é€šå¸¸æ¯”å®¢æˆ·ç«¯æ¼æ´æ›´ä¸ºä¸¥é‡ï¼Œå› ä¸ºå®ƒä»¬ç›´æ¥å½±å“åˆ°æ•´ä¸ªç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚å…¶ä¸­ï¼Œç¬¬ä¸‰æ–¹ç»„ä»¶æ¼æ´æ˜¯ä¸€ä¸ªå¸¸è§ä½†ç»å¸¸è¢«å¿½è§†çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œä¸€äº›æµè¡Œçš„å¼€æºåº“æˆ–æ¡†æ¶å¯èƒ½å­˜åœ¨å·²çŸ¥çš„å®‰å…¨é—®é¢˜ï¼Œå¦‚æœå¼€å‘äººå‘˜æ²¡æœ‰åŠæ—¶æ›´æ–°è¿™äº›ç»„ä»¶ï¼Œå°±å¯èƒ½å¯¼è‡´æ•´ä¸ªç³»ç»Ÿçš„å®‰å…¨æ€§å—åˆ°å¨èƒã€‚</p><h3 id="SQLæ³¨å…¥æ¼æ´"><a href="#SQLæ³¨å…¥æ¼æ´" class="headerlink" title="SQLæ³¨å…¥æ¼æ´"></a>SQLæ³¨å…¥æ¼æ´</h3><p>SQLæ³¨å…¥æ˜¯ä¸€ç§å¸¸è§ä½†å±é™©çš„æ”»å‡»æ‰‹æ®µï¼Œå®ƒå‡ºç°åœ¨åº”ç”¨ç¨‹åºæœªèƒ½æ­£ç¡®åœ°å¤„ç†ç”¨æˆ·è¾“å…¥çš„åœºåˆã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œæ”»å‡»è€…é€šè¿‡è¾“å…¥ç‰¹å®šçš„SQLä»£ç ç‰‡æ®µï¼Œä½¿å¾—åŸSQLæŸ¥è¯¢é€»è¾‘è¢«æ”¹å˜ï¼Œä»è€Œè¾¾åˆ°éæ³•è·å–æ•°æ®æˆ–æ‰§è¡Œç‰¹å®šæ“ä½œçš„ç›®çš„ã€‚é˜²èŒƒSQLæ³¨å…¥çš„åŸºç¡€æ˜¯ç¼–ç è§„èŒƒï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä½¿ç”¨é¢„ç¼–è¯‘SQLè¯­å¥ã€å‚æ•°åŒ–æŸ¥è¯¢ï¼Œä»¥åŠè¿›è¡Œä¸¥æ ¼çš„è¾“å…¥éªŒè¯ã€‚</p><h3 id="å‘½ä»¤æ‰§è¡Œ"><a href="#å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å‘½ä»¤æ‰§è¡Œ"></a>å‘½ä»¤æ‰§è¡Œ</h3><p>å‘½ä»¤æ‰§è¡Œæ¼æ´é€šå¸¸å‘ç”Ÿåœ¨åº”ç”¨éœ€è¦ä¸æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’æ—¶ã€‚ä¸SQLæ³¨å…¥ç±»ä¼¼ï¼Œè¿™ä¸€æ¼æ´ä¹Ÿå¸¸å¸¸æ˜¯ç”±äºä¸æ­£ç¡®çš„è¾“å…¥å¤„ç†å¼•èµ·çš„ã€‚æ”»å‡»è€…å¯èƒ½ä¼šå°è¯•æ’å…¥æ¶æ„å‘½ä»¤æˆ–å‚æ•°ï¼Œä»¥æ­¤æ¥æ§åˆ¶æˆ–ç ´åç›®æ ‡ç³»ç»Ÿã€‚é˜²æŠ¤æªæ–½åŒ…æ‹¬ä½¿ç”¨å®‰å…¨çš„APIè¿›è¡Œå‘½ä»¤è°ƒç”¨ã€å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼çš„éªŒè¯å’Œè¿‡æ»¤ï¼Œä»¥åŠä½¿ç”¨æœ€å°æƒé™åŸåˆ™æ¥é™åˆ¶åº”ç”¨ç¨‹åºå¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®ã€‚</p><h3 id="è¶Šæƒæ¼æ´"><a href="#è¶Šæƒæ¼æ´" class="headerlink" title="è¶Šæƒæ¼æ´"></a>è¶Šæƒæ¼æ´</h3><p>è¶Šæƒæ¼æ´æ˜¯æˆæƒæ§åˆ¶ä¸å½“å¯¼è‡´çš„ä¸€ç±»å®‰å…¨é—®é¢˜ï¼Œå®ƒä»¬é€šå¸¸åˆ†ä¸ºä¸‰ç±»ï¼š</p><ul><li><strong>æœªæˆæƒ</strong>ï¼šç”¨æˆ·æ— éœ€ä»»ä½•æˆæƒå³å¯è®¿é—®å—é™åˆ¶çš„èµ„æºã€‚</li><li><strong>æ°´å¹³è¶Šæƒ</strong>ï¼šç”¨æˆ·è®¿é—®åŒä¸€æƒé™çº§åˆ«ä½†ä¸å±äºè‡ªå·±çš„èµ„æºã€‚</li><li><strong>å‚ç›´è¶Šæƒ</strong>ï¼šä½æƒé™ç”¨æˆ·è®¿é—®é«˜æƒé™ç”¨æˆ·çš„èµ„æºã€‚ è¶Šæƒé—®é¢˜çš„æ ¹æœ¬åœ¨äºä¸æ°å½“çš„æƒé™æ§åˆ¶å’Œä¼šè¯ç®¡ç†ï¼Œå› æ­¤ç›¸åº”çš„é˜²æŠ¤æªæ–½åº”ä»è¿™ä¸¤æ–¹é¢å…¥æ‰‹ã€‚</li></ul><h3 id="SSRFæ”»å‡»"><a href="#SSRFæ”»å‡»" class="headerlink" title="SSRFæ”»å‡»"></a>SSRFæ”»å‡»</h3><p>æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ï¼ˆSSRFï¼‰æ˜¯ä¸€ç§åˆ©ç”¨ç›®æ ‡æœåŠ¡å™¨ä½œä¸ºä¸­é—´äººæ¥å‘èµ·è¯·æ±‚çš„æ”»å‡»ã€‚è¿™æ ·åšå¯èƒ½ä¼šæš´éœ²åŸæœ¬ä¸å¯è¾¾çš„å†…éƒ¨ç½‘ç»œèµ„æºã€‚SSRFé€šå¸¸åˆ©ç”¨çš„æ˜¯åº”ç”¨ç¨‹åºæˆ–æœåŠ¡å™¨é…ç½®ä¸­çš„ä¸å½“è¾“å…¥éªŒè¯æˆ–URLè§£æç¼ºé™·ã€‚é˜²èŒƒæªæ–½åŒ…æ‹¬é™åˆ¶ä»æœåŠ¡å™¨å‘å‡ºçš„è¯·æ±‚ç±»å‹å’Œç›®æ ‡ï¼Œä»¥åŠå¯¹æ‰€æœ‰å¤–éƒ¨è¾“å…¥è¿›è¡Œä¸¥æ ¼çš„éªŒè¯ã€‚</p><h3 id="æ–‡ä»¶ä¸Šä¼ æ¼æ´"><a href="#æ–‡ä»¶ä¸Šä¼ æ¼æ´" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ æ¼æ´"></a>æ–‡ä»¶ä¸Šä¼ æ¼æ´</h3><p>æ–‡ä»¶ä¸Šä¼ æ¼æ´æ˜¯ä¸€ç§å¸¸è§çš„å®‰å…¨é£é™©ï¼Œå°¤å…¶æ˜¯åœ¨å…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„åº”ç”¨ä¸­ã€‚å¦‚æœæ²¡æœ‰é€‚å½“çš„å®‰å…¨æªæ–½ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šä¸Šä¼ å«æœ‰æ¶æ„ä»£ç çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¸€æ—¦è¢«æ‰§è¡Œï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„å®‰å…¨åæœã€‚å› æ­¤ï¼Œé™¤äº†åŸºæœ¬çš„æ–‡ä»¶ç±»å‹æ£€æµ‹å’Œå¤§å°é™åˆ¶å¤–ï¼Œæ›´é«˜çº§çš„é˜²æŠ¤æªæ–½ï¼Œå¦‚å†…å®¹æ‰«æå’Œå®‰å…¨å­˜å‚¨ç­–ç•¥ï¼Œä¹Ÿæ˜¯éå¸¸å¿…è¦çš„ã€‚</p><h3 id="å®¢æˆ·ç«¯æ¼æ´"><a href="#å®¢æˆ·ç«¯æ¼æ´" class="headerlink" title="å®¢æˆ·ç«¯æ¼æ´"></a>å®¢æˆ·ç«¯æ¼æ´</h3><p>å®¢æˆ·ç«¯æ¼æ´ä¸»è¦å½±å“ç½‘ç«™çš„æœ€ç»ˆç”¨æˆ·ï¼Œè€Œä¸æ˜¯æœåŠ¡å™¨æˆ–æ•°æ®åº“ã€‚è¿™äº›æ¼æ´é€šå¸¸æ¶‰åŠåˆ°å¦‚ä½•å¤„ç†ä»å®¢æˆ·ç«¯ï¼ˆé€šå¸¸æ˜¯Webæµè§ˆå™¨ï¼‰å‘æ¥çš„æ•°æ®å’Œè¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œå¼€æ”¾é‡å®šå‘æ˜¯ä¸€ç§å¸¸è§çš„å®¢æˆ·ç«¯æ¼æ´ï¼Œæ”»å‡»è€…é€šè¿‡è¿™ç§æ¼æ´å¯ä»¥å°†ç”¨æˆ·é‡å®šå‘åˆ°æ¶æ„ç½‘ç«™ã€‚ä¿®å¤è¿™ç±»é—®é¢˜é€šå¸¸éœ€è¦åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½è¿›è¡Œé€‚å½“çš„è¾“å…¥éªŒè¯ã€‚</p><h3 id="è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»"><a href="#è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»" class="headerlink" title="è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»"></a>è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»</h3><p>è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ˜¯ä¸€ç§åœ¨ç›®æ ‡ç½‘ç«™ä¸Šæ‰§è¡Œæ¶æ„è„šæœ¬çš„æ”»å‡»æ–¹å¼ã€‚å®ƒåˆ©ç”¨çš„æ˜¯ç½‘ç«™æ²¡æœ‰å¯¹ç”¨æˆ·æäº¤çš„æ•°æ®è¿›è¡Œé€‚å½“çš„è¿‡æ»¤å’Œè½¬ä¹‰ã€‚æ ¹æ®æ”»å‡»çš„å…·ä½“å½¢å¼ï¼ŒXSSæ”»å‡»å¯ä»¥è¿›ä¸€æ­¥åˆ†ä¸ºå­˜å‚¨å‹ã€åå°„å‹å’ŒDOMå‹ä¸‰ç±»ã€‚æ¯ç§ç±»å‹çš„XSSæ”»å‡»éƒ½æœ‰å…¶ç‹¬ç‰¹çš„é˜²å¾¡æ–¹æ³•ï¼Œå¦‚è¾“å…¥è¿‡æ»¤ã€è¾“å‡ºç¼–ç å’Œå†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰ã€‚</p><h3 id="è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰"><a href="#è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰" class="headerlink" title="è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰"></a>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰</h3><p>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰æ˜¯ä¸€ç§æ”»å‡»æ‰‹æ³•ï¼Œæ”»å‡»è€…é€šè¿‡æŸç§æ–¹å¼è¯±å¯¼ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªé“¾æ¥æˆ–æŒ‰é’®ï¼Œä»è€Œåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œä»¥è¯¥ç”¨æˆ·çš„èº«ä»½æ‰§è¡Œéé¢„æœŸçš„æ“ä½œã€‚é˜²å¾¡CSRFæ”»å‡»çš„å¸¸è§æ–¹æ³•åŒ…æ‹¬ä½¿ç”¨CSRFä»¤ç‰Œã€è®¾ç½®SameSiteå±æ€§ç­‰ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬åˆ—ä¸¾äº†ç½‘ç«™å®‰å…¨æ¼æ´çš„å¤šä¸ªæ–¹é¢ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å„ç§ç±»å‹çš„å®‰å…¨æ¼æ´ï¼Œä»¥åŠå¦‚ä½•é˜²èŒƒè¿™äº›æ¼æ´ã€‚é‡è¦çš„æ˜¯ï¼Œæ— è®ºæ˜¯æœåŠ¡ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯ï¼Œå®‰å…¨æ¼æ´éƒ½å¯èƒ½å­˜åœ¨ï¼Œå¹¶ä¸”éƒ½éœ€è¦å¾—åˆ°å¦¥å–„çš„å¤„ç†ã€‚</p><p>ç½‘ç«™å®‰å…¨æ˜¯ä¸€ä¸ªæ¶‰åŠå¤šä¸ªå±‚é¢çš„å¤æ‚é—®é¢˜ï¼Œéœ€è¦å¼€å‘è€…ã€è¿ç»´äººå‘˜ã€ä»¥åŠå®‰å…¨å›¢é˜Ÿå…±åŒåŠªåŠ›æ¥ç»´æŠ¤ã€‚åªæœ‰å…¨æ–¹ä½ã€å¤šå±‚æ¬¡çš„å®‰å…¨é˜²æŠ¤æªæ–½ï¼Œæ‰èƒ½æœ‰æ•ˆåœ°å‡å°‘å®‰å…¨é£é™©ï¼Œä¿æŠ¤ç½‘ç«™å’Œç”¨æˆ·æ•°æ®çš„å®‰å…¨ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/08/26/%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>goæ¶æ„ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/08/24/go%E6%9E%B6%E6%9E%84%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/08/24/go%E6%9E%B6%E6%9E%84%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Thu, 24 Aug 2023 10:35:56 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯æ¶æ„&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯æ¶æ„&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯æ¶æ„&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯æ¶æ„&lt;/h2&gt;&lt;p&gt;ä¸»è¦é’ˆå¯¹äº’è”ç½‘æœserverç³»ç»Ÿï¼ˆç±»ä¼¼ç½‘ç«™ï¼‰æ¥å®šä¹‰æ¶æ„ï¼šæ¶æ„æ˜¯ç³»ç»Ÿçš„éª¨æ¶ï¼Œæ”¯æ’‘å’Œé“¾æ¥å„ä¸ªéƒ¨åˆ†ï¼ŒåŒ…æ‹¬ç»„ä»¶ã€è¿æ¥ä»¶ã€çº¦æŸ</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯æ¶æ„"><a href="#ä»€ä¹ˆæ˜¯æ¶æ„" class="headerlink" title="ä»€ä¹ˆæ˜¯æ¶æ„"></a>ä»€ä¹ˆæ˜¯æ¶æ„</h2><p>ä¸»è¦é’ˆå¯¹äº’è”ç½‘æœserverç³»ç»Ÿï¼ˆç±»ä¼¼ç½‘ç«™ï¼‰æ¥å®šä¹‰æ¶æ„ï¼šæ¶æ„æ˜¯ç³»ç»Ÿçš„éª¨æ¶ï¼Œæ”¯æ’‘å’Œé“¾æ¥å„ä¸ªéƒ¨åˆ†ï¼ŒåŒ…æ‹¬ç»„ä»¶ã€è¿æ¥ä»¶ã€çº¦æŸè§„èŒƒï¼Œä»¥åŠæŒ‡å¯¼è¿™äº›å†…å®¹è®¾è®¡ä¸æ¼”åŒ–çš„åŸç†ã€‚</p><ul><li><p>ç»„ä»¶ï¼šç±»ä¼¼åº”ç”¨æœåŠ¡ï¼Œç‹¬ç«‹æ¨¡å—ã€æ•°æ®åº“ã€nginxç­‰ç­‰ã€</p></li><li><p>è¿æ¥ä»¶ï¼šåˆ†å¸ƒå¼è°ƒç”¨ã€è¿›ç¨‹é—´è°ƒç”¨ã€è°ƒç”¨ä½¿ç”¨httpåè®®è¿˜æ˜¯tcpåè®®ã€ç»„ä»¶ä¹‹é—´çš„äº¤äº’å…³ç³»ã€</p></li><li><p>çº¦æŸè§„èŒƒï¼š å®šè§„åˆ™åšé™åˆ¶ï¼šä¾‹å¦‚è®¾è®¡åŸåˆ™ã€ç¼–ç è§„èŒƒç­‰ç­‰ã€‚</p></li></ul><h3 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h3><p>ç»„ä»¶æ˜¯æ¶æ„çš„æ„å»ºå—ï¼ŒåŒ…æ‹¬ç‹¬ç«‹æ¨¡å—ã€æ•°æ®åº“ã€Nginxç­‰ã€‚</p><p>ä¾‹å¦‚ï¼ŒGoè¯­è¨€ä¸­å¯ä»¥å®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªHTTPæœåŠ¡å™¨ï¼š</p><pre><code class="go">package mainimport (    &quot;net/http&quot;)func main() &#123;    http.HandleFunc(&quot;/&quot;, func(w http.ResponseWriter, r *http.Request) &#123;        w.Write([]byte(&quot;Hello, World!&quot;))    &#125;)    http.ListenAndServe(&quot;:8080&quot;, nil)&#125;</code></pre><h3 id="è¿æ¥ä»¶"><a href="#è¿æ¥ä»¶" class="headerlink" title="è¿æ¥ä»¶"></a>è¿æ¥ä»¶</h3><p>è¿æ¥ä»¶å¤„ç†ç»„ä»¶ä¹‹é—´çš„äº¤äº’å…³ç³»ï¼Œä¾‹å¦‚åˆ†å¸ƒå¼è°ƒç”¨ã€è¿›ç¨‹é—´è°ƒç”¨ã€ä½¿ç”¨çš„åè®®ç­‰ã€‚</p><h3 id="çº¦æŸè§„èŒƒ"><a href="#çº¦æŸè§„èŒƒ" class="headerlink" title="çº¦æŸè§„èŒƒ"></a>çº¦æŸè§„èŒƒ</h3><p>çº¦æŸè§„èŒƒå®šä¹‰äº†æ¶æ„ä¸­çš„è§„åˆ™å’Œé™åˆ¶ï¼Œä¾‹å¦‚è®¾è®¡åŸåˆ™å’Œç¼–ç è§„èŒƒã€‚</p><h2 id="å‡ ç§å…¸å‹æ¶æ„"><a href="#å‡ ç§å…¸å‹æ¶æ„" class="headerlink" title="å‡ ç§å…¸å‹æ¶æ„"></a>å‡ ç§å…¸å‹æ¶æ„</h2><h3 id="å•æœºæ¶æ„"><a href="#å•æœºæ¶æ„" class="headerlink" title="å•æœºæ¶æ„"></a>å•æœºæ¶æ„</h3><p>å•æœºæ¶æ„å°±æ˜¯æŠŠæ‰€æœ‰åŠŸèƒ½éƒ½å®ç°åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œå¹¶éƒ¨ç½²åœ¨ä¸€å°æœºå™¨ä¸Šã€‚</p><p>å•æœºæ¶æ„çš„<strong>ä¼˜ç‚¹</strong>æ˜¯éå¸¸ç®€å•ï¼Œ<strong>ç¼ºç‚¹</strong>æ˜¯ä¼šé‡åˆ°å¹¶å‘å¤„ç†çš„éš¾é¢˜ï¼Œè€Œä¸”è¿ç»´éœ€è¦åœæœã€‚</p><p>å½“æ—¶è®¡ç®—æœºè½¯ç¡¬ä»¶æ€§èƒ½æ¯”è¾ƒåŸºç¡€ï¼Œè¿™ä¸ªé—®é¢˜å¼•èµ·äººä»¬å¯¹ç½‘ç»œå¥—æ¥å­—ä¼˜åŒ–å’ŒæœåŠ¡ç«¯è°ƒåº¦çš„å…³æ³¨ï¼Œè¿™ä¸ªè¯è¯­ä¹Ÿéšç€æ—¶ä»£çš„å‘å±•é€æ¸å˜åŒ–ï¼Œå¦‚<code>C10M</code>ä»£è¡¨çš„æ˜¯å¤„ç†1000ä¸‡ä¸ªå¹¶å‘è¿æ¥ã€‚ç°åœ¨çš„è®¡ç®—æœºå·²ç»æœ‰è¶³å¤Ÿçš„æ€§èƒ½å’Œä¼˜ç§€çš„è½¯ä»¶æ¥æ”¯æ’‘å•æœºæ•°ç™¾ä¸‡è¿æ¥äº†ï¼Œç„¶è€Œå¹¶å‘é—®é¢˜ä»ç„¶æ˜¯åç«¯æ¶æ„è®¾è®¡ä¸­ä¸èƒ½ç•¥è¿‡çš„å…³é”®é—®é¢˜ã€‚</p><h3 id="å•ä½“æ¶æ„"><a href="#å•ä½“æ¶æ„" class="headerlink" title="å•ä½“æ¶æ„"></a>å•ä½“æ¶æ„</h3><p>å•ä½“æ¶æ„æ˜¯å¯¹å•æœºæ¶æ„çš„æ”¹è¿›ã€‚æ—¢ç„¶å•æœºå¤„ç†èƒ½åŠ›æœ‰é™ï¼Œå°±å¯ä»¥é‡‡ç”¨åˆ†å¸ƒå¼éƒ¨ç½²çš„æ¨¡å¼è®¾ç½®å¤šå°å•æœºï¼Œå†è®¾ç½®ä¸€ä¸ªåˆ†æµç¯èŠ‚ï¼Œå°†è¯·æ±‚è½¬å‘ç»™å„ä¸ªå•ä½“æœåŠ¡å™¨æ¥å¤„ç†ã€‚</p><p>å•ä½“æ¶æ„çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å®ç°æ°´å¹³æ‰©å®¹ï¼Œå¤„ç†èƒ½åŠ›ä¸å¤Ÿæ—¶åªéœ€è¦ç®€å•æ·»åŠ æ–°çš„å•æœºå³å¯ï¼›è¿ç»´ä¸éœ€è¦åœæœï¼Œå¯ä»¥é€ä¸ªå¯¹å•æœºç»´æŠ¤ä¸å½±å“å…¶ä»–å•æœºçš„è¿è¡Œã€‚å•ä½“æ¶æ„ä¸‹ï¼Œæ¯å°æœºå™¨çš„åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œå› æ­¤å®ƒæ²¡æœ‰è§£å†³è¿™ä¸¤ä¸ªç¼ºç‚¹ï¼š</p><ol><li>èŒè´£å¤ªå¤šï¼Œå¼€å‘æ•ˆç‡ä½ï¼šæ¯å°æœºå™¨éƒ½è¦å®ç°ç³»ç»Ÿçš„å®Œæ•´åŠŸèƒ½ï¼Œä¸èƒ½ä¸“æ³¨äºæŸä¸ªåŠŸèƒ½çš„å¼€å‘ã€‚</li><li><strong>çˆ†ç‚¸åŠå¾„å¤§</strong>ï¼š çˆ†ç‚¸åŠå¾„æ˜¯æŒ‡çˆ†ç‚¸å¯èƒ½é€ æˆæŸå®³çš„åŒºåŸŸèŒƒå›´ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æŒ‡çš„å°±æ˜¯éƒ¨ç½²çš„æœåŠ¡æ•…éšœæ—¶å¯èƒ½å½±å“çš„è½¯ä»¶åŠŸèƒ½èŒƒå›´ã€‚å•ä½“æ¶æ„ä¸‹æ¯ä¸€ä¸ªå•æœºä¸‹çº¿ï¼Œéƒ½ä¼šé€ æˆæ‰€æœ‰åŠŸèƒ½çš„å¤„ç†æ‰¿è½½é‡ä¸‹é™ï¼Œå› æ­¤çˆ†ç‚¸åŠå¾„è¦†ç›–äº†è½¯ä»¶å¤šæ•°åŠŸèƒ½ã€‚</li></ol><h3 id="å‚ç›´åº”ç”¨æ¶æ„"><a href="#å‚ç›´åº”ç”¨æ¶æ„" class="headerlink" title="å‚ç›´åº”ç”¨æ¶æ„"></a>å‚ç›´åº”ç”¨æ¶æ„</h3><p>ä¸ºäº†è§£å†³å•ä½“æ¶æ„çš„é—®é¢˜ï¼Œå‚ç›´åº”ç”¨æ¶æ„æä¾›äº†ä¸€ç§æ€è·¯ï¼Œå°†ç³»ç»ŸæŒ‰ç…§æœåŠ¡æ‹†åˆ†ä»»åŠ¡ï¼Œåˆ†é…ç»™ä¸åŒçš„æœåŠ¡å™¨ï¼Œä»è€Œå®ç°èŒè´£çš„ç®€å•åˆ’åˆ†ï¼Œä¸€å®šç¨‹åº¦ä¸Šæé«˜å¼€å‘å’Œè¿ç»´çš„æ•ˆç‡ã€‚ä¸è¿‡åœ¨å®è·µä¸­ä¸€ä¸ªæœåŠ¡å¾€å¾€æ˜¯å¤§é‡åŠŸèƒ½ç‚¹çš„é›†åˆï¼Œä»ç„¶å­˜åœ¨åŠŸèƒ½çç¢çš„é—®é¢˜</p><h2 id="æ›´åŠ é«˜çº§çš„æ¶æ„"><a href="#æ›´åŠ é«˜çº§çš„æ¶æ„" class="headerlink" title="æ›´åŠ é«˜çº§çš„æ¶æ„"></a>æ›´åŠ é«˜çº§çš„æ¶æ„</h2><h3 id="SOAã€å¾®æœåŠ¡æ¶æ„"><a href="#SOAã€å¾®æœåŠ¡æ¶æ„" class="headerlink" title="SOAã€å¾®æœåŠ¡æ¶æ„"></a>SOAã€å¾®æœåŠ¡æ¶æ„</h3><p>SOAï¼ˆService-Oriented Architectureï¼‰æ¶æ„å…·æœ‰ä¸¤ä¸ªç‰¹æ€§ï¼š</p><ol><li>å°†åº”ç”¨çš„ä¸åŒåŠŸèƒ½å•å…ƒæŠ½è±¡ä¸ºæœåŠ¡ï¼Œä»è€Œç»†åˆ†èŒè´£</li><li>å®šä¹‰æœåŠ¡ä¹‹é—´çš„é€šä¿¡æ ‡å‡†ï¼Œç¡®ä¿æœåŠ¡ä¹‹é—´çš„æ•°æ®æµé€š</li></ol><p>å¾®æœåŠ¡æ¶æ„åˆ™æ˜¯SOAæ¶æ„å»ä¸­å¿ƒåŒ–çš„æ¼”è¿›æ–¹å‘ï¼Œæ—¨åœ¨å‡å°‘æœåŠ¡ä¹‹é—´çš„æ²Ÿé€šæ¶ˆè€—ï¼Œé¿å…SOAæœåŠ¡å†…éƒ¨é›†ä¸­æ²Ÿé€šå¯¼è‡´çš„è¿‡åº¦ä¸­å¿ƒåŒ–é—®é¢˜ï¼Œä»–å®ç°äº†æ°´å¹³åˆ‡åˆ†ï¼Œå‡å°‘äº†è·¨çº§åˆ«è°ƒç”¨é“¾ï¼Œè®©æ¯ä¸ªæœåŠ¡ç›´æ¥è´Ÿè´£çš„ä¸Šä¸‹çº§å‡å°‘ã€‚</p><p>è¿™ç±»æ¶æ„åœ¨è§£å†³ä¹‹å‰çš„å¼Šç«¯æ—¶ï¼Œä¹Ÿä¼šå¼•å…¥æ–°çš„é—®é¢˜ï¼š</p><ul><li>æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼šä¸åŒæœåŠ¡å¦‚ä½•ç¡®ä¿æ•°æ®åŒæ­¥</li><li>é«˜å¯ç”¨é—®é¢˜ï¼šæœåŠ¡ä¹‹é—´å¦‚ä½•è¿›è¡Œå¯é åˆä½œ</li><li>æ²»ç†é—®é¢˜ï¼šä¸€ä¸ªæœåŠ¡å‡ºç°é—®é¢˜æ—¶ï¼Œè¦å¦‚ä½•å®¹ç¾</li><li>è§£è€¦å’Œè¿‡å¾®é—®é¢˜ï¼šè¿‡åº¦ç»†åˆ†ä¼šå¯¼è‡´è¿ç»´æˆæœ¬æé«˜ï¼Œè¦å¦‚ä½•æƒè¡¡ï¼Ÿ</li></ul><h3 id="äº‹ä»¶é©±åŠ¨æ¶æ„"><a href="#äº‹ä»¶é©±åŠ¨æ¶æ„" class="headerlink" title="äº‹ä»¶é©±åŠ¨æ¶æ„"></a>äº‹ä»¶é©±åŠ¨æ¶æ„</h3><p>äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDAï¼‰æ˜¯ä¸€ç§å¼‚æ­¥æ¶æ„ï¼Œå…¶ä¸­ç”Ÿäº§è€…ç”Ÿæˆäº‹ä»¶ï¼Œå¹¶ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚è¿™å…è®¸è§£è€¦ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œå¹¶å®ç°é«˜åº¦å¯æ‰©å±•å’Œçµæ´»çš„ç³»ç»Ÿã€‚</p><p>Apache Kafka<br>Apache Kafkaæ˜¯ä¸€ç§æµè¡Œçš„äº‹ä»¶æµå¹³å°ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Goç¼–å†™Kafkaçš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚</p><p>å¦‚ä¸‹æ˜¯ç¤ºä¾‹ä»£ç  </p><pre><code class="go">package mainimport (    &quot;github.com/confluentinc/confluent-kafka-go/kafka&quot;)func main() &#123;    producer, err := kafka.NewProducer(&amp;kafka.ConfigMap&#123;&quot;bootstrap.servers&quot;: &quot;localhost&quot;&#125;)    if err != nil &#123;        panic(err)    &#125;    // ç”Ÿäº§æ¶ˆæ¯    producer.Produce(&amp;kafka.Message&#123;        TopicPartition: kafka.TopicPartition&#123;Topic: &amp;topic, Partition: kafka.PartitionAny&#125;,        Value:          []byte(&quot;Message Value&quot;),    &#125;, nil)    // æ¶ˆè´¹æ¶ˆæ¯    consumer, err := kafka.NewConsumer(&amp;kafka.ConfigMap&#123;        &quot;bootstrap.servers&quot;: &quot;localhost&quot;,        &quot;group.id&quot;:          &quot;myGroup&quot;,        &quot;auto.offset.reset&quot;: &quot;earliest&quot;,    &#125;)    consumer.SubscribeTopics([]string&#123;&quot;myTopic&quot;&#125;, nil)    msg, err := consumer.ReadMessage(-1)    if err == nil &#123;        fmt.Printf(&quot;Message on %s: %s\n&quot;, msg.TopicPartition, string(msg.Value))    &#125;&#125;</code></pre><h3 id="äº‘è®¡ç®—"><a href="#äº‘è®¡ç®—" class="headerlink" title="äº‘è®¡ç®—"></a>äº‘è®¡ç®—</h3><p>äº‘è®¡ç®—æ˜¯æŒ‡é€šè¿‡è½¯ä»¶è‡ªåŠ¨åŒ–ç®¡ç†ï¼Œæä¾›è®¡ç®—èµ„æºçš„æœåŠ¡ç½‘ç»œï¼Œæ˜¯ç°åœ¨äº’è”ç½‘å¤§è§„æ¨¡æ•°æ®åˆ†æå’Œå­˜å‚¨çš„åŸºçŸ³ã€‚</p><p>äº‘è®¡ç®—çš„åŸºç¡€æ˜¯è™šæ‹ŸåŒ–æŠ€æœ¯å’Œç¼–æ’æ–¹å¼ï¼Œå…³ç³»åˆ°èµ„æºçš„åˆ†é…å’Œè°ƒåº¦ã€‚</p><p>äº‘è®¡ç®—æä¾›ä¸€ç³»åˆ—ç‰¹æœ‰çš„æ¶æ„ï¼š</p><ul><li>åŸºç¡€è®¾æ–½å³æœåŠ¡IaaSï¼ˆInfrastructure as a Serviceï¼‰ï¼šæœåŠ¡å•†æä¾›äº’è”ç½‘åŸºç¡€è®¾æ–½ï¼Œæ¯”å¦‚ç”¨æˆ·åªéœ€è¦è·å¾—æœåŠ¡å™¨ã€äº‘ç¡¬ç›˜ã€å®½å¸¦ç½‘ç»œï¼Œè€Œä¸ç”¨å…³å¿ƒç‰©ç†çš„æœºæˆ¿ã€æ•°æ®ä¸­å¿ƒã€ç½‘ç»œæ€ä¹ˆå»ºè®¾ã€‚ä½†æ˜¯ï¼Œç”¨æˆ·éœ€è¦è‡ªå·±è¿›è¡ŒæœåŠ¡å™¨ç³»ç»Ÿå®‰è£…ã€ç¯å¢ƒéƒ¨ç½²å’Œè½¯ä»¶é…ç½®ã€‚</li><li>å¹³å°å³æœåŠ¡PaaSï¼ˆPlatform as a Serviceï¼‰ï¼šæœåŠ¡å•†æä¾›åº•å±‚è½¯ä»¶è®¾æ–½ï¼Œæ¯”å¦‚ä¸ºç”¨æˆ·å‡†å¤‡å®‰è£…äº†æŒ‡å®šæ“ä½œç³»ç»Ÿã€æ•°æ®åº“è½¯ä»¶ã€ç¯å¢ƒå¥—ä»¶çš„ä¸»æœºã€‚ç”¨æˆ·éœ€è¦è‡ªå·±æ§åˆ¶ä¸Šå±‚åº”ç”¨çš„éƒ¨ç½²å’Œæ‰˜ç®¡ã€‚</li><li>è½¯ä»¶å³æœåŠ¡Saasï¼ˆSoftware as a Serviceï¼‰ï¼šæœåŠ¡å•†åŠæä¾›åŸºäºè½¯ä»¶çš„è§£å†³æ–¹æ¡ˆæ¥æ»¡è¶³å®¢æˆ·çš„éœ€æ±‚ï¼Œæ¯”å¦‚ç”¨æˆ·æƒ³è¦ä¸€å¥—OAåŠå…¬ç³»ç»Ÿï¼ŒCMSå†…å®¹ç®¡ç†ç³»ç»Ÿï¼ŒHRMäººäº‹ç®¡ç†ç³»ç»Ÿç­‰ï¼Œè€Œä¸ç”¨è‡ªè¡Œæ­å»ºå’Œç»´æŠ¤è¿™æ ·çš„æœåŠ¡ï¼Œèƒ½å¤Ÿç®€åŒ–ç”¨æˆ·çš„å·¥ä½œã€‚</li><li>å‡½æ•°å³æœåŠ¡FaaSï¼ˆFunction as a serviceï¼‰ï¼šæœåŠ¡å•†æä¾›ä¸€ä¸ªå¹³å°ï¼Œå…è®¸å®¢æˆ·å¼€å‘ã€è¿è¡Œå’Œç®¡ç†åº”ç”¨ç¨‹åºåŠŸèƒ½ï¼Œè€Œä¸ç”¨å…³å¿ƒå¦‚ä½•å¯åŠ¨å’Œéƒ¨ç½²è¿™æ ·çš„ç¨‹åºã€‚è¿™ä¸ªæ¨¡å¼æ˜¯â€œæ— æœåŠ¡å™¨â€ä½“ç³»æ¶æ„çš„æ–¹å¼ï¼Œå…·æœ‰çµæ´»æ€§ï¼Œé€‚åˆæ„å»ºå¾®æœåŠ¡åº”ç”¨ç¨‹åºã€‚</li></ul><h3 id="äº‘åŸç”Ÿæ¶æ„"><a href="#äº‘åŸç”Ÿæ¶æ„" class="headerlink" title="äº‘åŸç”Ÿæ¶æ„"></a>äº‘åŸç”Ÿæ¶æ„</h3><p>äº‘åŸç”ŸæŠ€æœ¯ä¸ºå…¬å¸åœ¨å…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€æ··åˆäº‘ç­‰æ–°å‹åŠ¨æ€ç¯å¢ƒä¸­ï¼Œæ„å»ºå’Œè¿è¡Œå¯å¼¹æ€§æ‹“å±•çš„åº”ç”¨æä¾›äº†å¯èƒ½ã€‚</p><p>äº‘åŸç”Ÿä¸ºå…¬å¸æä¾›äº†ä»¥ä¸‹å…³é”®èƒ½åŠ›ï¼š</p><h3 id="å¼¹æ€§èµ„æºè°ƒåº¦"><a href="#å¼¹æ€§èµ„æºè°ƒåº¦" class="headerlink" title="å¼¹æ€§èµ„æºè°ƒåº¦"></a>å¼¹æ€§èµ„æºè°ƒåº¦</h3><ul><li>æœåŠ¡èµ„æºè°ƒåº¦ï¼šåˆ†é…å¾®æœåŠ¡ã€å¤§æœåŠ¡ä½¿ç”¨çš„èµ„æºã€‚</li><li>è®¡ç®—èµ„æºè°ƒåº¦ï¼šåˆ†é…åœ¨çº¿è®¡ç®—ã€ç¦»çº¿è®¡ç®—ä½¿ç”¨çš„èµ„æº</li><li>æ¶ˆæ¯é˜Ÿåˆ—ï¼šå’Œè®¡ç®—èµ„æºè°ƒåº¦ç±»ä¼¼ï¼Œæä¾›æµ·é‡çš„æ•°æ®ååå’Œå¤§æ•°æ®åˆ†æèƒ½åŠ›ã€‚</li></ul><h3 id="å¼¹æ€§å­˜å‚¨èµ„æº"><a href="#å¼¹æ€§å­˜å‚¨èµ„æº" class="headerlink" title="å¼¹æ€§å­˜å‚¨èµ„æº"></a>å¼¹æ€§å­˜å‚¨èµ„æº</h3><p>äº‘åŸç”Ÿè®©ç”¨æˆ·å¯ä»¥å°†å­˜å‚¨èµ„æºçœ‹ä½œæœåŠ¡ï¼Œå¯»æ‰¾å¯¹åº”çš„æœåŠ¡æ¥æ»¡è¶³è‡ªå·±çš„å­˜å‚¨éœ€æ±‚ã€‚</p><ul><li>ç»å…¸å­˜å‚¨ï¼šå¯¹è±¡å­˜å‚¨ã€å¤§æ•°æ®è®°å½•å­˜å‚¨ã€‚</li><li>å…³ç³»å‹æ•°æ®åº“ï¼šä¸šåŠ¡è®°å½•å­˜å‚¨ã€‚</li><li>å…ƒæ•°æ®ï¼šæä¾›æœåŠ¡å‘ç°èƒ½åŠ›</li><li>NoSQLï¼škey-valueå­˜å‚¨ï¼Œå®ç°ç¼“å­˜å’Œåˆ†å¸ƒå¼äº‹åŠ¡ã€‚</li></ul><h3 id="DevOps"><a href="#DevOps" class="headerlink" title="DevOps"></a>DevOps</h3><p>DevOpsè´¯ç©¿æ•´ä¸ªè½¯ä»¶å¼€å‘å‘¨æœŸï¼Œä½¿ç”¨ä¸€ç³»åˆ—è‡ªåŠ¨åŒ–æµç¨‹ï¼Œæé«˜è½¯ä»¶å¼€å‘ã€äº¤ä»˜çš„æ•ˆç‡ã€‚DevOpsæä¾›äº†æ•æ·å¼€å‘ã€æŒç»­é›†æˆ&#x2F;äº¤ä»˜ï¼ˆCI&#x2F;CDï¼‰çš„èƒ½åŠ›ã€‚</p><h3 id="å¾®æœåŠ¡æ¶æ„"><a href="#å¾®æœåŠ¡æ¶æ„" class="headerlink" title="å¾®æœåŠ¡æ¶æ„"></a>å¾®æœåŠ¡æ¶æ„</h3><p>å¾®æœåŠ¡æ¶æ„å®ç°ä¸šåŠ¡åŠŸèƒ½å•å…ƒçš„è§£è€¦ï¼ŒåŒæ—¶æä¾›ä¸€å¥—ç»Ÿä¸€çš„é€šä¿¡æ ‡å‡†ç¡®ä¿æœåŠ¡ä¹‹é—´çš„æ•°æ®æµé€šã€‚</p><p>å¾®æœåŠ¡å¸¸è§çš„é€šä¿¡æ ‡å‡†æ˜¯HTTPï¼ˆRESTful APIï¼‰å’ŒRPCï¼ˆThrift, gRPCï¼‰ï¼Œéœ€è¦ç»“åˆæ€§èƒ½ã€æœåŠ¡æ²»ç†ã€åè®®å¯è§£é‡Šæ€§æ¥é€‰æ‹©ã€‚å®é™…åœºæ™¯ä¸‹ï¼Œå¸¸å¸¸ä½¿ç”¨å¾®æœåŠ¡æ¡†æ¶æä¾›çš„é€šä¿¡èƒ½åŠ›ï¼Œè€Œä¸ç”¨è‡ªå·±ä»å¤´å®ç°ä¸€å¥—ã€‚</p><h3 id="æœåŠ¡ç½‘æ ¼"><a href="#æœåŠ¡ç½‘æ ¼" class="headerlink" title="æœåŠ¡ç½‘æ ¼"></a>æœåŠ¡ç½‘æ ¼</h3><p>æœåŠ¡ç½‘æ ¼å®ç°ä¸šåŠ¡ä¸æ²»ç†çš„ç»“æ„ä»¥åŠå¼‚æ„ç³»ç»Ÿæ²»ç†çš„ç»Ÿä¸€åŒ–ï¼Œä»è€Œæä¾›å¤æ‚çš„æ²»ç†èƒ½åŠ›ã€‚</p><h3 id="æœåŠ¡å‘ç°"><a href="#æœåŠ¡å‘ç°" class="headerlink" title="æœåŠ¡å‘ç°"></a>æœåŠ¡å‘ç°</h3><p>æœåŠ¡æ³¨å†Œä¸å‘ç° Eurekaæˆ–Consulç­‰æœåŠ¡å¯ä»¥ç”¨äºæœåŠ¡å‘ç°ã€‚</p><p>æœåŠ¡æ³¨å†Œä¸å‘ç°ä½¿æœåŠ¡å¯ä»¥åŠ¨æ€åœ°æ‰¾åˆ°å…¶ä»–æœåŠ¡çš„ä½ç½®ã€‚</p><pre><code class="go">// ä½¿ç”¨Consulè¿›è¡ŒæœåŠ¡æ³¨å†ŒconsulConfig := consulapi.DefaultConfig()consulConfig.Address = &quot;localhost:8500&quot;client, err := consulapi.NewClient(consulConfig)if err != nil &#123;    log.Fatal(err)&#125;// åˆ›å»ºæ–°çš„æœåŠ¡registration := new(consulapi.AgentServiceRegistration)registration.ID = &quot;my-service-id&quot;registration.Name = &quot;my-service&quot;registration.Port = 8080registration.Tags = []string&#123;&quot;my-service&quot;&#125;// æ³¨å†ŒæœåŠ¡agent := client.Agent()if err := agent.ServiceRegister(registration); err != nil &#123;    log.Fatal(err)&#125;// æœåŠ¡å‘ç°é€»è¾‘...</code></pre><h3 id="åˆ†å¸ƒå¼æ¶æ„"><a href="#åˆ†å¸ƒå¼æ¶æ„" class="headerlink" title="åˆ†å¸ƒå¼æ¶æ„"></a>åˆ†å¸ƒå¼æ¶æ„</h3><p>åˆ†å¸ƒå¼é”</p><p>åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œåè°ƒå¤šä¸ªèŠ‚ç‚¹çš„è®¿é—®èµ„æºå¯èƒ½ä¼šå˜å¾—å¤æ‚ã€‚åˆ†å¸ƒå¼é”æ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥åœ¨å¤šä¸ªèŠ‚ç‚¹ä¹‹é—´åŒæ­¥è®¿é—®ã€‚</p><p>å¯ä»¥ä½¿ç”¨Goè¯­è¨€å’ŒRedisåˆ›å»ºåˆ†å¸ƒå¼é”ï¼š</p><pre><code class="go">package mainimport (    &quot;fmt&quot;    &quot;github.com/go-redis/redis/v8&quot;    &quot;golang.org/x/net/context&quot;)func main() &#123;    rdb := redis.NewClient(&amp;redis.Options&#123;        Addr: &quot;localhost:6379&quot;,    &#125;)    ctx := context.Background()    lockKey := &quot;lock_key&quot;    // å°è¯•è·å–é”    locked, err := rdb.SetNX(ctx, lockKey, &quot;lock_value&quot;, 0).Result()    if err != nil || !locked &#123;        fmt.Println(&quot;è·å–é”å¤±è´¥&quot;)        return    &#125;    // æ‰§è¡Œä¸šåŠ¡é€»è¾‘...    // é‡Šæ”¾é”    rdb.Del(ctx, lockKey)    fmt.Println(&quot;ä¸šåŠ¡é€»è¾‘æ‰§è¡Œå®Œæ¯•ï¼Œé”å·²é‡Šæ”¾&quot;)&#125;</code></pre><h2 id="ä¼˜åŒ–æ–¹å¼"><a href="#ä¼˜åŒ–æ–¹å¼" class="headerlink" title="ä¼˜åŒ–æ–¹å¼"></a>ä¼˜åŒ–æ–¹å¼</h2><h3 id="ç¦»åœ¨çº¿èµ„æºå¹¶æ± "><a href="#ç¦»åœ¨çº¿èµ„æºå¹¶æ± " class="headerlink" title="ç¦»åœ¨çº¿èµ„æºå¹¶æ± "></a>ç¦»åœ¨çº¿èµ„æºå¹¶æ± </h3><p>åœ¨çº¿ä¸šåŠ¡ä»¥<strong>IOå¯†é›†å‹</strong>ä¸ºä¸»ï¼Œè¦æ±‚è®¡ç®—çš„<strong>å®æ—¶æ€§</strong>ï¼Œä½†æ˜¯å…·æœ‰<strong>æ½®æ±æ€§</strong>ï¼Œä¸åŒæ—¶é—´æ®µçš„å‹åŠ›ä¸åŒã€‚ç¦»çº¿ä¸šåŠ¡ä»¥<strong>è®¡ç®—å¯†é›†å‹</strong>ä¸ºä¸»ï¼Œå¯¹è®¡ç®—å®æ—¶æ€§ä¸é«˜ã€‚</p><p>æŠŠåœ¨çº¿å’Œç¦»çº¿èµ„æºæ”¾å…¥åŒä¸€ä¸ªèµ„æºæ± è¿›è¡Œè°ƒåº¦ï¼Œåˆ©ç”¨åœ¨çº¿ä¸šåŠ¡çš„æ½®æ±æ€§è‡ªåŠ¨æ‰©ç¼©å®¹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé™ä½ç‰©ç†èµ„æºæˆæœ¬ï¼Œæä¾›æ›´å¤šçš„å¼¹æ€§èµ„æºï¼Œå¢åŠ æ”¶ç›Šã€‚</p><h3 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h3><p>ç®€å•çš„httpè´Ÿè½½å‡è¡¡ è½®è¯¢ç®—æ³•</p><pre><code class="go">package mainimport (    &quot;net/http&quot;    &quot;net/http/httputil&quot;    &quot;net/url&quot;)var servers = []string&#123;    &quot;http://localhost:8081&quot;,    &quot;http://localhost:8082&quot;,&#125;var currentServer = 0func nextServer() string &#123;    server := servers[currentServer]    currentServer = (currentServer + 1) % len(servers)    return server&#125;func main() &#123;    http.HandleFunc(&quot;/&quot;, func(w http.ResponseWriter, r *http.Request) &#123;        server := nextServer()        target, _ := url.Parse(server)        proxy := httputil.NewSingleHostReverseProxy(target)        proxy.ServeHTTP(w, r)    &#125;)    http.ListenAndServe(&quot;:8080&quot;, nil)&#125;</code></pre><h3 id="äº²å’Œæ€§éƒ¨ç½²"><a href="#äº²å’Œæ€§éƒ¨ç½²" class="headerlink" title="äº²å’Œæ€§éƒ¨ç½²"></a>äº²å’Œæ€§éƒ¨ç½²</h3><p>å¦‚æœä¸¤ä¸ªå¾®æœåŠ¡ä¹‹é—´é€šä¿¡å¯†åˆ‡ï¼Œåˆ™è¿™ä¸¤ä¸ªæœåŠ¡çš„äº²å’Œæ€§è¾ƒé«˜ã€‚å°†æ»¡è¶³äº²å’Œæ€§æ¡ä»¶çš„å®¹å™¨è°ƒåº¦åˆ°ä¸€å°å®¿ä¸»æœºï¼Œè®©å¾®æœåŠ¡ä¸­é—´ä»¶ä¸æœåŠ¡ç½‘æ ¼é€šè¿‡å…±äº«å†…å­˜é€šä¿¡ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé™ä½é€šä¿¡æˆæœ¬ï¼Œæé«˜æœåŠ¡å¯ç”¨æ€§ã€‚</p><h3 id="æµé‡æ²»ç†"><a href="#æµé‡æ²»ç†" class="headerlink" title="æµé‡æ²»ç†"></a>æµé‡æ²»ç†</h3><p>åŸºäºå¾®æœåŠ¡ä¸­é—´ä»¶å’ŒæœåŠ¡ç½‘æ ¼çš„æµé‡æ²»ç†ï¼Œèµ‹äºˆå¾®æœåŠ¡ç†”æ–­ã€é‡è¯•çš„èƒ½åŠ›ï¼Œæä¾›å¤æ‚ç¯å¢ƒä¸‹çš„æµé‡è°ƒåº¦ï¼Œå¯ä»¥æé«˜å¾®æœåŠ¡è°ƒç”¨å®¹é”™æ€§ï¼Œå¢å¼ºå®¹ç¾èƒ½åŠ›ï¼Œè¿˜èƒ½è¿›ä¸€æ­¥æé«˜å¼€å‘æ•ˆç‡ã€‚</p><h3 id="CPUæ°´ä½è´Ÿè½½å‡è¡¡"><a href="#CPUæ°´ä½è´Ÿè½½å‡è¡¡" class="headerlink" title="CPUæ°´ä½è´Ÿè½½å‡è¡¡"></a>CPUæ°´ä½è´Ÿè½½å‡è¡¡</h3><p>ç»“åˆIaaSæä¾›çš„èµ„æºæ¢é’ˆå’ŒæœåŠ¡ç½‘æ ¼çš„è´Ÿè½½å‡è¡¡èƒ½åŠ›ï¼Œèƒ½å¤Ÿä¸ºè‡ªåŠ¨æ‰©ç¼©å®¹æä¾›åé¦ˆï¼Œæ‰“å¹³å¼‚æ„ç¯å¢ƒä¸‹ç®—åŠ›çš„å·®å¼‚ã€‚</p><h3 id="å®¹å™¨åŒ–ä¸æœåŠ¡ç¼–æ’"><a href="#å®¹å™¨åŒ–ä¸æœåŠ¡ç¼–æ’" class="headerlink" title="å®¹å™¨åŒ–ä¸æœåŠ¡ç¼–æ’"></a>å®¹å™¨åŒ–ä¸æœåŠ¡ç¼–æ’</h3><p>Docker</p><p>å¯ä»¥ä½¿ç”¨Dockerå°†Goåº”ç”¨ç¨‹åºæ‰“åŒ…åˆ°å®¹å™¨ä¸­ï¼Œå¹¶ç¡®ä¿å®ƒåœ¨ä»»ä½•æ”¯æŒDockerçš„å¹³å°ä¸Šä»¥ç›¸åŒçš„æ–¹å¼è¿è¡Œã€‚</p><p>Kubernetes</p><p>Kubernetesæ˜¯ä¸€ç§å¼ºå¤§çš„å®¹å™¨ç¼–æ’å·¥å…·ï¼Œç”¨äºè‡ªåŠ¨éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚Goè¯­è¨€æ˜¯Kubernetesçš„ä¸»è¦å®ç°è¯­è¨€ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç°ä»£è½¯ä»¶æ¶æ„çš„å¤æ‚æ€§å’Œçµæ´»æ€§è¦æ±‚äº†è§£è®¸å¤šæ¦‚å¿µå’ŒæŠ€æœ¯ã€‚ä»å•æœºåˆ°åˆ†å¸ƒå¼ï¼Œä»å•ä½“åˆ°å¾®æœåŠ¡ï¼Œæ¶æ„æ¼”åŒ–ä¸ºæ»¡è¶³ä¸æ–­å¢é•¿çš„éœ€æ±‚ã€‚</p><p>é€šè¿‡ä½¿ç”¨å¼ºå¤§å’Œçµæ´»çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¦‚Goï¼Œæ‚¨å¯ä»¥æ„å»ºç¬¦åˆè¿™äº›éœ€æ±‚çš„è§£å†³æ–¹æ¡ˆã€‚ä»åˆ†å¸ƒå¼é”åˆ°æœåŠ¡å‘ç°ï¼Œä»è´Ÿè½½å‡è¡¡åˆ°å¾®æœåŠ¡é€šä¿¡ï¼ŒGoä¸ºæ„å»ºç°ä»£ã€å¯æ‰©å±•å’Œé«˜æ€§èƒ½çš„ç³»ç»Ÿæä¾›äº†å¼ºå¤§çš„å·¥å…·å’Œåº“ã€‚</p><p>ä¸æ–­å­¦ä¹ å’Œå®è·µè¿™äº›æ¦‚å¿µå’ŒæŠ€æœ¯å°†ä½¿æ‚¨æ›´å¥½åœ°è®¾è®¡å’Œæ„å»ºå¤æ‚çš„ç³»ç»Ÿï¼Œæ»¡è¶³ä¸šåŠ¡ç›®æ ‡ï¼Œå¹¶åº”å¯¹æœªæ¥çš„æŒ‘æˆ˜ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/08/24/go%E6%9E%B6%E6%9E%84%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>gorm åˆä½“éªŒ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/08/23/gorm%E5%88%9D%E4%BD%93%E9%AA%8C%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/08/23/gorm%E5%88%9D%E4%BD%93%E9%AA%8C%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Wed, 23 Aug 2023 13:50:26 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;gorm&quot;&gt;&lt;a href=&quot;#gorm&quot; class=&quot;headerlink&quot; title=&quot;gorm&quot;&gt;&lt;/a&gt;gorm&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://gorm.io/gorm.svg&quot;&gt;&lt;/p&gt;
&lt;p&gt;gormæ˜¯Golangè¯­è¨€ä¸­ä¸€æ¬¾æ€§èƒ½</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="gorm"><a href="#gorm" class="headerlink" title="gorm"></a>gorm</h2><p><img src="https://gorm.io/gorm.svg"></p><p>gormæ˜¯Golangè¯­è¨€ä¸­ä¸€æ¬¾æ€§èƒ½æå¥½çš„ORMåº“ï¼Œå¯¹å¼€å‘äººå‘˜ç›¸å¯¹æ˜¯æ¯”è¾ƒå‹å¥½çš„ã€‚æ¥ä¸‹æ¥ä¸»è¦å­¦ä¹ ä¸‹gormåº“çš„ä¸€äº›åŸºæœ¬ä½¿ç”¨ã€‚</p><p>åŠŸèƒ½æ¦‚è§ˆ</p><ul><li>å…¨åŠŸèƒ½ ORM</li><li>å…³è” (Has Oneï¼ŒHas Manyï¼ŒBelongs Toï¼ŒMany To Manyï¼Œå¤šæ€ï¼Œå•è¡¨ç»§æ‰¿)</li><li>Createï¼ŒSaveï¼ŒUpdateï¼ŒDeleteï¼ŒFind ä¸­é’©å­æ–¹æ³•</li><li>æ”¯æŒ Preloadã€Joins çš„é¢„åŠ è½½</li><li>äº‹åŠ¡ï¼ŒåµŒå¥—äº‹åŠ¡ï¼ŒSave Pointï¼ŒRollback To Saved Point</li><li>Contextã€é¢„ç¼–è¯‘æ¨¡å¼ã€DryRun æ¨¡å¼</li><li>æ‰¹é‡æ’å…¥ï¼ŒFindInBatchesï¼ŒFind&#x2F;Create with Mapï¼Œä½¿ç”¨ SQL è¡¨è¾¾å¼ã€Context Valuer è¿›è¡Œ CRUD</li><li>SQL æ„å»ºå™¨ï¼ŒUpsertï¼Œæ•°æ®åº“é”ï¼ŒOptimizer&#x2F;Index&#x2F;Comment Hintï¼Œå‘½åå‚æ•°ï¼Œå­æŸ¥è¯¢<br>å¤åˆä¸»é”®ï¼Œç´¢å¼•ï¼Œçº¦æŸ</li><li>Auto Migration</li><li>è‡ªå®šä¹‰ Logger</li><li>çµæ´»çš„å¯æ‰©å±•æ’ä»¶ APIï¼šDatabase Resolverï¼ˆå¤šæ•°æ®åº“ï¼Œè¯»å†™åˆ†ç¦»ï¼‰ã€Prometheusâ€¦</li><li>æ¯ä¸ªç‰¹æ€§éƒ½ç»è¿‡äº†æµ‹è¯•çš„é‡é‡è€ƒéªŒ</li><li>å¼€å‘è€…å‹å¥½</li></ul><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>å®‰è£…</p><pre><code class="bash">go get -u gorm.io/gormgo get -u gorm.io/driver/sqlite</code></pre><h3 id="æ¨¡å‹å®šä¹‰"><a href="#æ¨¡å‹å®šä¹‰" class="headerlink" title="æ¨¡å‹å®šä¹‰"></a>æ¨¡å‹å®šä¹‰</h3><h4 id="åŸºæœ¬å®šä¹‰"><a href="#åŸºæœ¬å®šä¹‰" class="headerlink" title="åŸºæœ¬å®šä¹‰"></a>åŸºæœ¬å®šä¹‰</h4><p>å› ä¸ºormå¯ä»¥è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“ï¼Œåˆ›å»ºè¡¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç”¨ä¸€ä¸ªçº¦å®šçš„å½¢å¼æ¥æè¿°ä¸€ä¸ªschemaï¼Œä¾¿äºä»–åˆ›å»ºè¡¨ï¼Œä¹Ÿä¾¿äºä»£ç ä¸­è°ƒç”¨</p><p>ä¾‹å¦‚</p><pre><code class="go">type User struct &#123;  Name         string  Email        string  Age          uint8&#125;</code></pre><p>è¿™æ ·çš„ä¸€ä¸ªç»“æ„ä½“å°±å¯ä»¥æè¿°userè¿™ä¸ªè¡¨</p><h4 id="gorm-Model"><a href="#gorm-Model" class="headerlink" title="gorm.Model"></a>gorm.Model</h4><pre><code class="go">// gorm.Model çš„å®šä¹‰type Model struct &#123;  ID        uint           `gorm:&quot;primaryKey&quot;`  CreatedAt time.Time  UpdatedAt time.Time  DeletedAt gorm.DeletedAt `gorm:&quot;index&quot;`&#125;</code></pre><p>è¿™ä¸ªçº¦å®šäº†ä¸€äº›gormçš„æ ‡å‡†é…ç½®ï¼Œç›¸å½“äºimplementäº†è¿™ä¸ªç»“æ„ä½“</p><p>ä¾‹å¦‚</p><pre><code class="go">type User struct &#123;  gorm.Model  Name         string  Email        string  Age          uint8&#125;</code></pre><p>è¿™æ ·è¿™ä¸ªgorm.Modelç›¸å½“äºåœ¨userè¡¨é‡Œæ·»åŠ äº†ä¸€äº›åŸºç¡€çš„å­—æ®µ</p><p>è¿™ä¸ªuseræœ€ç»ˆä¼šå˜æˆ ç›¸å½“äº</p><pre><code class="go">type User struct &#123;  ID        uint           `gorm:&quot;primaryKey&quot;`  CreatedAt time.Time  UpdatedAt time.Time  DeletedAt gorm.DeletedAt `gorm:&quot;index&quot;`  Name         string  Email        string  Age          uint8&#125;</code></pre><h4 id="åµŒå…¥ç»“æ„ä½“"><a href="#åµŒå…¥ç»“æ„ä½“" class="headerlink" title="åµŒå…¥ç»“æ„ä½“"></a>åµŒå…¥ç»“æ„ä½“</h4><p>å¦‚ä¸Šçš„gorm.Modelå°±æ˜¯ä¸€ç§åµŒå…¥ç»“æ„ä½“</p><p>å®˜ç½‘çš„è§£é‡Šæ˜¯ï¼šå¯¹äºåŒ¿åå­—æ®µï¼ŒGORM ä¼šå°†å…¶å­—æ®µåŒ…å«åœ¨çˆ¶ç»“æ„ä½“ä¸­</p><p>å…¶ä»–åµŒå…¥æ–¹æ³•ä¸ºï¼š</p><p>å¯¹äºæ­£å¸¸çš„ç»“æ„ä½“å­—æ®µï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡æ ‡ç­¾ embedded å°†å…¶åµŒå…¥ï¼Œä¾‹å¦‚ï¼š</p><pre><code class="go">type Author struct &#123;    Name  string    Email string&#125;type Blog struct &#123;  ID      int  Author  Author `gorm:&quot;embedded&quot;`  Upvotes int32&#125;</code></pre><pre><code class="go">// å®ƒç­‰æ•ˆäºtype Blog struct &#123;  ID    int64  Name  string  Email string  Upvotes  int32&#125;</code></pre><blockquote><p>å¯ä»¥ä½¿ç”¨æ ‡ç­¾ embeddedPrefix æ¥ä¸º db ä¸­çš„å­—æ®µåæ·»åŠ å‰ç¼€<br>Author  Author &#96;gorm:â€embedded;embeddedPrefix:author_â€</p></blockquote><h4 id="å­—æ®µæ ‡ç­¾"><a href="#å­—æ®µæ ‡ç­¾" class="headerlink" title="å­—æ®µæ ‡ç­¾"></a>å­—æ®µæ ‡ç­¾</h4><p>å£°æ˜ model æ—¶ï¼Œtag æ˜¯å¯é€‰çš„ï¼Œgorm æ”¯æŒä»¥ä¸‹è¿™äº› tagï¼š tag åå¤§å°å†™ä¸æ•æ„Ÿï¼Œä½†æˆ‘ä»¬å†™çš„æ—¶å€™æœ€å¥½ç”¨é©¼å³°å‘½åæ³•ã€‚</p><p>å†™æ³•ä¸º åœ¨å­—æ®µåé¢æ·»åŠ é£˜å·å’Œgorm:</p><p>ä¾‹å¦‚</p><pre>ID        uint           `gorm:"primaryKey"`</pre><table><thead><tr><th align="left">æ ‡ç­¾å</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">column</td><td align="left">æŒ‡å®š database çš„åˆ—å</td></tr><tr><td align="left">type</td><td align="left">åˆ—æ•°æ®ç±»å‹ï¼Œæ¨èä½¿ç”¨å…¼å®¹æ€§å¥½çš„é€šç”¨ç±»å‹ï¼Œä¾‹å¦‚ï¼šæ‰€æœ‰æ•°æ®åº“éƒ½æ”¯æŒ boolã€intã€uintã€floatã€stringã€timeã€bytes å¹¶ä¸”å¯ä»¥å’Œå…¶ä»–æ ‡ç­¾ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š<code>not null</code>ã€<code>size</code>, <code>autoIncrement</code>â€¦ åƒ <code>varbinary(8)</code> è¿™æ ·æŒ‡å®šæ•°æ®åº“æ•°æ®ç±»å‹ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚åœ¨ä½¿ç”¨æŒ‡å®šæ•°æ®åº“æ•°æ®ç±»å‹æ—¶ï¼Œå®ƒéœ€è¦æ˜¯å®Œæ•´çš„æ•°æ®åº“æ•°æ®ç±»å‹ï¼Œå¦‚ï¼š<code>MEDIUMINT UNSIGNED not NULL AUTO_INCREMENT</code></td></tr><tr><td align="left">serializer</td><td align="left">æŒ‡å®šå°†æ•°æ®åºåˆ—åŒ–æˆ–ååºåˆ—åŒ–åˆ°æ•°æ®åº“ä¸­çš„åºåˆ—åŒ–å™¨, ä¾‹å¦‚: <code>serializer:json/gob/unixtime</code></td></tr><tr><td align="left">size</td><td align="left">å®šä¹‰åˆ—æ•°æ®ç±»å‹çš„å¤§å°æˆ–é•¿åº¦ï¼Œä¾‹å¦‚ <code>size: 256</code></td></tr><tr><td align="left">primaryKey</td><td align="left">å°†åˆ—å®šä¹‰ä¸ºä¸»é”®</td></tr><tr><td align="left">unique</td><td align="left">å°†åˆ—å®šä¹‰ä¸ºå”¯ä¸€é”®</td></tr><tr><td align="left">default</td><td align="left">å®šä¹‰åˆ—çš„é»˜è®¤å€¼</td></tr><tr><td align="left">precision</td><td align="left">æŒ‡å®šåˆ—çš„ç²¾åº¦</td></tr><tr><td align="left">scale</td><td align="left">æŒ‡å®šåˆ—å¤§å°</td></tr><tr><td align="left">not null</td><td align="left">æŒ‡å®šåˆ—ä¸º NOT NULL</td></tr><tr><td align="left">autoIncrement</td><td align="left">æŒ‡å®šåˆ—ä¸ºè‡ªåŠ¨å¢é•¿</td></tr><tr><td align="left">autoIncrementIncrement</td><td align="left">è‡ªåŠ¨æ­¥é•¿ï¼Œæ§åˆ¶è¿ç»­è®°å½•ä¹‹é—´çš„é—´éš”</td></tr><tr><td align="left">embedded</td><td align="left">åµŒå¥—å­—æ®µ</td></tr><tr><td align="left">embeddedPrefix</td><td align="left">åµŒå…¥å­—æ®µçš„åˆ—åå‰ç¼€</td></tr><tr><td align="left">autoCreateTime</td><td align="left">åˆ›å»ºæ—¶è¿½è¸ªå½“å‰æ—¶é—´ï¼Œå¯¹äº <code>int</code> å­—æ®µï¼Œå®ƒä¼šè¿½è¸ªæ—¶é—´æˆ³ç§’æ•°ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>nano</code>&#x2F;<code>milli</code> æ¥è¿½è¸ªçº³ç§’ã€æ¯«ç§’æ—¶é—´æˆ³ï¼Œä¾‹å¦‚ï¼š<code>autoCreateTime:nano</code></td></tr><tr><td align="left">autoUpdateTime</td><td align="left">åˆ›å»º&#x2F;æ›´æ–°æ—¶è¿½è¸ªå½“å‰æ—¶é—´ï¼Œå¯¹äº <code>int</code> å­—æ®µï¼Œå®ƒä¼šè¿½è¸ªæ—¶é—´æˆ³ç§’æ•°ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>nano</code>&#x2F;<code>milli</code> æ¥è¿½è¸ªçº³ç§’ã€æ¯«ç§’æ—¶é—´æˆ³ï¼Œä¾‹å¦‚ï¼š<code>autoUpdateTime:milli</code></td></tr><tr><td align="left">index</td><td align="left">æ ¹æ®å‚æ•°åˆ›å»ºç´¢å¼•ï¼Œå¤šä¸ªå­—æ®µä½¿ç”¨ç›¸åŒçš„åç§°åˆ™åˆ›å»ºå¤åˆç´¢å¼•ï¼ŒæŸ¥çœ‹ <a href="https://gorm.io/zh_CN/docs/indexes.html">ç´¢å¼•</a> è·å–è¯¦æƒ…</td></tr><tr><td align="left">uniqueIndex</td><td align="left">ä¸ <code>index</code> ç›¸åŒï¼Œä½†åˆ›å»ºçš„æ˜¯å”¯ä¸€ç´¢å¼•</td></tr><tr><td align="left">check</td><td align="left">åˆ›å»ºæ£€æŸ¥çº¦æŸï¼Œä¾‹å¦‚ <code>check:age &gt; 13</code>ï¼ŒæŸ¥çœ‹ <a href="https://gorm.io/zh_CN/docs/constraints.html">çº¦æŸ</a> è·å–è¯¦æƒ…</td></tr><tr><td align="left">&lt;-</td><td align="left">è®¾ç½®å­—æ®µå†™å…¥çš„æƒé™ï¼Œ <code>&lt;-:create</code> åªåˆ›å»ºã€<code>&lt;-:update</code> åªæ›´æ–°ã€<code>&lt;-:false</code> æ— å†™å…¥æƒé™ã€<code>&lt;-</code> åˆ›å»ºå’Œæ›´æ–°æƒé™</td></tr><tr><td align="left">-&gt;</td><td align="left">è®¾ç½®å­—æ®µè¯»çš„æƒé™ï¼Œ<code>-&gt;:false</code> æ— è¯»æƒé™</td></tr><tr><td align="left">-</td><td align="left">å¿½ç•¥è¯¥å­—æ®µï¼Œ<code>-</code> è¡¨ç¤ºæ— è¯»å†™ï¼Œ<code>-:migration</code> è¡¨ç¤ºæ— è¿ç§»æƒé™ï¼Œ<code>-:all</code> è¡¨ç¤ºæ— è¯»å†™è¿ç§»æƒé™</td></tr><tr><td align="left">comment</td><td align="left">è¿ç§»æ—¶ä¸ºå­—æ®µæ·»åŠ æ³¨é‡Š</td></tr></tbody></table><h3 id="è¿æ¥æ•°æ®åº“"><a href="#è¿æ¥æ•°æ®åº“" class="headerlink" title="è¿æ¥æ•°æ®åº“"></a>è¿æ¥æ•°æ®åº“</h3><p>å®˜æ–¹æä¾›çš„ä»£ç </p><pre><code class="go">import (  &quot;gorm.io/driver/mysql&quot;  &quot;gorm.io/gorm&quot;)func main() &#123;  // å‚è€ƒ https://github.com/go-sql-driver/mysql#dsn-data-source-name è·å–è¯¦æƒ…  dsn := &quot;user:pass@tcp(127.0.0.1:3306)/dbname?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;  db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;&#125;)&#125;</code></pre><p>è¿™é‡Œæˆ‘æä¾›ä¸€ç§å°è£…æ–¹æ¡ˆï¼Œå› ä¸ºä¸€èˆ¬æ•°æ®åº“é…ç½®å†™åœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œé˜²æ­¢æ³„éœ²ä¸ä¸»ä»£ç åˆ†ç¦»â€˜</p><pre><code class="go">import (    &quot;fmt&quot;    &quot;gorm.io/driver/mysql&quot;    &quot;gorm.io/gorm&quot;    &quot;gorm.io/gorm/schema&quot;)type Config struct &#123;    // æ•°æ®åº“é…ç½®    DBList DBListConf&#125;type DBListConf struct &#123;    Mysql MysqlConf&#125;type MysqlConf struct &#123;    Address     string    Username    string    Password    string    DBName      string    TablePrefix string&#125;type ServiceContext struct &#123;    Config Config    DBList *DBList&#125;type DBList struct &#123;    Mysql *gorm.DB&#125;func NewServiceContext(c Config) *ServiceContext &#123;    return &amp;ServiceContext&#123;        Config: c,        DBList: initDB(c),    &#125;&#125;func initDB(c Config) *DBList &#123;    dbList := new(DBList)    dbList.Mysql = initMysql(c)    return dbList&#125;func initMysql(c Config) *gorm.DB &#123;    dsn := fmt.Sprintf(&quot;%s:%s@tcp(%s)/%s?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;,        c.DBList.Mysql.Username,        c.DBList.Mysql.Password,        c.DBList.Mysql.Address,        c.DBList.Mysql.DBName,    )    db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;        NamingStrategy: schema.NamingStrategy&#123;            TablePrefix:   c.DBList.Mysql.TablePrefix, // è¡¨åå‰ç¼€            SingularTable: true,                       // ä½¿ç”¨å•æ•°è¡¨å        &#125;,        DisableForeignKeyConstraintWhenMigrating: true,    &#125;)    if err != nil &#123;        panic(err)    &#125;    // è‡ªåŠ¨å»ºè¡¨    err = db.AutoMigrate(&amp;model.Video&#123;&#125;, &amp;model.Favorite&#123;&#125;, &amp;model.Comment&#123;&#125;)    if err != nil &#123;        panic(err)    &#125;    return db&#125;func main() &#123;    // åˆ›å»ºé…ç½®å®ä¾‹    config := Config&#123;        DBList: DBListConf&#123;            Mysql: MysqlConf&#123;                Address:     &quot;Address&quot;,                Username:    &quot;root&quot;,                Password:    &quot;1111111111111&quot;,                DBName:      &quot;dbname&quot;,                TablePrefix: &quot;Prefix&quot;,            &#125;,        &#125;,    &#125;    // åˆ›å»ºæœåŠ¡ä¸Šä¸‹æ–‡    serviceContext := NewServiceContext(config)        // åœ¨è¿™é‡Œä½ å¯ä»¥ä½¿ç”¨ serviceContext è¿›è¡Œæ“ä½œ    // ...    fmt.Println(&quot;Database initialization and configuration completed.&quot;)&#125;</code></pre><p>è¿™é‡Œå‡ºç°äº†è‡ªåŠ¨å»ºè¡¨çš„æ“ä½œAutoMigrate ä½ éœ€è¦æŠŠä½ æƒ³è¦åˆ›å»ºçš„æ¨¡å‹ä¼ è¿›æ¥è‡ªåŠ¨å»ºè¡¨</p><h2 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h2><h3 id="1-C"><a href="#1-C" class="headerlink" title="1. C"></a>1. C</h3><p>æ¥ä¸‹æ¥å¼€å§‹ crud,</p><p>å‡å¦‚ä½ æœ‰ä¸€ä¸ªuserè¡¨ï¼Œå¯ä»¥ä½¿ç”¨createåˆ›å»ºå¤šä¸ªæ•°æ®</p><pre><code class="go">users := []*User&#123;    User&#123;Name: &quot;Jinzhu&quot;, Age: 18, Birthday: time.Now()&#125;,    User&#123;Name: &quot;Jackson&quot;, Age: 19, Birthday: time.Now()&#125;,&#125;result := db.Create(users) // pass a slice to insert multiple rowresult.Error        // returns errorresult.RowsAffected // returns inserted records count</code></pre><p>Errorç›¸ä¿¡ä½ ä¼šæ¥</p><pre><code class="go">if result.Error != nil &#123;    return exit&#125;</code></pre><p>æˆ–è€…å¯ä»¥ç›´æ¥åœ¨createé‡Œ</p><pre><code class="go">err := db.create().Errorif err != nil &#123;    return exit&#125;</code></pre><h3 id="2-R"><a href="#2-R" class="headerlink" title="2.R"></a>2.R</h3><p>æ ¹æ®ä¸»é”®æ£€ç´¢</p><pre><code class="go">db.First(&amp;user, 10)// SELECT * FROM users WHERE id = 10;db.First(&amp;user, &quot;10&quot;)// SELECT * FROM users WHERE id = 10;db.Find(&amp;users, []int&#123;1,2,3&#125;)// SELECT * FROM users WHERE id IN (1,2,3);</code></pre><p>è¿™é‡Œçš„firstä¸ºæ£€ç´¢ç¬¬ä¸€ä¸ª limitä¸º1</p><p>æ£€ç´¢å…¨éƒ¨å¯¹è±¡</p><pre><code class="go">// Get all recordsresult := db.Find(&amp;users)// SELECT * FROM users;result.RowsAffected // returns found records count, equals `len(users)`result.Error        // returns error</code></pre><p>æ¡ä»¶æ£€ç´¢</p><p>è¿™æ ·ç›¸å½“äºæ‹¼sqlè¯­å¥</p><pre><code class="go">// Get first matched recorddb.Where(&quot;name = ?&quot;, &quot;jinzhu&quot;).First(&amp;user)// SELECT * FROM users WHERE name = &#39;jinzhu&#39; ORDER BY id LIMIT 1;// Get all matched recordsdb.Where(&quot;name &lt;&gt; ?&quot;, &quot;jinzhu&quot;).Find(&amp;users)// SELECT * FROM users WHERE name &lt;&gt; &#39;jinzhu&#39;;// INdb.Where(&quot;name IN ?&quot;, []string&#123;&quot;jinzhu&quot;, &quot;jinzhu 2&quot;&#125;).Find(&amp;users)// SELECT * FROM users WHERE name IN (&#39;jinzhu&#39;,&#39;jinzhu 2&#39;);// LIKEdb.Where(&quot;name LIKE ?&quot;, &quot;%jin%&quot;).Find(&amp;users)// SELECT * FROM users WHERE name LIKE &#39;%jin%&#39;;// ANDdb.Where(&quot;name = ? AND age &gt;= ?&quot;, &quot;jinzhu&quot;, &quot;22&quot;).Find(&amp;users)// SELECT * FROM users WHERE name = &#39;jinzhu&#39; AND age &gt;= 22;// Timedb.Where(&quot;updated_at &gt; ?&quot;, lastWeek).Find(&amp;users)// SELECT * FROM users WHERE updated_at &gt; &#39;2000-01-01 00:00:00&#39;;// BETWEENdb.Where(&quot;created_at BETWEEN ? AND ?&quot;, lastWeek, today).Find(&amp;users)// SELECT * FROM users WHERE created_at BETWEEN &#39;2000-01-01 00:00:00&#39; AND &#39;2000-01-08 00:00:00&#39;;</code></pre><p>é«˜çº§æŸ¥è¯¢ <a href="https://gorm.io/zh_CN/docs/advanced_query.html">https://gorm.io/zh_CN/docs/advanced_query.html</a></p><h3 id="3-U"><a href="#3-U" class="headerlink" title="3.U"></a>3.U</h3><p>æ›´æ–° æ‰€æœ‰å­—æ®µ</p><pre><code class="go">db.Save(&amp;User&#123;Name: &quot;jinzhu&quot;, Age: 100&#125;)// INSERT INTO `users` (`name`,`age`,`birthday`,`update_at`) VALUES (&quot;jinzhu&quot;,100,&quot;0000-00-00 00:00:00&quot;,&quot;0000-00-00 00:00:00&quot;)db.Save(&amp;User&#123;ID: 1, Name: &quot;jinzhu&quot;, Age: 100&#125;)// UPDATE `users` SET `name`=&quot;jinzhu&quot;,`age`=100,`birthday`=&quot;0000-00-00 00:00:00&quot;,`update_at`=&quot;0000-00-00 00:00:00&quot; WHERE `id` = 1</code></pre><p>æ›´å¤šæ›´æ–°æ–¹æ³• <a href="https://gorm.io/zh_CN/docs/update.html">https://gorm.io/zh_CN/docs/update.html</a></p><h3 id="4-D"><a href="#4-D" class="headerlink" title="4.D"></a>4.D</h3><p>åˆ é™¤ä¸€æ¡è®°å½• </p><pre><code class="go">// Email çš„ ID æ˜¯ `10`db.Delete(&amp;email)// DELETE from emails where id = 10;// å¸¦é¢å¤–æ¡ä»¶çš„åˆ é™¤db.Where(&quot;name = ?&quot;, &quot;jinzhu&quot;).Delete(&amp;email)// DELETE from emails where id = 10 AND name = &quot;jinzhu&quot;;</code></pre><p>æ›´å¤šåˆ é™¤æ–¹æ³• <a href="https://gorm.io/zh_CN/docs/delete.html">https://gorm.io/zh_CN/docs/delete.html</a></p><p>å…¶ä¸­çš„è½¯åˆ é™¤æ„Ÿè§‰å¾ˆæœ‰ç”¨</p><blockquote><p>å½“è°ƒç”¨Deleteæ—¶ï¼ŒGORMå¹¶ä¸ä¼šä»æ•°æ®åº“ä¸­åˆ é™¤è¯¥è®°å½•ï¼Œè€Œæ˜¯å°†è¯¥è®°å½•çš„DeleteAtè®¾ç½®ä¸ºå½“å‰æ—¶é—´ï¼Œè€Œåçš„ä¸€èˆ¬æŸ¥è¯¢æ–¹æ³•å°†æ— æ³•æŸ¥æ‰¾åˆ°æ­¤æ¡è®°å½•ã€‚</p></blockquote><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>gormæ˜¯ä¸ªå¾ˆå¥½ç”¨çš„goçš„ormæ¡†æ¶ï¼Œå¯¹å¾ˆå¤šæ•°æ®åº“éƒ½å…¼å®¹</p><p>æ€§èƒ½ä¹Ÿå¾ˆå¥½ï¼Œæ“ä½œèµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/08/23/gorm%E5%88%9D%E4%BD%93%E9%AA%8C%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>goè¯­è¨€ä¸‰ä¸ªå°é¡¹ç›® ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/07/25/go%E8%AF%AD%E8%A8%80%E4%B8%89%E4%B8%AA%E5%B0%8F%E9%A1%B9%E7%9B%AE%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/07/25/go%E8%AF%AD%E8%A8%80%E4%B8%89%E4%B8%AA%E5%B0%8F%E9%A1%B9%E7%9B%AE%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Tue, 25 Jul 2023 11:59:09 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;çŒœæ•°å­—&quot;&gt;&lt;a href=&quot;#çŒœæ•°å­—&quot; class=&quot;headerlink&quot; title=&quot;çŒœæ•°å­—&quot;&gt;&lt;/a&gt;çŒœæ•°å­—&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;çŒœæ•°å­—&lt;br&gt;è¿™ä¸ªé¡¹ç›®éå¸¸ç®€å•ï¼Œå®ƒæ¶‰åŠåˆ°éšæœºæ•°çš„ç”Ÿæˆå’Œç”¨æˆ·è¾“å…¥æ“ä½œã€‚&lt;br&gt;æˆ‘ä»¬ä½¿ç”¨äº†bufioåº“æ¥å¤„ç†è¾“å…¥æ•°æ®ã€‚&lt;/l</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="çŒœæ•°å­—"><a href="#çŒœæ•°å­—" class="headerlink" title="çŒœæ•°å­—"></a>çŒœæ•°å­—</h2><ol><li>çŒœæ•°å­—<br>è¿™ä¸ªé¡¹ç›®éå¸¸ç®€å•ï¼Œå®ƒæ¶‰åŠåˆ°éšæœºæ•°çš„ç”Ÿæˆå’Œç”¨æˆ·è¾“å…¥æ“ä½œã€‚<br>æˆ‘ä»¬ä½¿ç”¨äº†bufioåº“æ¥å¤„ç†è¾“å…¥æ•°æ®ã€‚</li></ol><pre><code class="go">reader := bufio.NewReader(os.Stdin)input, _ := reader.ReadString(&#39;\n&#39;)</code></pre><h2 id="ç®€å•å­—å…¸"><a href="#ç®€å•å­—å…¸" class="headerlink" title="ç®€å•å­—å…¸"></a>ç®€å•å­—å…¸</h2><ol start="2"><li>æ ‡å‡†åº“strconv<br>å®ƒä¸»è¦ç”¨äºå­—ç¬¦å’Œå…¶ä»–ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚</li></ol><pre><code class="go">strconv.Atoi(s string) int </code></pre><ol start="3"><li>æ ‡å‡†åº“strings</li></ol><pre><code class="go">strings.TrimSuffix(s string ,  suffix string) string</code></pre><p>åˆ é™¤æœ«å°¾å­—ç¬¦ï¼Œå¦‚æœæ²¡æœ‰å°±æ­£å¸¸è¿”å›</p><ol start="4"><li>ç½‘ç»œåº“</li></ol><pre><code class="go">client := &amp;http.Client&#123;&#125;</code></pre><p>åˆå§‹åŒ–è¯·æ±‚å®¢æˆ·ç«¯</p><pre><code class="go">req,  err := http.NewRequest(&quot;POST&quot;, &quot;https://api.interpreter.caiyunai.com/v1/dict&quot;,  data)</code></pre><p>æ„é€ å¤´</p><pre><code class="go">req.Header.Set(&quot;authority&quot;,  &quot;api.interpreter.caiyunai.com&quot;)</code></pre><p>è¯·æ±‚</p><pre><code class="go">bodyText,  err := io.ReadAll(resp.Body)err = json.Unmarshal(bodyText,  &amp;dictResponse)</code></pre><ol start="5"><li>osåº“</li></ol><pre><code class="go">word := os.Args[1]</code></pre><p>è·å–ç¯å¢ƒå‚æ•°</p><h2 id="socks5ä»£ç†"><a href="#socks5ä»£ç†" class="headerlink" title="socks5ä»£ç†"></a>socks5ä»£ç†</h2><pre><code class="go">package mainimport (    &quot;context&quot;    &quot;encoding/binary&quot;    &quot;fmt&quot;    &quot;io&quot;    &quot;net&quot;)const (    socks5Ver  = 0x05    atypeIPV4  = 0x01    atypeHOST  = 0x03    cmdConnect = 0x01)func main() &#123;    // å‡è®¾åœ¨è¿™é‡Œå»ºç«‹ä¸€ä¸ª net.Listener ç›‘å¬ Socks5 ä»£ç†è¯·æ±‚    for &#123;        client, err := acceptConnection()        if err != nil &#123;            continue        &#125;        // å¼€å¯ä¸€ä¸ª goroutine å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚        go handleSocks5Client(client)    &#125;&#125;func acceptConnection() (net.Conn, error) &#123;    // å®ç°æ¥æ”¶è¿æ¥è¯·æ±‚çš„é€»è¾‘&#125;func handleSocks5Client(conn net.Conn) &#123;    defer conn.Close()    // é‰´æƒé˜¶æ®µ    if err := auth(conn); err != nil &#123;        fmt.Println(&quot;Authentication error:&quot;, err)        return    &#125;    // é€šè®¯é˜¶æ®µ    addr, err := connect(conn)    if err != nil &#123;        fmt.Println(&quot;Connection error:&quot;, err)        return    &#125;    // ç»™å®¢æˆ·ç«¯å›åŒ…ï¼Œè¡¨ç¤ºè¿æ¥æˆåŠŸ    _, _ = conn.Write([]byte&#123;socks5Ver, 0x00, 0x00, atypeIPV4, 0, 0, 0, 0, 0, 0&#125;)    // å¼€å§‹è¿›è¡Œæ•°æ®è½¬å‘    dest, err := net.Dial(&quot;tcp&quot;, addr)    if err != nil &#123;        fmt.Println(&quot;Failed to connect to destination:&quot;, err)        return    &#125;    defer dest.Close()    ctx, cancel := context.WithCancel(context.Background())    defer cancel()    // ä»å®¢æˆ·ç«¯åˆ°ç›®æ ‡åœ°å€çš„æ•°æ®æ‹·è´    go func() &#123;        _, _ = io.Copy(dest, conn)        cancel()    &#125;()    // ä»ç›®æ ‡åœ°å€åˆ°å®¢æˆ·ç«¯çš„æ•°æ®æ‹·è´    go func() &#123;        _, _ = io.Copy(conn, dest)        cancel()    &#125;()    &lt;-ctx.Done()&#125;func auth(conn net.Conn) error &#123;    buf := make([]byte, 2)    _, err := io.ReadFull(conn, buf)    if err != nil &#123;        return err    &#125;    ver, nmethods := buf[0], buf[1]    methods := make([]byte, nmethods)    _, err = io.ReadFull(conn, methods)    if err != nil &#123;        return err    &#125;    // åœ¨è¿™é‡Œæ ¹æ®æ”¶åˆ°çš„ methods è¿›è¡Œè®¤è¯å¤„ç†    // å‡è®¾è¿™é‡Œé€‰æ‹©ä¸éœ€è¦è®¤è¯ï¼Œå›åŒ…å‘ŠçŸ¥å®¢æˆ·ç«¯ä¸éœ€è¦è®¤è¯    _, err = conn.Write([]byte&#123;socks5Ver, 0x00&#125;)    if err != nil &#123;        return err    &#125;    return nil&#125;func connect(conn net.Conn) (string, error) &#123;    buf := make([]byte, 4)    _, err := io.ReadFull(conn, buf)    if err != nil &#123;        return &quot;&quot;, err    &#125;    ver, cmd, _, atyp := buf[0], buf[1], buf[2], buf[3]    if ver != socks5Ver || cmd != cmdConnect &#123;        return &quot;&quot;, fmt.Errorf(&quot;Unsupported SOCKS5 command&quot;)    &#125;    var addr string    switch atyp &#123;    case atypeIPV4:        buf := make([]byte, 4)        _, err := io.ReadFull(conn, buf)        if err != nil &#123;            return &quot;&quot;, err        &#125;        addr = fmt.Sprintf(&quot;%d.%d.%d.%d&quot;, buf[0], buf[1], buf[2], buf[3])    case atypeHOST:        hostSizeBuf := make([]byte, 1)        _, err := io.ReadFull(conn, hostSizeBuf)        if err != nil &#123;            return &quot;&quot;, err        &#125;        hostSize := int(hostSizeBuf[0])        hostBuf := make([]byte, hostSize)        _, err = io.ReadFull(conn, hostBuf)        if err != nil &#123;            return &quot;&quot;, err        &#125;        addr = string(hostBuf)    &#125;    portBuf := make([]byte, 2)    _, err = io.ReadFull(conn, portBuf)    if err != nil &#123;        return &quot;&quot;, err    &#125;    port := binary.BigEndian.Uint16(portBuf)    return fmt.Sprintf(&quot;%v:%v&quot;, addr, port), nil&#125;</code></pre><p>ä½¿ç”¨ SOCKS5 ä»£ç†çš„å®ç°ï¼Œæ¶µç›–äº†ä»¥ä¸‹ä¸»è¦æ­¥éª¤ï¼š</p><p>é‰´æƒé˜¶æ®µï¼š</p><p>è§£æå®¢æˆ·ç«¯å‘é€çš„ç‰ˆæœ¬å·ã€æ”¯æŒçš„è®¤è¯æ–¹æ³•æ•°é‡å’Œè®¤è¯æ–¹æ³•åˆ—è¡¨ã€‚<br>é’ˆå¯¹æ”¯æŒçš„è®¤è¯æ–¹æ³•è¿›è¡ŒéªŒè¯ï¼Œè¿”å›è®¤è¯æˆåŠŸçš„å›åŒ…ã€‚<br>é€šè®¯é˜¶æ®µï¼š</p><p>è§£æå®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬å·ã€å‘½ä»¤ç±»å‹ã€ç›®æ ‡åœ°å€ç±»å‹ã€ç›®æ ‡åœ°å€ã€ç›®æ ‡ç«¯å£ç­‰ä¿¡æ¯ã€‚<br>æ ¹æ®ç›®æ ‡åœ°å€ç±»å‹å’Œåœ°å€è§£ææ–¹å¼ï¼Œè·å–ç›®æ ‡åœ°å€å’Œç«¯å£å·ã€‚<br>å‘ç›®æ ‡åœ°å€å‘èµ·è¿æ¥è¯·æ±‚ï¼Œå¹¶è¿”å›è¿æ¥æˆåŠŸçš„å›åŒ…ã€‚<br>è¿›ç¨‹ç®¡ç†ï¼š</p><p>ä½¿ç”¨ goroutine åå°å¼€å¯ä¸¤ä¸ªæœåŠ¡å™¨äº¤äº’è¿›ç¨‹ã€‚<br>é€šè¿‡ context åº“è¿›è¡Œè¿›ç¨‹ç®¡ç†ï¼Œç¡®ä¿è¿›ç¨‹åœ¨å¿…è¦æ—¶å¯ä»¥è¢«å…³é—­ã€‚<br>å°†å®¢æˆ·ç«¯å’Œç›®æ ‡ä¹‹é—´çš„æ•°æ®äº’ç›¸æ‹·è´ï¼Œä½¿å¾—æ•°æ®èƒ½å¤Ÿåœ¨ä¸¤è€…ä¹‹é—´ä¼ é€’ã€‚</p><h2 id="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"></a>å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š</h2><p>åœ¨è¿™èŠ‚è¯¾å­¦ä¹ çš„å†…å®¹ä¸­ï¼Œæˆ‘æ”¶è·äº†å¾ˆå¤šå…³äºGoè¯­è¨€ç¼–ç¨‹çš„çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„æ„Ÿæƒ³ï¼š</p><p>Goè¯­è¨€çš„ç®€æ´å’Œé«˜æ•ˆï¼šé€šè¿‡å­¦ä¹ è¿™äº›åŸºç¡€æ ‡å‡†åº“å’Œç›¸å…³åŠŸèƒ½ï¼Œæˆ‘æ·±åˆ»æ„Ÿå—åˆ°Goè¯­è¨€çš„ç®€æ´å’Œé«˜æ•ˆã€‚æ ‡å‡†åº“æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œè®©ç¼–ç¨‹å˜å¾—æ›´åŠ ç®€å•å’Œé«˜æ•ˆã€‚</p><p>æ•°æ®ç±»å‹è½¬æ¢å’Œå­—ç¬¦ä¸²å¤„ç†ï¼šå­¦ä¹ äº†strconvå’ŒstringsåŒ…ï¼Œå¯¹äºæ•°æ®ç±»å‹è½¬æ¢å’Œå­—ç¬¦ä¸²å¤„ç†æœ‰äº†æ›´æ·±å…¥çš„äº†è§£ã€‚è¿™äº›å·¥å…·ä½¿å¾—åœ¨å¤„ç†ç”¨æˆ·è¾“å…¥å’Œæ•°æ®è½¬æ¢æ—¶æ›´åŠ æ–¹ä¾¿ã€‚</p><p>ç½‘ç»œç¼–ç¨‹å’ŒHTTPåº“ï¼šäº†è§£äº†Goè¯­è¨€ä¸­çš„ç½‘ç»œç¼–ç¨‹å’Œnet&#x2F;httpåŒ…ï¼Œæˆ‘ç°åœ¨èƒ½å¤Ÿç¼–å†™ç®€å•çš„HTTPæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼Œè¿™å¯¹äºå¼€å‘ç½‘ç»œåº”ç”¨å’ŒæœåŠ¡ç«¯ç¨‹åºéå¸¸æœ‰ç”¨ã€‚</p><p>æ–‡ä»¶æ“ä½œå’Œç³»ç»Ÿäº¤äº’ï¼šé€šè¿‡osåŒ…çš„å­¦ä¹ ï¼Œæˆ‘å­¦ä¼šäº†å¦‚ä½•åœ¨Goè¯­è¨€ä¸­è¿›è¡Œæ–‡ä»¶æ“ä½œå’Œä¸æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œè¿™å¯¹äºå¤„ç†æ–‡ä»¶å’Œç³»ç»Ÿé…ç½®ååˆ†é‡è¦ã€‚</p><p>ä»£ç†å’Œé‰´æƒï¼šå­¦ä¹ äº†socks5ä»£ç†å’Œé‰´æƒæœºåˆ¶ï¼Œæˆ‘å¯¹ç½‘ç»œä»£ç†å’Œå®‰å…¨è®¤è¯æœ‰äº†æ›´æ·±åˆ»çš„ç†è§£ï¼Œè¿™å¯¹äºå¼€å‘å®‰å…¨æ€§è¾ƒé«˜çš„åº”ç”¨éå¸¸é‡è¦ã€‚</p><p>ä¸Šä¸‹æ–‡å¤„ç†ï¼šcontextåŒ…çš„å­¦ä¹ ä½¿æˆ‘äº†è§£äº†åœ¨Goè¯­è¨€ä¸­å¦‚ä½•ä¼˜é›…åœ°å¤„ç†è¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œæ›´å¥½åœ°æ§åˆ¶è¯·æ±‚çš„æµç¨‹å’Œç”Ÿå‘½å‘¨æœŸã€‚</p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/07/25/go%E8%AF%AD%E8%A8%80%E4%B8%89%E4%B8%AA%E5%B0%8F%E9%A1%B9%E7%9B%AE%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>LINUX æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†</title>
      <link>https://xyxsw.ltd/2023/05/08/%E6%8C%91%E6%88%98%EF%BC%9A%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86/</link>
      <guid>https://xyxsw.ltd/2023/05/08/%E6%8C%91%E6%88%98%EF%BC%9A%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86/</guid>
      <pubDate>Mon, 08 May 2023 12:26:21 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;LINUX-æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†&quot;&gt;&lt;a href=&quot;#LINUX-æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†&quot; class=&quot;headerlink&quot; title=&quot;LINUX æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†&quot;&gt;&lt;/a&gt;LINUX æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="LINUX-æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†"><a href="#LINUX-æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†" class="headerlink" title="LINUX æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†"></a>LINUX æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†</h1><ol><li></li></ol><pre><code>wget https://labfile.oss.aliyuncs.com/courses/2585/06.tar.gztar -xzf 06.tar.gzchmod 700 ./06.sh./06.sh</code></pre><ol start="2"><li></li></ol><pre><code>sudo userdel guest2sudo userdel guest3sudo userdel guest4sudo userdel guest5sudo rm -rf /home/guest2sudo rm -rf /home/guest3sudo rm -rf /home/guest4sudo rm -rf /home/guest5sudo groupadd guestmkdir /tmp/tempusersudo usermod -u 2000 -g guest -d /tmp/tempuser guest1 </code></pre><ol start="3"><li></li></ol><pre><code>sudo mkdir /home/vsftpdusersudo useradd vsftpduser -d /home/vsftpduser -s /usr/sbin/nologin sudo chown vsftpduser /home/vsftpdusersudo chgrp vsftpduser /home/vsftpdusersudo chmod 744 /home/vsftpduser</code></pre><ol start="4"><li></li></ol><pre><code>sudo useradd magsudo useradd devsudo useradd testsudo mkdir /srv/projectx/magsudo mkdir /srv/projectx/devsudo mkdir /srv/projectx/testsudo usermod -G dev magsudo chown dev:dev /srv/projectxsudo chmod 751 /srv/projectxsudo chmod o+rx /srv/projectx/devsudo chmod o+rx /srv/projectx/test</code></pre><ol start="5"><li></li></ol><pre><code>cat /etc/passwd | grep bash | cut -d &#39;:&#39; -f 1,3 &gt; users.txt</code></pre><ol start="6"><li></li></ol><pre><code>sudo useradd stusudo passwd stu123456123456sudo visudo:21# æŒ‰iå¾€é‡Œå†™stu ALL=(shiyanlou:shiyanlou) /bin/touch# é€€å‡ºæŒ‰:wq</code></pre><ol start="7"><li></li></ol><pre><code>sudo passwd dev123456123456sudo touch /etc/sudoers.d/devsudo chmod 777 /etc/sudoers.d/devvim /etc/sudoers.d/dev# æŒ‰iå¾€é‡Œå†™dev  ALL=(root:root) /usr/sbin/useradd# é€€å‡ºæŒ‰:wq</code></pre>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/Linux%E5%AE%9E%E9%AA%8C/">Linuxå®éªŒ</category>
      
      
      <comments>https://xyxsw.ltd/2023/05/08/%E6%8C%91%E6%88%98%EF%BC%9A%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Web å¼€å‘å®‰å…¨ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/02/08/Web%20%E5%BC%80%E5%8F%91%E5%AE%89%E5%85%A8%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/02/08/Web%20%E5%BC%80%E5%8F%91%E5%AE%89%E5%85%A8%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Wed, 08 Feb 2023 02:51:11 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;strong&gt;è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 17 å¤©&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;è¯¾ç¨‹é‡ç‚¹&quot;&gt;&lt;a href=&quot;#è¯¾ç¨‹é‡ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;è¯¾ç¨‹é‡ç‚¹&quot;&gt;&lt;/a&gt;è¯¾ç¨‹é‡ç‚¹&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;</description>
        
      
      
      
      <content:encoded><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 17 å¤©</strong></p><h2 id="è¯¾ç¨‹é‡ç‚¹"><a href="#è¯¾ç¨‹é‡ç‚¹" class="headerlink" title="è¯¾ç¨‹é‡ç‚¹"></a>è¯¾ç¨‹é‡ç‚¹</h2><ul><li><p>Web ç›¸å…³çš„æ”»å‡»ä»‹ç»</p></li><li><p>Web ç›¸å…³çš„é˜²å¾¡ä»‹ç»</p></li></ul><h2 id="è¯¦ç»†ä»‹ç»"><a href="#è¯¦ç»†ä»‹ç»" class="headerlink" title="è¯¦ç»†ä»‹ç»"></a>è¯¦ç»†ä»‹ç»</h2><h3 id="XSS-Cross-Site-Scripting"><a href="#XSS-Cross-Site-Scripting" class="headerlink" title="XSS (Cross-Site Scripting)"></a>XSS (Cross-Site Scripting)</h3><p>ä¸»è¦æ˜¯ç”±äºç›²ç›®ä¿¡ä»»ç”¨æˆ·è¾“å…¥ï¼Œç›´æ¥å°†ç”¨æˆ·è¾“å…¥æ¸²æŸ“å‡ºæ¥ï¼Œå¯¼è‡´äº†æ”»å‡»è„šæœ¬çš„æ¤å…¥</p><p>ç‰¹ç‚¹ï¼š</p><ol><li>é€šå¸¸éš¾ä»¥ä» UI ä¸Šæ„ŸçŸ¥</li><li>çªƒå–ç”¨æˆ·ä¿¡æ¯ï¼Œä¾‹å¦‚ cookie å’Œ token</li></ol><p>å¸¸è§çš„ä¼šå¯¼è‡´XSSçš„ä»£ç ï¼š</p><pre><code>document.writeel.innerHTML = anyString</code></pre><p>æ€»ç»“æ¥è¯´ï¼Œæ‰€æœ‰èƒ½å¤Ÿæ¸²æŸ“domç»“æ„çš„å‡½æ•°ï¼Œéƒ½æœ‰å¯èƒ½å¯¼è‡´XSSæ”»å‡»ã€‚</p><p>æ¯”å¦‚è®ºå›åœºæ™¯ä¸­ï¼Œ<strong>ç”¨æˆ·æäº¤çš„å†…å®¹åŒ…å«æ¶æ„scriptæ ‡ç­¾</strong></p><pre><code class="js">fetch(&quot;/submit&quot;, &#123;    body: JSON.stringify(&#123;        id: &quot;1&quot;,        content: `&lt;script&gt;alert(&quot;xss&quot;);&lt;/script&gt;`    &#125;)&#125;)</code></pre><p>å¯¼è‡´ä»£ç è¢«æ’å…¥åˆ°å¸–å­ä¸­ï¼Œæ‰€æœ‰ç”¨æˆ·è®¿é—®é¡µé¢éƒ½ä¼šæ‰§è¡Œæ¶æ„è„šæœ¬</p><p>XSS èƒ½å¤Ÿåˆ†æˆä¸‹é¢å››ç±»</p><p><code>Stored XSS</code> ç›´æ¥å°†æ¶æ„è„šæœ¬å‚¨å­˜åˆ°äº†æ•°æ®åº“ä¸­ï¼Œå¯¼è‡´ä¹‹åçš„æ‰€æœ‰è®¿é—®å‡ä¼šæºå¸¦æ¶æ„è„šæœ¬ï¼Œå±å®³å¾ˆå¤§</p><pre><code>Reflected XSS` åå°„å‹ï¼Œä¸å‚¨å­˜æ•°æ®ï¼Œä»…ä»…ä»URLä¼ å…¥è„šæœ¬å¯¼è‡´æ”»å‡»ï¼Œä¾‹å¦‚ `/path?param=&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt;</code></pre><p><code>DOM-based XSS</code> ä¸ç”±æœåŠ¡å™¨å‚ä¸ï¼Œæ”»å‡»çš„å‘èµ·å’Œæ‰§è¡Œéƒ½åœ¨æµè§ˆå™¨ï¼Œå¸¸è§äºå‰ç«¯æ¡†æ¶ä¸­</p><p><code>Mutation-based XSS</code> åˆ©ç”¨æµè§ˆå™¨çš„ç‰¹æ€§ï¼Œä¸åŒæµè§ˆå™¨ä¼šæœ‰åŒºåˆ«ï¼Œä¾‹å¦‚</p><pre><code>&lt;noscript&gt;&lt;p title=&quot;&lt;/noscript&gt;&lt;img src=x onerror=alert(1)&gt;&quot;&gt;</code></pre><h3 id="CSRF-Cross-site-request-forgery"><a href="#CSRF-Cross-site-request-forgery" class="headerlink" title="CSRF (Cross-site request forgery)"></a>CSRF (Cross-site request forgery)</h3><p>ç‰¹ç‚¹ï¼š</p><ol><li>åœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„å‰æä¸‹</li><li>åˆ©ç”¨ç”¨æˆ·æƒé™ï¼ˆcookieï¼‰</li><li>æ„é€ æŒ‡å®šHTTPè¯·æ±‚ï¼Œçªƒå–æˆ–ä¿®æ”¹ç”¨æˆ·æ•æ„Ÿä¿¡æ¯</li></ol><p>ä¾‹å­ï¼š</p><p>ç”¨æˆ·æ²¡æœ‰è®¿é—®é“¶è¡Œç½‘é¡µï¼Œä½†æ˜¯è®¿é—®äº†ä¸€ä¸ªå¸¦æœ‰æ”»å‡»å†…å®¹çš„ç½‘é¡µï¼Œè¯¥ç½‘é¡µå°è¯•è¯·æ±‚é“¶è¡Œæ¥å£ï¼Œç”±äºç”¨æˆ·ç™»å½•è¿‡é“¶è¡Œï¼Œæ¥å£æºå¸¦cookieï¼Œå¯¼è‡´è¯·æ±‚æˆåŠŸï¼Œä½¿å¾—ç”¨æˆ·å—åˆ°æŸå¤±ã€‚</p><h3 id="SQL-æ³¨å…¥-SQL-Injection"><a href="#SQL-æ³¨å…¥-SQL-Injection" class="headerlink" title="SQL æ³¨å…¥ (SQL Injection)"></a>SQL æ³¨å…¥ (SQL Injection)</h3><p>åœ¨è¯·æ±‚å‚æ•°ä¸­æ„é€ æ¶æ„å­—ç¬¦ä¸²ï¼Œæ‹¼æ¥SQLè¯­å¥ï¼Œå¯¼è‡´æœåŠ¡å™¨æ‰§è¡Œäº†ç‰¹å®šçš„SQLè¯­å¥ï¼Œé€ æˆæ•°æ®åº“å†…å®¹æ³„éœ²</p><p>ä¾‹å­ï¼š</p><pre><code class="js">sql.query(`    SELECT a, b, c FROM table    WHERE username = $&#123;username&#125;    AND form_id = $&#123;form_id&#125;`)</code></pre><p>ä¸Šé¢çš„è¿™æ®µåç«¯ä»£ç ï¼Œæ”»å‡»è€…å°±èƒ½å¤Ÿé€šè¿‡æ„é€ ç‰¹æ®Šçš„ username æˆ– form_idï¼Œä½¿å¾—SQLè¯­å¥çš„æ„ä¹‰è¢«æ”¹å˜</p><p>ä¾‹å¦‚ä¼ å…¥ form_id &#x3D; <code>any; DROP TABLE table;</code></p><p>SQL è¯­å¥æ‹¼æ¥åå˜æˆ <code>SELECT a,b,c FROM table WHERE xxxx AND form_id = any; DROP TABLE table;</code></p><p>å°†å¯¼è‡´æ•°æ®åº“è¢«åˆ é™¤</p><h3 id="SSRF-Server-Side-Request-Forgery"><a href="#SSRF-Server-Side-Request-Forgery" class="headerlink" title="SSRF (Server-Side Request Forgery)"></a>SSRF (Server-Side Request Forgery)</h3><p>æœåŠ¡ç«¯ä¼ªé€ è¯·æ±‚</p><p>ä¾‹å­ï¼š</p><pre><code>ctx.body = await fetch(ctx.query.callback)</code></pre><p>å¯¼è‡´èƒ½å¤Ÿé€šè¿‡ä¼ å…¥çš„å‚æ•°è®¿é—®åˆ°æœåŠ¡å™¨å†…ç½‘çš„ç›¸å…³æœåŠ¡</p><h3 id="DoS-Denial-of-Service"><a href="#DoS-Denial-of-Service" class="headerlink" title="DoS (Denial of Service)"></a>DoS (Denial of Service)</h3><p><code>ã€Œ ä¸æå¤æ‚çš„ ï¼Œ é‡å¤§å°±å®Œäº‹å„¿äº† ã€</code></p><p>é€šè¿‡æ„é€ ç‰¹å®šè¯·æ±‚ï¼Œå¯¼è‡´æœåŠ¡å™¨èµ„æºè¢«æ¶ˆè€—ï¼Œæ¥ä¸åŠå“åº”æ›´å¤šè¯·æ±‚ï¼Œå¼•å‘é›ªå´©æ•ˆåº”</p><p>ä¾‹å¦‚ï¼š</p><ol><li>è€—æ—¶çš„åŒæ­¥æ“ä½œ</li><li>æ–‡ä»¶å¤‡ä»½</li><li>æ•°æ®åº“å†™å…¥</li><li>SQL join</li><li>å¾ªç¯æ‰§è¡Œé€»è¾‘</li></ol><h4 id="DDoS-Distributed-DoS"><a href="#DDoS-Distributed-DoS" class="headerlink" title="DDoS (Distributed DoS)"></a>DDoS (Distributed DoS)</h4><p>æ”»å‡»ç‰¹ç‚¹</p><ul><li>ç›´æ¥è®¿é—® IP</li><li>ä»»æ„ API</li><li>æ¶ˆè€—å¤§é‡å¸¦å®½ ï¼ˆ è€—å°½ ï¼‰</li></ul><p>SYN Flood</p><h2 id="å°¾å£°"><a href="#å°¾å£°" class="headerlink" title="å°¾å£°"></a>å°¾å£°</h2><p>å®‰å…¨æ— å°äº‹<br>ä½¿ç”¨çš„ä¾èµ– npm packageï¼Œç”šè‡³æ˜¯ NodeJS å¯èƒ½æˆä¸ºæœ€è–„å¼±çš„ä¸€ç¯</p><ul><li>ä¿æŒå­¦ä¹ å¿ƒæ€<br>npm install é™¤äº†å¸¦æ¥äº†æœæ´ ï¼Œ è¿˜å¯ä»¥å¸¦æ¥æ¼æ´</li></ul><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p><a href="https://bytedance.feishu.cn/file/boxcn9L4YzmTK3mwE3tIBL2UVme">https://bytedance.feishu.cn/file/boxcn9L4YzmTK3mwE3tIBL2UVme</a></p><p><a href="https://baike.baidu.com/item/XSS%E6%94%BB%E5%87%BB/954065">https://baike.baidu.com/item/XSS%E6%94%BB%E5%87%BB/954065</a></p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/02/08/Web%20%E5%BC%80%E5%8F%91%E5%AE%89%E5%85%A8%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>NextJs ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/02/01/NextJS%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/02/01/NextJS%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Wed, 01 Feb 2023 06:54:49 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;strong&gt;è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 16 å¤©&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š&quot;&gt;&lt;a href=&quot;#ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š&quot;&gt;&lt;/a&gt;ä¸€ã€æœ¬</description>
        
      
      
      
      <content:encoded><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 16 å¤©</strong></p><h2 id="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"><a href="#ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š" class="headerlink" title="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"></a>ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š</h2><ol><li>CSR, SSR, SSG</li><li>ä»€ä¹ˆæ˜¯ Next.js</li><li>Next.js å®¢æˆ·ç«¯å¼€å‘</li><li>Next.jsæœåŠ¡ç«¯å¼€å‘</li><li>æ ¸å¿ƒåŠŸèƒ½</li></ol><h2 id="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"><a href="#äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š" class="headerlink" title="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"></a>äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š</h2><h3 id="1-CSR-SSR-SSG"><a href="#1-CSR-SSR-SSG" class="headerlink" title="1. CSR, SSR, SSG"></a>1. CSR, SSR, SSG</h3><h4 id="1-CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“-Client-Side-Renderï¼‰"><a href="#1-CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“-Client-Side-Renderï¼‰" class="headerlink" title="1. CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“ Client Side Renderï¼‰"></a>1. CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“ Client Side Renderï¼‰</h4><p>å³åœ¨å®¢æˆ·ç«¯æ¸²æŸ“ç½‘é¡µç»“æ„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„ Vueã€React å‡é‡‡ç”¨è¿™ç§æ¨¡å¼ã€‚åœ¨æ„å»ºæ—¶å¹¶ä¸ä¼šç”ŸæˆHTMLç»“æ„ï¼Œä»…ä»…åŒ…å«jsä»£ç çš„å¼•ç”¨ã€‚åœ¨æµè§ˆå™¨ç«¯å°†HTMLç»“æ„æ¸²æŸ“å‡ºæ¥ã€‚å®¢æˆ·ç«¯æ¸²æŸ“ä¼šåœ¨é¡¹ç›®ä½“ç§¯è¾ƒå¤§çš„æ—¶å€™å¯èƒ½ä¼šå¯¼è‡´è¾ƒé•¿çš„é¦–å±åŠ è½½æ—¶é—´ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½ï¼Œä¸”å¯¹äºSSOæ¥è¯´å¹¶ä¸å‹å¥½ã€‚</p><h4 id="2-SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“-Server-Side-Renderï¼‰"><a href="#2-SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“-Server-Side-Renderï¼‰" class="headerlink" title="2. SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ Server Side Renderï¼‰"></a>2. SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ Server Side Renderï¼‰</h4><p>æµè§ˆå™¨è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç›´æ¥ç”ŸæˆHTMLç»“æ„å¹¶è¿”å›ï¼Œè¿™ç§æ¨¡å¼å…¶å®å¹¶ä¸å°‘è§ï¼Œæ›¾ç»çš„<code>php</code>å’Œ<code>jsp</code>éƒ½æ˜¯è¿™ç§æ¨¡å¼ã€‚<code>Vue</code> å’Œ <code>React</code> ä¹Ÿå¯¹è¿™ç§æ¨¡å¼è¿›è¡Œäº†æ”¯æŒï¼Œä¾‹å¦‚ React ä¸‹æœ‰ <code>Vercel</code> ä¸»å¯¼çš„ <code>Next.js</code> æ¡†æ¶æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ï¼ŒVue ä¸‹ä¹Ÿæœ‰ç±»ä¼¼çš„æ¡†æ¶ Nuxt.jsã€‚ä¸å‰è€…çš„åŒºåˆ«æ˜¯ï¼Œ<code>php</code>å’Œ<code>jsp</code>çš„å‰åç«¯ä»£ç å®é™…ä¸Šä»æ˜¯åˆ†ç¦»çš„ï¼Œéœ€è¦åŠ¨æ€äº¤äº’çš„éƒ¨åˆ†è¿˜æ˜¯éœ€è¦<code>js</code>ä»‹å…¥ã€‚è€Œ<code>React</code>å’Œ<code>Vue</code>åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½æ˜¯åŒä¸€å¥—ä»£ç ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´å…¶æ¯”å‰è€…å¤šäº†ä¸€æ­¥æ°´åˆ <code>hydrate</code> (ä¹Ÿç§°æ³¨æ°´) çš„æ“ä½œã€‚</p><p>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡ç«¯åœ¨ç”ŸæˆHTMLçš„åŒæ—¶å¯¹å…¶è¿›è¡Œâ€œè„±æ°´â€ï¼Œå³å°†æ¸²æŸ“ç»“æ„çš„åˆå§‹æ•°æ®åˆ†ç¦»å‡ºæ¥ï¼Œå•ç‹¬å‚¨å­˜ï¼Œä»¥ä¾¿è®©å‰ç«¯è¯»å–ã€‚åœ¨æµè§ˆå™¨æ”¶åˆ°é¡µé¢åï¼Œç›¸å…³çš„ä»£ç è¯»å–è¿™éƒ¨åˆ†å†…å®¹ï¼Œå†å¯¹htmlç»“æ„è¿›è¡Œâ€œæ³¨æ°´â€ï¼ˆæ°´åˆï¼‰ï¼Œä½¿å¾—æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æ•°æ®åŒæ­¥ï¼Œä¸”æµè§ˆå™¨ç«¯çš„å…ƒç´ èƒ½å¤Ÿæ­£å¸¸äº¤äº’ã€‚</p><p>æ¯”èµ·CSRï¼ŒSSRèƒ½å¤Ÿå¤§å¹…ç¼©çŸ­é¦–å±åŠ è½½çš„æ—¶é—´ï¼Œä¸”å¯¹äºSSOå‹å¥½ï¼Œä½†æ˜¯éœ€è¦æœåŠ¡å™¨æ”¯æŒã€‚</p><h4 id="3-SSGï¼ˆé™æ€ç½‘é¡µç”Ÿæˆ-Static-Site-Generationï¼‰"><a href="#3-SSGï¼ˆé™æ€ç½‘é¡µç”Ÿæˆ-Static-Site-Generationï¼‰" class="headerlink" title="3. SSGï¼ˆé™æ€ç½‘é¡µç”Ÿæˆ Static Site Generationï¼‰"></a>3. SSGï¼ˆé™æ€ç½‘é¡µç”Ÿæˆ Static Site Generationï¼‰</h4><p>è¿™ç§å½¢å¼å®é™…ä¸Šå’ŒSSRç±»ä¼¼ï¼Œä½†æ˜¯æ— éœ€è¿è¡Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ŒHTMLç»“æ„åœ¨æ„å»ºæ—¶å°±å·²ç»åˆ›å»ºå®Œäº†ï¼Œç”¨æˆ·è®¿é—®æ—¶ï¼Œä»ç„¶æ˜¯ä¸ªé™æ€é¡µï¼Œå´å…·æœ‰SSRé¦–å±åŠ è½½æ—¶é—´çŸ­çš„ä¼˜åŠ¿ï¼Œé€‚åˆé‚£äº›ä¿®æ”¹ä¸é¢‘ç¹çš„ç«™ç‚¹ï¼Œä¾‹å¦‚ä¸€äº›å¼€å‘æ–‡æ¡£ã€‚</p><h3 id="2-ä»€ä¹ˆæ˜¯-Next-js"><a href="#2-ä»€ä¹ˆæ˜¯-Next-js" class="headerlink" title="2.ä»€ä¹ˆæ˜¯ Next.js"></a>2.ä»€ä¹ˆæ˜¯ Next.js</h3><p>åŸºäº React æä¾›çš„ç›¸å…³æœåŠ¡å™¨ç«¯æ¸²æŸ“ API å®ç° ï¼Œ æ•´ä¸ªè¿‡ç¨‹å®ç°æ¯”è¾ƒç¹çé‡å¤ ï¼Œ ä»é›¶å®ç°å¯¹æ–°ä¸Šæ‰‹åŒå­¦å¾ˆä¸å‹å¥½è¿«åˆ‡éœ€è¦ä¸€ä¸ªå°è£…å¥½çš„é›†åˆæ¥å¿«é€Ÿä¸Šæ‰‹æœåŠ¡å™¨ç«¯æ¸²æŸ“ã€‚</p><p>Next.jsæ˜¯ä¸€ä¸ªæ„å»ºäº Node.jsä¹‹ä¸Šçš„å¼€æº we b å¼€å‘æ¡†æ¶ ï¼Œæ”¯æŒåŸºäº React çš„ web åº”ç”¨ç¨‹åºåŠŸèƒ½ ï¼Œ ä¾‹å¦‚æœåŠ¡ç«¯æ¸²æŸ“å’Œç”Ÿæˆé™æ€ç½‘ç«™ ã€‚ä¸Šæ‰‹å¿« ï¼Œ èƒ½åŠ›é›†å…¨ ï¼Œ è¦†ç›–äº†è¶³å¤Ÿå¤šçš„æ€§èƒ½ä¼˜åŒ–ã€‚</p><p>å¯¹äºæ–°åŒå­¦æŒæ¡å‰åç«¯ä¸€ä½“åŒ–çš„å¼€å‘æ¨¡å¼å¾ˆå‹å¥½ ã€‚</p><h3 id="3-Next-js-å®¢æˆ·ç«¯å¼€å‘"><a href="#3-Next-js-å®¢æˆ·ç«¯å¼€å‘" class="headerlink" title="3. Next.js å®¢æˆ·ç«¯å¼€å‘"></a>3. Next.js å®¢æˆ·ç«¯å¼€å‘</h3><ol><li>Next.js åˆå§‹åŒ–</li><li>æ•°æ®æ³¨å…¥</li><li><code>getlnitiaIProps</code></li><li><code>getServerSideProps</code></li><li><code>getStaticProps</code></li><li>CSS Modules</li><li>Layout</li><li>æ–‡ä»¶å¼è·¯ç”±</li><li>B F F å±‚çš„æ–‡ä»¶å¼è·¯ç”±</li><li>è·¯ç”±è·³è½¬</li><li>header çš„ä¿®æ”¹</li><li>å¤šåª’ä½“é€‚é…â€”â€” CSS é€‚é…</li><li>å¤šåª’ä½“é€‚é…â€”â€” JS é€‚é…</li><li>å¤§å›¾ä¼˜åŒ–â€”â€” webp</li></ol><h3 id="4-Next-jsæœåŠ¡ç«¯å¼€å‘"><a href="#4-Next-jsæœåŠ¡ç«¯å¼€å‘" class="headerlink" title="4. Next.jsæœåŠ¡ç«¯å¼€å‘"></a>4. Next.jsæœåŠ¡ç«¯å¼€å‘</h3><ol><li>BFF å±‚å¼€å‘</li><li>è°ƒè¯•æ–¹å¼</li><li>Strapi â€”â€” headless CMS</li></ol><h3 id="5-æ ¸å¿ƒåŠŸèƒ½"><a href="#5-æ ¸å¿ƒåŠŸèƒ½" class="headerlink" title="5. æ ¸å¿ƒåŠŸèƒ½"></a>5. æ ¸å¿ƒåŠŸèƒ½</h3><h4 id="é¦–é¡µåŠŸèƒ½å®ç°"><a href="#é¦–é¡µåŠŸèƒ½å®ç°" class="headerlink" title="é¦–é¡µåŠŸèƒ½å®ç°"></a>é¦–é¡µåŠŸèƒ½å®ç°</h4><ol><li>é¡µé¢ &amp; åŠ¨ç”» &amp; å¤šåª’ä½“é€‚é…</li><li>BFF</li><li>Strapi</li></ol><h4 id="æ–‡ç« é¡µå®ç°"><a href="#æ–‡ç« é¡µå®ç°" class="headerlink" title="æ–‡ç« é¡µå®ç°"></a>æ–‡ç« é¡µå®ç°</h4><ol><li>é¡µé¢ &amp; åŠ¨ç”» &amp; å¤šåª’ä½“é€‚é…</li><li>BFF</li><li>Strapi åˆ†é¡µ</li><li>å¤šåª’ä½“æ ¼å¼çš„è½¬æ¢<ul><li>markdown è½¬ html</li><li>html è½¬ dom</li><li>å…¬å…±æ ·å¼çš„å®šä¹‰</li></ul></li></ol><h4 id="ä¸»é¢˜åŒ–åŠŸèƒ½å®ç°"><a href="#ä¸»é¢˜åŒ–åŠŸèƒ½å®ç°" class="headerlink" title="ä¸»é¢˜åŒ–åŠŸèƒ½å®ç°"></a>ä¸»é¢˜åŒ–åŠŸèƒ½å®ç°</h4><ol><li>åŸºç¡€æ ·å¼å’ŒèƒŒæ™¯çš„æŠ½ç¦»</li><li>ä¸»é¢˜åŒ– <code>context</code> å…¨å±€æ³¨å…¥</li><li>ä»æ³¨å…¥æ•°æ®ä¸­å–å‡º <code>theme</code> å’Œ <code>setTheme</code></li><li>å¤šè¿›ç¨‹é—´çš„ä¸»é¢˜åŒæ­¥</li></ol><h2 id="ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š"><a href="#ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š" class="headerlink" title="ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š"></a>ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š</h2><h3 id="æ€è€ƒé¢˜-ï¼š-http-localhost-3000-å’Œ-http-127-0-0-1-3000-ä¸»é¢˜å¯ä»¥å…±äº«å—"><a href="#æ€è€ƒé¢˜-ï¼š-http-localhost-3000-å’Œ-http-127-0-0-1-3000-ä¸»é¢˜å¯ä»¥å…±äº«å—" class="headerlink" title="æ€è€ƒé¢˜ ï¼š http://localhost:3000 å’Œ http://127.0.0.1:3000 ä¸»é¢˜å¯ä»¥å…±äº«å—"></a>æ€è€ƒé¢˜ ï¼š <a href="http://localhost:3000/">http://localhost:3000</a> å’Œ <a href="http://127.0.0.1:3000/">http://127.0.0.1:3000</a> ä¸»é¢˜å¯ä»¥å…±äº«å—</h3><p>ç­”æ¡ˆæ˜¯<strong>ä¸èƒ½</strong></p><p>å¦‚æœå­˜åœ¨<code>localstorage</code>é‡Œ</p><p>é‚£ä¹ˆè¿™ä¿©åŸŸåä¸æ˜¯åŒåŸŸå</p><p>ä¸ä¼šå…±äº«</p><h3 id="åˆå§‹åŒ–-Next-js-é¡¹ç›®"><a href="#åˆå§‹åŒ–-Next-js-é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ– Next.js é¡¹ç›®"></a>åˆå§‹åŒ– Next.js é¡¹ç›®</h3><p>Next.js æä¾›äº†ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œç›´æ¥å°±èƒ½å¤Ÿåˆ›å»ºé¡¹ç›®</p><pre><code class="bash">npx create-next-app@latest --typescript</code></pre><p>æ¥ä¸‹æ¥å°±èƒ½å¤Ÿçœ‹åˆ°åˆ›å»ºå®Œæˆçš„é¡¹ç›®ç›®å½•äº†ã€‚å¯èƒ½ä¼šæœ‰ä¸‹é¢è¿™äº›æ–‡ä»¶</p><p><code>.eslintrc.json</code> - eslint çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®äº†eslintä½¿ç”¨çš„è¯­æ³•è§„åˆ™</p><p><code>.gitignore</code> - git ä»“åº“çš„å¿½ç•¥æ–‡ä»¶</p><p><code>next-env.d.ts</code> - TypeScript çš„ç±»å‹å®šä¹‰ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿å¼•å…¥Nextå£°æ˜çš„ç±»å‹</p><p><code>next.config.js</code> - Next.js çš„é…ç½®æ–‡ä»¶</p><p><code>pages</code> - é¡µé¢ç›®å½•</p><p><code>styles</code> - æ ·å¼ç›®å½•</p><p><code>public</code> - å…¬å…±èµ„æºç›®å½•ï¼Œä¼šåœ¨æ„å»ºæ—¶è¢«åŸæ ·æ‹·è´</p><h2 id="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"></a>å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š</h2><p>æœ¬æ¬¡è¯¾ç¨‹è®²è§£äº† Next.js çš„åŸºç¡€æ¦‚å¿µã€å®¢æˆ·ç«¯å¼€å‘ä»¥åŠæœåŠ¡ç«¯å¼€å‘ï¼Œä»¥åŠæ ¸å¿ƒåŠŸèƒ½çš„å®ç°ï¼Œè®©æˆ‘å¯¹ Next.js æ‹¥æœ‰äº†æ›´å¤šçš„äº†è§£ï¼Œå®ƒçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„å¼€å‘å¯ä»¥è®©æˆ‘ä»¬æ›´æœ‰æ•ˆçš„å®ç°åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨é¡¹ç›®æ„å»ºçš„æ—¶å€™å¯ä»¥åˆ©ç”¨å®ƒçš„è„šæ‰‹æ¶å¿«é€Ÿåˆ›å»ºé¡¹ç›®ï¼Œå®ç°æ›´åŠ é«˜æ•ˆçš„å¼€å‘ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/02/01/NextJS%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>NodeJSåŸºç¡€ ï½œ é’è®­è¥ç¬”è®°.md</title>
      <link>https://xyxsw.ltd/2023/01/31/NodeJS%E5%9F%BA%E7%A1%80%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/01/31/NodeJS%E5%9F%BA%E7%A1%80%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Tue, 31 Jan 2023 15:00:36 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;strong&gt;è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 15 å¤©&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š&quot;&gt;&lt;a href=&quot;#ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š&quot;&gt;&lt;/a&gt;ä¸€ã€æœ¬</description>
        
      
      
      
      <content:encoded><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 15 å¤©</strong></p><h2 id="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"><a href="#ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š" class="headerlink" title="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"></a>ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š</h2><ol><li>NodeJS åº”ç”¨åœºæ™¯</li><li>NodeJS è¿è¡Œæ—¶ç»“æ„</li><li>ä½¿ç”¨ NodeJS ç¼–å†™ç®€å•çš„ HTTP Server</li><li>NodeJSå»¶ä¼¸</li></ol><h2 id="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"><a href="#äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š" class="headerlink" title="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"></a>äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š</h2><h3 id="1-NodeJSåº”ç”¨åœºæ™¯"><a href="#1-NodeJSåº”ç”¨åœºæ™¯" class="headerlink" title="1. NodeJSåº”ç”¨åœºæ™¯"></a>1. NodeJSåº”ç”¨åœºæ™¯</h3><p>NodeJSè¢«å¹¿æ³›åº”ç”¨äºå‰ç«¯å·¥ç¨‹åŒ–ï¼ˆ<code>Vue</code>ã€<code>React</code>ã€<code>AngularJS</code>ç­‰ï¼‰ã€</p><p>Web æœåŠ¡ç«¯åº”ç”¨ï¼ˆ<code>Vercel</code>ï¼‰å’Œ è·¨ç«¯æ¡Œé¢åº”ç”¨ï¼ˆ<code>Electron</code>ç­‰ï¼‰åœºæ™¯</p><p>è®¸å¤šç†ŸçŸ¥çš„æ‰“åŒ…æ„å»ºå·¥å…·éƒ½æœ‰NodeJSå‚ä¸ï¼Œä¾‹å¦‚ <code>webpack</code>ã€<code>vite</code>ã€<code>esbuild</code>å’Œ<code>parcel</code>ç­‰ï¼Œä¹Ÿæœ‰ä¾‹å¦‚<code>babel</code>å’Œ<code>TS</code>ç­‰è¯­è¨€è½¬æ¢ç¨‹åºä¹Ÿç”±<code>nodejs</code>ç¼–å†™ã€‚</p><p>åœ¨å‰ç«¯å·¥ç¨‹åŒ–é¢†åŸŸï¼Œ<code>NodeJS</code>ä¹Ÿæœ‰è®¸å¤šä¼˜åŠ¿ï¼Œé¦–å…ˆæ˜¯å­¦ä¹ æ›²çº¿å¹³ç¼“ã€å¼€å‘æ•ˆç‡è¾ƒé«˜ã€å…¶æ¬¡æ˜¯è¿è¡Œæ•ˆç‡è¾ƒé«˜ï¼Œç¤¾åŒºç”Ÿæ€ä¸°å¯Œã€‚ä¸”ç”±äºå…¶è¯­è¨€ä¼˜åŠ¿ï¼Œå’Œå‰ç«¯ç»“åˆæ›´åŠ é¡ºç•…ï¼Œä¾‹å¦‚æŸäº›æœåŠ¡ç«¯æ¸²æŸ“åœºæ™¯ã€‚</p><p>åœ¨è·¨ç«¯åº”ç”¨æ–¹é¢ï¼Œå¾®è½¯çš„<code>VSCode</code>ã€èŠå¤©å·¥å…·<code>Discord</code>éƒ½ç”±<code>Electron</code>å¼€å‘ï¼Œå€¼å¾—åœ¨é¡¹ç›®é€‰å‹æ—¶è€ƒè™‘ã€‚</p><p>éš¾ä»¥æ›¿ä»£</p><p>ä¸å‰ç«¯ç»“åˆçš„åœºæ™¯æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿SSR</p><p>å­—èŠ‚ä½¿ç”¨<code>NodeJS</code>ï¼Œé£ä¹¦å°±æ˜¯<code>electron</code>åº”ç”¨  æ¯å¹´æ–°å¢1000+<code>nodejs</code>åº”ç”¨</p><h3 id="2-NodeJSè¿è¡Œæ—¶ç»“æ„"><a href="#2-NodeJSè¿è¡Œæ—¶ç»“æ„" class="headerlink" title="2.NodeJSè¿è¡Œæ—¶ç»“æ„"></a>2.NodeJSè¿è¡Œæ—¶ç»“æ„</h3><ul><li>ç”¨æˆ·ä»£ç </li><li>npm</li><li>js core</li><li>cpp core</li><li>v8</li><li>openssl</li><li>â€¦</li></ul><p>å¼‚æ­¥ã€å•çº¿ç¨‹ã€è·¨å¹³å°</p><h3 id="3-ä½¿ç”¨-NodeJS-ç¼–å†™ç®€å•çš„-HTTP-Server"><a href="#3-ä½¿ç”¨-NodeJS-ç¼–å†™ç®€å•çš„-HTTP-Server" class="headerlink" title="3. ä½¿ç”¨ NodeJS ç¼–å†™ç®€å•çš„ HTTP Server"></a>3. ä½¿ç”¨ NodeJS ç¼–å†™ç®€å•çš„ HTTP Server</h3><p>0 ï¼ å®‰è£… <code>node.js</code><br>1 .    ç¼–å†™ Http Server + Client, æ”¶å‘ GET, POST è¯·æ±‚<br>2 ï¼ ç¼–å†™é™æ€æ–‡ä»¶æœåŠ¡å™¨<br>3 ï¼ ç¼–å†™ React SSR æœåŠ¡<br>4 ï¼ é€‚ç”¨ inspector è¿›è¡Œè°ƒè¯• ã€ è¯Šæ–­<br>5 ï¼ éƒ¨ç½²ç®€ä»‹</p><h3 id="4-NodeJSå»¶ä¼¸"><a href="#4-NodeJSå»¶ä¼¸" class="headerlink" title="4. NodeJSå»¶ä¼¸"></a>4. NodeJSå»¶ä¼¸</h3><ul><li>ç¼–è¯‘</li><li>è¯Šæ–­è¿½è¸ª</li><li>wasm</li><li>napi</li><li>â€¦</li></ul><h2 id="ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š"><a href="#ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š" class="headerlink" title="ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š"></a>ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š</h2><h3 id="ç®€å•çš„-Hello-World"><a href="#ç®€å•çš„-Hello-World" class="headerlink" title="ç®€å•çš„ Hello World"></a>ç®€å•çš„ Hello World</h3><pre><code class="js">const http = require(&#39;http&#39;)const port = 3000const server = http.createServer((req, res) =&gt; &#123;    res.end(&#39;hello&#39;)&#125;)server.listen(port, () =&gt; &#123;    console.log(`listening port on $&#123;port&#125;`)&#125;)</code></pre><p>ä½¿ç”¨ <code>require(&#39;http&#39;)</code> å¼•ç”¨ NodeJS è‡ªå¸¦çš„ http æ¨¡å—ã€‚</p><p>ä½¿ç”¨ <code>createServer</code> æ–¹æ³•ä¸ºè¯·æ±‚ç»‘å®šå¤„ç†äº‹ä»¶å‡½æ•°ï¼Œ</p><p>ä½¿ç”¨ <code>res.end(&#39;hello&#39;)</code> æ¥ç»“æŸè¯·æ±‚å¹¶è¿”å› <code>hello</code> å­—ç¬¦ä¸²ã€‚</p><p>ä½¿ç”¨ <code>listen</code> å‡½æ•°è®¾ç½®ç›‘å¬çš„ç«¯å£ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç«¯å£å·ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç»‘å®šæˆåŠŸçš„å›è°ƒå‡½æ•°ã€‚</p><p>ç”¨æµè§ˆå™¨è®¿é—®127.0.0.1:3000 ä¼šæ˜¾ç¤ºhello</p><h3 id="ç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡"><a href="#ç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡" class="headerlink" title="ç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡"></a>ç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡</h3><pre><code class="js">const http = require(&#39;http&#39;)const fs = require(&#39;fs&#39;)const path = require(&#39;path&#39;)const url = require(&#39;url&#39;)const port = 3000const server = http.createServer((req, res) =&gt; &#123;    const info = url.parse(req.url)    const file = fs.createReadStream(path.resolve(__dirname, &#39;.&#39; + info.pathname))    file.pipe(res)&#125;)server.listen(port, () =&gt; &#123;    console.log(`listening port on $&#123;port&#125;`)&#125;)</code></pre><p>é€šè¿‡ NodeJS è‡ªå¸¦çš„æ–‡ä»¶æ“ä½œæ¨¡å— <code>fs</code> çš„ <code>createReadStream</code> åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶æµï¼Œ</p><p>é€šè¿‡æµå†…éƒ¨æ–¹æ³•pipeå°†å…¶è¾“å‡ºç»™resï¼ˆå“åº”å¯¹è±¡ï¼‰</p><p>èƒ½å°†å¯¹åº”è·¯å¾„çš„æ–‡ä»¶è¿”å›ç»™æµè§ˆå™¨</p><h2 id="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"></a>å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š</h2><p>ä»Šå¤©çš„è¯¾ç¨‹ä¸»è¦ä»‹ç»äº†<strong>NodeJS</strong>çš„åº”ç”¨åœºæ™¯ä»¥åŠè¿è¡Œæ—¶ç»“æ„ï¼Œå¹¶ä¸”ç»“åˆå®ä¾‹ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨<strong>NodeJS</strong>ç¼–å†™ç®€å•çš„HTTP Serverã€‚é€šè¿‡ä»Šå¤©çš„å­¦ä¹ ï¼Œæˆ‘æ›´åŠ æ·±å…¥åœ°äº†è§£äº†<strong>NodeJS</strong>ï¼Œå†æ¬¡æ„Ÿå—åˆ°å®ƒçš„å¼ºå¤§ï¼Œå®ƒå¯ä»¥åº”ç”¨äºå‰ç«¯å·¥ç¨‹åŒ–ã€Web æœåŠ¡ç«¯åº”ç”¨ä»¥åŠè·¨ç«¯æ¡Œé¢åº”ç”¨ç­‰å¤šç§åœºæ™¯ï¼Œå®ƒçš„æœªæ¥ä¹Ÿæ˜¯éå¸¸å¯è§‚çš„ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/01/31/NodeJS%E5%9F%BA%E7%A1%80%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Slidev ç”¨markdownå†™PPTï¼ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/01/30/Slidev%20%E7%94%A8markdown%E5%86%99PPT%EF%BC%81%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/01/30/Slidev%20%E7%94%A8markdown%E5%86%99PPT%EF%BC%81%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Mon, 30 Jan 2023 07:40:31 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;strong&gt;è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 14 å¤©&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;æ¬¢è¿ä½¿ç”¨ Slid</description>
        
      
      
      
      <content:encoded><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 14 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><pre><code>æ¬¢è¿ä½¿ç”¨ Slidev!ä¸ºå¼€å‘è€…æ‰“é€ çš„æ¼”ç¤ºæ–‡ç¨¿å·¥å…·</code></pre><p>slidevæ˜¯slidevjså¼€å‘çš„ä¸€æ¬¾å¼€æºçš„ä½¿ç”¨markdownæ¥ç¼–å†™pptæ ·å¼çš„å‰ç«¯åº”ç”¨çš„æ¡†æ¶</p><p>åªéœ€è¦åœ¨å•ä¸€ Markdown æ–‡ä»¶ä¸­ç¼–å†™å¹»ç¯ç‰‡å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªéå¸¸æ¼‚äº®çš„å‰ç«¯pptåº”ç”¨</p><p>è¿™ä¸ªé¡¹ç›®è‡ªä»<code>0.20.0</code>ç‰ˆæœ¬æˆ‘å°±å…³æ³¨æ¥ç€ï¼Œå½“æ—¶å°±è§‰å¾—å¾ˆç‚«å¾ˆå¥½ç”¨</p><p>æ˜¨å¤©çœ‹åˆ°äº†antfuæ›´æ–°è¯´åœ¨æœ€æ–°ç‰ˆæœ¬<code>0.39.0</code>é‡Œæ”¯æŒäº†ç®€å•çš„åŠ¨ç”»åˆ‡æ¢æ•ˆæœ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230130155007.png"></p><p>ğŸ˜‹æ„Ÿè§‰åŠ¨ç”»åˆ‡æ¢æ˜¯pptæœ€é‡è¦çš„ä¸œè¥¿å§ï¼Œå¾ˆå¥½å¾ˆåœ†æ»¡ğŸ˜</p><p>æ¥è¯•è¯•</p><p><img src="https://cn.sli.dev/screenshots/cover.png" alt="img"></p><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ul><li><p><strong>æ”¯æŒ Markdown è¯­æ³•</strong>ï¼šSlidev ä½¿ç”¨ä¸€ç§æ‰©å±•çš„ Markdown æ ¼å¼ï¼Œåœ¨ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ä¸­å­˜å‚¨å’Œç»„ç»‡ä½ çš„å¹»ç¯ç‰‡ã€‚è¿™è®©ä½ ä¸“æ³¨äºåˆ¶ä½œå†…å®¹ã€‚è€Œä¸”ç”±äºå†…å®¹å’Œæ ·å¼æ˜¯åˆ†å¼€çš„ï¼Œè¿™ä¹Ÿä½¿å¾—åœ¨ä¸åŒçš„ä¸»é¢˜ä¹‹é—´åˆ‡æ¢å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p></li><li><p><strong>å¯å®šåˆ¶ä¸»é¢˜</strong>ï¼šSlidev çš„ä¸»é¢˜å¯ä»¥é€šè¿‡ <code>npm</code> åŒ…çš„å½¢å¼æ¥åˆ†äº«å’Œå®‰è£…ã€‚</p></li><li><p><strong>å¯¹å¼€å‘è€…å‹å¥½</strong>ï¼šSlidev ä¸ºå¼€å‘è€…æä¾›äº†ä¸€æµçš„ä»£ç ç‰‡æ®µæ”¯æŒã€‚å®ƒåŒæ—¶æ”¯æŒ <a href="https://prismjs.com/">Prism</a> å’Œ <a href="https://github.com/shikijs/shiki">Shiki</a> ä»¥è·å¾—åƒç´ çº§çš„å®Œç¾è¯­æ³•é«˜äº®ï¼Œå¹¶ä¸”èƒ½å¤Ÿéšæ—¶ä¿®æ”¹ä»£ç ã€‚é€šè¿‡å†…ç½®çš„ <a href="https://microsoft.github.io/monaco-editor/">Monaco ç¼–è¾‘å™¨</a>ï¼Œå®ƒè¿˜èƒ½è®©ä½ åœ¨æ¼”ç¤ºæ–‡ç¨¿ä¸­è¿›è¡Œç°åœºç¼–ç &#x2F;æ¼”ç¤ºï¼Œå¹¶æ”¯æŒè‡ªåŠ¨è¡¥å…¨ã€ç±»å‹æ‚¬åœã€ç”šè‡³æ˜¯ <code>TypeScript</code> ç±»å‹æ£€æŸ¥ã€‚</p></li><li><p><strong>å¿«é€Ÿ</strong>ï¼šSlidev å¾—ç›Šäº <a href="https://vitejs.dev/">Vite</a>ï¼Œ<a href="https://v3.vuejs.org/">Vue 3</a> å’Œ <a href="https://windicss.org/">Windi CSS</a>ï¼Œä¸ºä½ å¸¦æ¥äº†æœ€ç¾å¦™çš„åˆ›ä½œä½“éªŒã€‚ä½ æ‰€åšçš„æ¯ä¸€ä¸ªæ”¹å˜éƒ½ä¼š<strong>ç«‹å³åæ˜ </strong>åˆ°ä½ çš„å¹»ç¯ç‰‡ä¸Šã€‚</p></li><li><p><strong>äº’åŠ¨æ€§ &amp; ç›´è§‚è¡¨è¾¾</strong>ï¼šä½ å¯ä»¥ç¼–å†™è‡ªå®šä¹‰çš„ Vue ç»„ä»¶å¹¶ç›´æ¥åœ¨ä½ çš„ MarkDown æ–‡ä»¶ä¸­ä½¿ç”¨å®ƒä»¬ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨æ¼”ç¤ºæ–‡ç¨¿ä¸­ä¸å®ƒä»¬äº’åŠ¨ï¼Œä»¥æ›´æ·±å…¥å’Œç›´è§‚çš„æ–¹å¼è¡¨è¾¾ä½ çš„æƒ³æ³•ã€‚</p></li><li><p><strong>æ”¯æŒå½•åˆ¶</strong>ï¼šSlidev æä¾›äº†å†…ç½®çš„å½•éŸ³å’Œæ‘„åƒå¤´è§†å›¾ã€‚ä½ å¯ä»¥å°†ä½ çš„æ¼”ç¤ºæ–‡ç¨¿ä¸ä½ çš„ç›¸æœºè§†å›¾ä¸€èµ·åˆ†äº«ï¼Œæˆ–è€…ä¸ºä½ çš„å±å¹•å’Œç›¸æœºåˆ†åˆ«å½•åˆ¶å¹¶ä¿å­˜ã€‚æ‰€æœ‰è¿™äº›éƒ½æ˜¯å†…ç½®çš„ï¼Œä¸éœ€è¦é¢å¤–çš„å·¥å…·ã€‚</p></li><li><p><strong>å¯ç§»æ¤æ€§</strong>ï¼šç”¨ä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥å°†ä½ çš„å¹»ç¯ç‰‡å¯¼å‡ºä¸º PDF æˆ– PNGï¼Œç”šè‡³æ˜¯å¯æ‰˜ç®¡çš„å•é¡µåº”ç”¨ç¨‹åºï¼ˆSPAï¼‰ï¼Œå¹¶åœ¨ä»»ä½•åœ°æ–¹åˆ†äº«å®ƒä»¬ã€‚</p></li><li><p><strong>å¯é…ç½®</strong>ï¼šç”±äº Slidev åŸºäº Web æŠ€æœ¯ï¼Œä»»ä½•å¯ä»¥åœ¨ Web åº”ç”¨ä¸­å®Œæˆçš„äº‹æƒ…ï¼ŒSlidev ä¹Ÿå¯ä»¥åšåˆ°ã€‚ä¾‹å¦‚ï¼Œ<code>WebGL</code>ã€<code>APIè¯·æ±‚</code>ã€<code>iframes</code>ï¼Œç”šè‡³æ˜¯å®æ—¶å…±äº«ã€‚å®Œå…¨å–å†³äºä½ çš„æƒ³è±¡åŠ›!</p></li><li><p><strong>æ¼”è®²è€…æ¨¡å¼</strong>ï¼š å¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªçª—å£ï¼Œç”šè‡³æ˜¯ä½ çš„æ‰‹æœºæ¥æ§åˆ¶å¹»ç¯ç‰‡ã€‚</p></li></ul><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><pre><code>npm init slidev</code></pre><p>åœ¨package.jsoné‡Œé…ç½®</p><pre><code>&#123;  &quot;scripts&quot;: &#123;    &quot;dev&quot;: &quot;slidev&quot;, //  å¯åŠ¨ dev server    &quot;build&quot;: &quot;slidev build&quot;, // æ„å»ºç”Ÿäº§ç¯å¢ƒçš„å•é¡µé¢åº”ç”¨    &quot;export&quot;: &quot;slidev export&quot; // å°†å¹»ç¯ç‰‡å¯¼å‡ºä¸º pdf æ ¼å¼  &#125;&#125;</code></pre><p>æ‰§è¡Œ <code>npx slidev --help</code> å‘½ä»¤è·å–æ›´å¤šé€‰é¡¹çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>è¿™æ ·å°±å®‰è£…å®Œæˆäº†ï¼Œä½ åªéœ€è¦åœ¨<code>./slides.md</code>é‡Œç¼–å†™ä½ æƒ³è¦çš„å†…å®¹å°±è¡ŒğŸ˜</p><h2 id="æ¨èçš„ç›®å½•ç»“æ„"><a href="#æ¨èçš„ç›®å½•ç»“æ„" class="headerlink" title="æ¨èçš„ç›®å½•ç»“æ„"></a>æ¨èçš„ç›®å½•ç»“æ„</h2><pre><code>your-slidev/  â”œâ”€â”€ components/       # è‡ªå®šä¹‰ç»„ä»¶  â”œâ”€â”€ layouts/          # è‡ªå®šä¹‰å¸ƒå±€  â”œâ”€â”€ public/           # é™æ€èµ„æº  â”œâ”€â”€ setup/            # è‡ªå®šä¹‰ setup / hooks  â”œâ”€â”€ styles/           # è‡ªå®šä¹‰æ ·å¼  â”œâ”€â”€ index.html        # æ³¨å…¥çš„ index.html  â”œâ”€â”€ slides.md         # å¹»ç¯ç‰‡ä¸»å…¥å£  â””â”€â”€ vite.config.ts    # æ‰©å±• vite é…ç½®</code></pre><h2 id="Markdown-è¯­æ³•"><a href="#Markdown-è¯­æ³•" class="headerlink" title="Markdown è¯­æ³•"></a>Markdown è¯­æ³•</h2><h4 id="åˆ†éš”ç¬¦"><a href="#åˆ†éš”ç¬¦" class="headerlink" title="åˆ†éš”ç¬¦"></a>åˆ†éš”ç¬¦</h4><p>ä½¿ç”¨ <code>---</code> æ·»åŠ åˆ†éš”ç¬¦æ¥åˆ†éš”ä½ çš„å¹»ç¯ç‰‡ã€‚</p><p>æ³¨æ„ è¿™ä¸ªåˆ†éš”ç¬¦æœ€å¥½ä¸Šä¸‹ç©ºä¸¤è¡Œ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230130162517.png"></p><p>åƒè¿™æ · </p><p>ä½ å¯ä»¥å®‰è£…ä¸€ä¸ªVSCodeæ’ä»¶ åå«slidev æ¥è·å¾—æ›´å¥½çš„ä½“éªŒï¼Œ<a href="https://marketplace.visualstudio.com/items?itemName=antfu.slidev">https://marketplace.visualstudio.com/items?itemName=antfu.slidev</a></p><p>è¿™ä¸ª#2æ˜¯æ’ä»¶å‘Šè¯‰ä½ è¿™ä¸‹é¢æ˜¯ç¬¬å‡ å¼ å¹»ç¯ç‰‡</p><pre><code># SlidevHello, World!---# Page 2Directly use code blocks for highlighting```tsconsole.log(&#39;Hello, World!&#39;)```---# Page 3You can directly use Windi CSS and Vue components to style and enrich your slides.&lt;div class=&quot;p-3&quot;&gt;  &lt;Tweet id=&quot;20&quot; /&gt;&lt;/div&gt;</code></pre><p>åƒè¿™æ ·å°±åˆ›å»ºäº†ä¸‰å¼ å¹»ç¯ç‰‡</p><h4 id="æ‰‰é¡µåŠå¸ƒå±€"><a href="#æ‰‰é¡µåŠå¸ƒå±€" class="headerlink" title="æ‰‰é¡µåŠå¸ƒå±€"></a>æ‰‰é¡µåŠå¸ƒå±€</h4><p>ç”¨ä¸¤ä¸ªåˆ†éš”ç¬¦æ¥è¡¨ç¤ºä¸€ä¸ªæ‰‰é¡µå—</p><pre><code>---layout: cover---</code></pre><p>ä¸¤ä¸ªåˆ†éš”ç¬¦é‡Œæ˜¯<code>yaml</code>æ ¼å¼çš„å¯¹è±¡</p><p>å…·ä½“çš„è¯­æ³•å¦‚ä¸‹</p><pre><code>---# ä¸»é¢˜id æˆ– ä¸»é¢˜åŒ…åç§°# äº†è§£æ›´å¤šï¼šhttps://sli.dev/themes/use.htmltheme: &#39;default&#39;# å¹»ç¯ç‰‡çš„æ€»æ ‡é¢˜ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé‚£ä¹ˆå°†ä»¥ç¬¬ä¸€å¼ æ‹¥æœ‰æ ‡é¢˜çš„å¹»ç¯ç‰‡çš„æ ‡é¢˜ä½œä¸ºæ€»æ ‡é¢˜title: &#39;Slidev&#39;# titleTemplate for the webpage, `%s` will be replaced by the page&#39;s titletitleTemplate: &#39;%s - Slidev&#39;# information for your slides, can be a markdown stringinfo: false# åœ¨å•é¡µï¼ˆSPAï¼‰æ„å»ºä¸­å¯ç”¨ pdf ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰ urldownload: false# è¦å¯¼å‡ºæ–‡ä»¶çš„æ–‡ä»¶åç§°exportFilename: &#39;slidev-exported.pdf&#39;# è¯­æ³•é«˜äº®è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨ &#39;prism&#39; æˆ– &#39;shiki&#39; æ–¹æ¡ˆhighlighter: &#39;prism&#39;# åœ¨ä»£ç å—ä¸­æ˜¾ç¤ºè¡Œå·lineNumbers: false# å¯ç”¨ monaco ç¼–è¾‘å™¨ï¼Œå¯ä»¥æ˜¯ booleanï¼Œ&#39;dev&#39; æˆ–è€… &#39;build&#39;monaco: &#39;dev&#39;# ä½¿ç”¨ vite-plugin-remote-assets åœ¨æœ¬åœ°ä¸‹è½½è¿œç¨‹èµ„æºï¼Œå¯ä»¥æ˜¯ booleanï¼Œ&#39;dev&#39; æˆ–è€… &#39;build&#39;remoteAssets: false# æ§åˆ¶å¹»ç¯ç‰‡ä¸­çš„æ–‡æœ¬æ˜¯å¦å¯ä»¥é€‰æ‹©selectable: true# å¯ç”¨å¹»ç¯ç‰‡å½•åˆ¶ï¼Œå¯ä»¥æ˜¯ booleanï¼Œ&#39;dev&#39; æˆ–è€… &#39;build&#39;record: &#39;dev&#39;# å¹»ç¯ç‰‡çš„é…è‰²æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç”¨ &#39;auto&#39;ï¼Œ&#39;light&#39; æˆ–è€… &#39;dark&#39;colorSchema: &#39;auto&#39;# vue-router æ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨ &#39;history&#39; æˆ– &#39;hash&#39; æ¨¡å¼routerMode: &#39;history&#39;# å¹»ç¯ç‰‡çš„é•¿å®½æ¯”aspectRatio: &#39;16/9&#39;# canvas çš„çœŸå®å®½åº¦ï¼Œå•ä½ä¸º pxcanvasWidth: 980# ç”¨äºä¸»é¢˜å®šåˆ¶ï¼Œä¼šå°†å±æ€§ `x` æ³¨å…¥æ ¹æ ·å¼ `--slidev-theme-x`themeConfig:  primary: &#39;#5d8392&#39;# favicon å¯ä»¥æ˜¯æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª URLfavicon: &#39;https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png&#39;# ç”¨äºæ¸²æŸ“å›¾è¡¨çš„ PlantUML æœåŠ¡å™¨çš„ URLplantUmlServer: &#39;https://www.plantuml.com/plantuml&#39;# å­—ä½“å°†ä» Google å­—ä½“è‡ªåŠ¨å¯¼å…¥# äº†è§£æ›´å¤šï¼šhttps://sli.dev/custom/fontsfonts:  sans: &#39;Roboto&#39;  serif: &#39;Roboto Slab&#39;  mono: &#39;Fira Code&#39;# ä¸ºæ‰€æœ‰å¹»ç¯ç‰‡æ·»åŠ é»˜è®¤çš„ frontmatterdefaults:  layout: &#39;default&#39;  # ...# ç»˜åˆ¶é€‰é¡¹# äº†è§£æ›´å¤šï¼šhttps://sli.dev/guide/drawing.htmldrawings:  enabled: true  persist: false  presenterOnly: false  syncAll: true---</code></pre><h4 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h4><p>å¯ä»¥é€šè¿‡&#96;&#96;&#96;æ¥åˆ›å»ºä¸€ä¸ªä»£ç å—</p><pre><code>```tsconsole.log(&#39;Hello, World!&#39;)```</code></pre><p>å¯ä»¥é€šè¿‡åœ¨è¯­è¨€ååå†™å¤§æ‹¬å·çš„å½¢å¼æ¥æŒ‡å®šç‰¹å®šè¡Œé«˜äº®<code>&#123;&#125;</code></p><p>æ³¨æ„ï¼šè¡Œå·ä» 1 å¼€å§‹è®¡ç®—ã€‚</p><pre><code>```ts &#123;2-3|5|all&#125;function add(  a: Ref&lt;number&gt; | number,  b: Ref&lt;number&gt; | number) &#123;  return computed(() =&gt; unref(a) + unref(b))&#125;```</code></pre><p>è¿™æ®µä»£ç çš„æ„æ€æ˜¯ ç‚¹è¿›æ¥å…ˆæ˜¯2åˆ°3è¡Œé«˜äº®ï¼Œå†ç‚¹ä¸€ä¸‹2åˆ°3ä¸äº®ç¬¬5è¡Œäº®ï¼Œå†ç‚¹ä¸€ä¸‹æ•´ä¸ªéƒ½äº®</p><h4 id="Monaco-ç¼–è¾‘å™¨"><a href="#Monaco-ç¼–è¾‘å™¨" class="headerlink" title="Monaco ç¼–è¾‘å™¨"></a>Monaco ç¼–è¾‘å™¨</h4><p>åªéœ€åœ¨è¯­è¨€ id åæ·»åŠ  <code>&#123;monaco&#125;</code> å°±å¯ä»¥å¯ç”¨monaco</p><p>ä»€ä¹ˆæ˜¯monacoå‘¢ï¼Œå¯ä»¥ç†è§£ä¸ºç½‘é¡µç‰ˆçš„vscodeé‚£æ ·çš„ï¼Œå¯ä»¥åœ¨çº¿ç¼–è¾‘çš„</p><pre><code>```ts &#123;monaco&#125;console.log(&#39;HelloWorld&#39;)```</code></pre><h4 id="å†…è”æ ·å¼"><a href="#å†…è”æ ·å¼" class="headerlink" title="å†…è”æ ·å¼"></a>å†…è”æ ·å¼</h4><p>ä½ å¯ä»¥åœ¨ Markdown ä¸­ç›´æ¥ä½¿ç”¨ <code>&lt;style&gt;</code> æ ‡ç­¾æ¥è¦†ç›–<strong>å½“å‰å¹»ç¯ç‰‡</strong>çš„æ ·å¼ã€‚</p><p>Slidevæ”¯æŒwindicssçš„åŸå­åŒ–å†™æ³•å’ŒæŒ‡ä»¤é›† ä¾‹å¦‚<code>@apply</code></p><pre><code># Slidev&gt; Hello `world`&lt;style&gt;blockquote &#123;  code &#123;    @apply text-teal-500 dark:text-teal-400;  &#125;&#125;&lt;/style&gt;</code></pre><h4 id="é™æ€èµ„æº"><a href="#é™æ€èµ„æº" class="headerlink" title="é™æ€èµ„æº"></a>é™æ€èµ„æº</h4><p>å’Œç¼–å†™ Markdown çš„æ–¹å¼ä¸€æ ·ï¼Œä½ å¯ä»¥ä½¿ç”¨æœ¬åœ°æˆ–è¿œç¨‹çš„ URL çš„å›¾ç‰‡ã€‚</p><p>è¿œç¨‹èµ„æºä¼šç¼“å­˜</p><p>æœ¬åœ°èµ„æºè¯·æ”¾åˆ°publicæ–‡ä»¶å¤¹</p><h4 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h4><p>ä½ ä¹Ÿå¯ä»¥ä¸ºæ¯å¼ å¹»ç¯ç‰‡ç¼–å†™å¤‡æ³¨ã€‚å®ƒä»¬å°†å±•ç¤ºåœ¨ <a href="https://cn.sli.dev/guide/presenter-mode.html">æ¼”è®²è€…æ¨¡å¼</a> ä¸­ï¼Œä¾›ä½ åœ¨æ¼”ç¤ºæ—¶å‚è€ƒã€‚</p><p>åœ¨æ¯ä¸€é¡µå¹»ç¯ç‰‡å†…å®¹æœ€å</p><p>æ·»åŠ æ³¨é‡Šå³å¯</p><pre><code>---layout: cover---# ç¬¬ 1 é¡µThis is the cover page.&lt;!-- è¿™æ˜¯ä¸€æ¡å¤‡æ³¨ --&gt;---# ç¬¬ 2 é¡µ&lt;!-- è¿™ä¸æ˜¯ä¸€æ¡å¤‡æ³¨ï¼Œå› ä¸ºå®ƒåœ¨å¹»ç¯ç‰‡å†…å®¹å‰ --&gt;The second page&lt;!--è¿™æ˜¯å¦ä¸€æ¡å¤‡æ³¨--&gt;</code></pre><h4 id="iconå›¾æ ‡"><a href="#iconå›¾æ ‡" class="headerlink" title="iconå›¾æ ‡"></a>iconå›¾æ ‡</h4><p>å¾ˆå–œæ¬¢çš„åŠŸèƒ½</p><p>Slidev å…è®¸ä½ åœ¨ Markdown ä¸­<strong>ç›´æ¥</strong>è®¿é—®å‡ ä¹æ‰€æœ‰çš„å¼€æºçš„å›¾æ ‡é›†ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡ <a href="https://icones.js.org/">IcÃ´nes</a> æ¥æµè§ˆè®¿é—®æ‰€æœ‰å¯ç”¨çš„å›¾æ ‡ã€‚</p><p>æ›´è¯¦ç»†çš„è¯·çœ‹<a href="https://cn.sli.dev/guide/syntax.html#icons">https://cn.sli.dev/guide/syntax.html#icons</a></p><h4 id="LaTeX"><a href="#LaTeX" class="headerlink" title="LaTeX"></a>LaTeX</h4><p>è¿™ä¸ªä¸æ˜¯å¾ˆç†Ÿå•Š</p><p><a href="https://demo.sli.dev/starter/8">https://demo.sli.dev/starter/8</a></p><p>å¯ä»¥çœ‹ä¸‹ç¤ºä¾‹ å’Œ æ–‡æ¡£</p><p><a href="https://katex.org/">https://katex.org/</a></p><h4 id="å›¾æ ‡"><a href="#å›¾æ ‡" class="headerlink" title="å›¾æ ‡"></a>å›¾æ ‡</h4><p>è¿™ä¸ªä¸œè¥¿ä¹Ÿæ²¡æ€ä¹ˆç”¨è¿‡ï¼ŒåªçŸ¥é“githubä»€ä¹ˆçš„æ”¯æŒè¿™ç§è¯­æ³• åŸºäº<a href="https://github.com/mermaid-js/mermaid">https://github.com/mermaid-js/mermaid</a></p><p>è¢«æ ‡è®°ä¸º <code>mermaid</code> çš„ä»£ç å—å°†è¢«è½¬æ¢ä¸ºå›¾å½¢ï¼Œä¾‹å¦‚ï¼š</p><pre><code>```mermaidsequenceDiagram  Alice-&gt;John: Hello John, how are you?  Note over Alice,John: A typical interaction```</code></pre><pre><code class="mermaid">sequenceDiagram  Alice-&gt;John: Hello John, how are you?  Note over Alice,John: A typical interaction</code></pre><p>æˆ‘åœ¨typoraä¹Ÿå¯ä»¥åˆ›å»ºè¿™ä¸ªå›¾è¡¨ï¼Œæ„Ÿè§‰å¾ˆå¥½ç”¨</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230130170429.png"></p><h2 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h2><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230130170544.png"></p><p>å¯¼èˆªæ é»˜è®¤åœ¨å·¦ä¸‹è§’ï¼Œé¼ æ ‡ç§»åŠ¨ä¸Šå»æ˜¾ç¤º</p><p>å¯ä»¥ç”¨<code>right / space</code>æ¥åˆ‡æ¢ä¸‹ä¸€å¼ å¹»ç¯ç‰‡</p><p>æŒ‰<code>g</code>è·³å‡ºä¸€ä¸ªæ ï¼Œè¾“å…¥é¡µç å¯ä»¥è·³è½¬</p><p>æ›´å¤šå¿«æ·é”®è¯¦è§<a href="https://cn.sli.dev/guide/navigation.html#navigation-bar">https://cn.sli.dev/guide/navigation.html#navigation-bar</a></p><h2 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h2><p>é‡å¤´æˆ</p><p>è¿™ä¸ªç‰ˆæœ¬å°±æ›´æ–°äº†è¿™ä¸ª</p><h4 id="ç‚¹å‡»åŠ¨ç”»"><a href="#ç‚¹å‡»åŠ¨ç”»" class="headerlink" title="ç‚¹å‡»åŠ¨ç”»"></a>ç‚¹å‡»åŠ¨ç”»</h4><p><code>v-click</code> å¯ä»¥ç”¨<code>&lt;v-click&gt;&lt;/v-click&gt;</code>æ ‡ç­¾æˆ–åœ¨æ ‡ç­¾å†…å†™<code>&lt;div v-click class=&quot;text-xl p-2&quot;&gt;</code>è¿™æ ·çš„æŒ‡ä»¤</p><p>ä»¥ä¸‹æŒ‡ä»¤å†™æ³•åŒç†</p><p><code>v-after</code> å’Œ<code>v-click</code>ç»‘å®šï¼Œè¿™ä¿©ä¼šä¸€èµ·æ˜¾ç¤º</p><p><code>v-click-hide</code>ç‚¹å‡»åä¸å¯è§</p><p><code>v-clicks</code> åªèƒ½ä½¿ç”¨æ ‡ç­¾å†™æ³• å¯ä»¥æ–¹ä¾¿çš„å±•ç¤ºä¸€ä¸ªåˆ—è¡¨</p><pre><code>&lt;v-clicks&gt;- Item 1- Item 2- Item 3- Item 4&lt;/v-clicks&gt;</code></pre><p>ä½ è¿˜å¯ä»¥æ‰‹åŠ¨æŒ‡å®šè¿‡æ¸¡åŠ¨ç”» è¦†å†™ä¸¤ä¸ªç±»çš„åŠ¨ç”»</p><pre><code>// the default.slidev-vclick-target &#123;  transition: opacity 100ms ease;&#125;.slidev-vclick-hidden &#123;  opacity: 0;  pointer-events: none;&#125;</code></pre><h4 id="è¿åŠ¨"><a href="#è¿åŠ¨" class="headerlink" title="è¿åŠ¨"></a>è¿åŠ¨</h4><p><a href="https://vueuse.org/functions.html#category=%40Motion">https://vueuse.org/functions.html#category=%40Motion</a></p><p>å†…ç½®äº†vueuseçš„motionåŠŸèƒ½</p><p>ä½ å¯ä»¥å¯¹ä»»ä½•å…ƒç´ åº”ç”¨ <code>v-motion</code> æŒ‡ä»¤ï¼Œä»¥å¯¹å®ƒä»¬æ–½åŠ è¿åŠ¨æ•ˆæœã€‚ä¾‹å¦‚ï¼š</p><pre><code>&lt;div  v-motion  :initial=&quot;&#123; x: -80 &#125;&quot;  :enter=&quot;&#123; x: 0 &#125;&quot;&gt;  Slidev&lt;/div&gt;</code></pre><p>æ–‡æœ¬ <code>Slidev</code> å°†ä»å…¶åˆå§‹åŒ–ä½ç½® <code>-80px</code> ç§»è‡³å…¶åŸå§‹ä½ç½®ã€‚</p><h4 id="é¡µé¢è¿‡æ¸¡"><a href="#é¡µé¢è¿‡æ¸¡" class="headerlink" title="é¡µé¢è¿‡æ¸¡"></a>é¡µé¢è¿‡æ¸¡</h4><p>ğŸ¤©æ–°åŠŸèƒ½ï¼</p><p>å¯ä»¥åœ¨æ‰‰é¡µä¸­å¡«å†™</p><pre><code>---transition: slide-left---</code></pre><p>è¿™å°†ç»™ä½ ä¸€ä¸ªå¾ˆå¥½çš„æ»‘åŠ¨æ•ˆæœã€‚å°†å…¶è®¾ç½®åœ¨é¦–é¡µï¼Œå°†é€‚ç”¨äºæ‰€æœ‰çš„å¹»ç¯ç‰‡ã€‚æ‚¨è¿˜å¯ä»¥ä¸ºæ¯å¼ å¹»ç¯ç‰‡è®¾ç½®ä¸åŒçš„è¿‡æ¸¡ã€‚</p><p>è‡ªå¸¦çš„è¿‡æ¸¡æ•ˆæœ</p><pre><code>fade - Crossfade in/outfade-out - Fade out and then fade inslide-left - Slides to the left, slide to right when going backslide-right - Slides to the right, slide to left when going backslide-top - Slides to the top, slide to bottom when going backslide-bottom - Slides to the bottom, slide to top when going back</code></pre><p>è¿˜å¯ä»¥è‡ªå®šä¹‰è¿‡æ¸¡æ•ˆæœ</p><pre><code>---transition: my-transition---</code></pre><pre><code>.my-transition-enter-active,.my-transition-leave-active &#123;  transition: opacity 0.5s ease;&#125;.my-transition-enter-from,.my-transition-leave-to &#123;  opacity: 0;&#125;</code></pre><h2 id="å¯¼å‡º"><a href="#å¯¼å‡º" class="headerlink" title="å¯¼å‡º"></a>å¯¼å‡º</h2><p>å¯¼å‡ºä¸ºpdf ä¾èµ–äºå¾®è½¯å¼€æºçš„playwrightæ¡†æ¶</p><p><a href="https://playwright.dev/docs/installation#download-single-browser-binary"><code>playwright-chromium</code></a></p><p>éœ€è¦å…ˆå®‰è£…</p><pre><code>npm i -D playwright-chromium</code></pre><p>ä½¿ç”¨</p><pre><code>slidev export</code></pre><p>å¯å¯¼å‡ºpdfæ ¼å¼</p><pre><code>slidev export --format png</code></pre><p>å¯å¯¼å‡ºpngæ ¼å¼</p><h2 id="é™æ€éƒ¨ç½²"><a href="#é™æ€éƒ¨ç½²" class="headerlink" title="é™æ€éƒ¨ç½²"></a>é™æ€éƒ¨ç½²</h2><pre><code>slidev build</code></pre><p>ç¼–è¯‘å½“å‰å¹»ç¯ç‰‡ç”Ÿæˆåœ¨<code>dist/</code>ç›®å½•ä¸‹ï¼Œå¯ä»¥éƒ¨ç½²åˆ°é™æ€æ‰˜ç®¡å¹³å°</p><h4 id="æä¾›å¯ä¸‹è½½çš„-PDF"><a href="#æä¾›å¯ä¸‹è½½çš„-PDF" class="headerlink" title="æä¾›å¯ä¸‹è½½çš„ PDF"></a>æä¾›å¯ä¸‹è½½çš„ PDF</h4><p>åœ¨æ‰‰é¡µä¸­è®¾ç½®</p><pre><code>---download: true---</code></pre><p>ä¼šåœ¨å•é¡µåº”ç”¨ä¸­å±•ç¤ºä¸‹è½½æŒ‰é’®</p><p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰url</p><pre><code>---download: &#39;https://myside.com/my-talk.pdf&#39;---</code></pre><h4 id="éƒ¨ç½²åˆ°netlify"><a href="#éƒ¨ç½²åˆ°netlify" class="headerlink" title="éƒ¨ç½²åˆ°netlify"></a>éƒ¨ç½²åˆ°netlify</h4><p>åˆ›å»º<code>netlify.toml</code>æ–‡ä»¶ é…ç½®</p><pre><code>[build.environment]  NODE_VERSION = &quot;14&quot;[build]  publish = &quot;dist&quot;  command = &quot;npm run build&quot;[[redirects]]  from = &quot;/*&quot;  to = &quot;/index.html&quot;  status = 200</code></pre><h4 id="éƒ¨ç½²åˆ°vercel"><a href="#éƒ¨ç½²åˆ°vercel" class="headerlink" title="éƒ¨ç½²åˆ°vercel"></a>éƒ¨ç½²åˆ°vercel</h4><p>åˆ›å»º<code>vercel.json</code>æ–‡ä»¶ é…ç½®</p><pre><code>&#123;  &quot;rewrites&quot;: [    &#123; &quot;source&quot;: &quot;/(.*)&quot;, &quot;destination&quot;: &quot;/index.html&quot; &#125;  ]&#125;</code></pre><h2 id="æ¼”è®²å½•åˆ¶"><a href="#æ¼”è®²å½•åˆ¶" class="headerlink" title="æ¼”è®²å½•åˆ¶"></a>æ¼”è®²å½•åˆ¶</h2><h4 id="æ‘„åƒå¤´"><a href="#æ‘„åƒå¤´" class="headerlink" title="æ‘„åƒå¤´"></a>æ‘„åƒå¤´</h4><p>å¯¼èˆªé¢æ¿çš„å°äººæŒ‰é’®å¯ä»¥å¼€å¯æ‘„åƒå¤´</p><p>ä½ å¯ä»¥æ‹–åŠ¨å®ƒï¼Œå¹¶ä½¿ç”¨å³ä¸‹è§’çš„æŠŠæ‰‹æ¥è°ƒæ•´å¤§å°ã€‚å°ºå¯¸å’Œä½ç½®å°†æŒä¹…åŒ–å­˜å‚¨åœ¨ <code>localStorage</code> ä¸­ï¼Œå› æ­¤ï¼Œå¯ä»¥ä¿è¯å¤šæ¬¡åˆ·æ–°åçš„å±•ç¤ºä¸€è‡´ï¼Œæ— éœ€æ‹…å¿ƒä½ç½®å’Œå¤§å°ä¸¢å¤±çš„é—®é¢˜ã€‚</p><h4 id="å½•åˆ¶"><a href="#å½•åˆ¶" class="headerlink" title="å½•åˆ¶"></a>å½•åˆ¶</h4><p>å¯¼èˆªé¢æ¿çš„æ‘„åƒæœºæŒ‰é’®</p><p>å¯ä»¥å½•åˆ¶éº¦å…‹é£å’Œæ‘„åƒå¤´</p><h2 id="æ¼”è®²è€…æ¨¡å¼"><a href="#æ¼”è®²è€…æ¨¡å¼" class="headerlink" title="æ¼”è®²è€…æ¨¡å¼"></a>æ¼”è®²è€…æ¨¡å¼</h2><p>ç‚¹å‡»å°äººå¸¦éº¦å…‹é£çš„æŒ‰é’®</p><p>å¯ä»¥è¿›å…¥æ¼”è®²è€…æ¨¡å¼</p><p>éœ€è¦åŒç«¯åœ¨åŒä¸€ç½‘ç»œä¸‹</p><p>å…¶ä»–é¡µé¢çš„å®ä¾‹ä¼šè‡ªåŠ¨å’Œæ¼”è®²è€…çš„é¡µé¢åŒæ­¥</p><h2 id="ç»˜å›¾"><a href="#ç»˜å›¾" class="headerlink" title="ç»˜å›¾"></a>ç»˜å›¾</h2><p>å¯ä»¥åœ¨é¡µé¢ä¸Šç”»ç”»</p><p>å¯ä»¥åœ¨æ¼”è®²è€…æ¨¡å¼ä¸­å¯ç”¨ï¼Œä¼šå®æ—¶è‡ªåŠ¨åŒæ­¥</p><p>æ”¯æŒè§¦æ§ç¬”å‹æ„Ÿ</p><h2 id="ç¼–è¾‘å™¨æ•´åˆ"><a href="#ç¼–è¾‘å™¨æ•´åˆ" class="headerlink" title="ç¼–è¾‘å™¨æ•´åˆ"></a>ç¼–è¾‘å™¨æ•´åˆ</h2><p>ä½ å¯ä»¥åœ¨è¿è¡Œä¸­åœ¨ç½‘é¡µä¸Šæ›´æ”¹ä½ çš„æºç ï¼Œä»–ä¼šè‡ªåŠ¨åŒæ­¥åˆ°slide.mdé‡Œ</p><h2 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h2><p>åœ¨è¿™é‡Œæµè§ˆä¸»é¢˜å¹¶åº”ç”¨åˆ°ä½ çš„å®ä¾‹ä¸­</p><p><a href="https://cn.sli.dev/themes/gallery.html">https://cn.sli.dev/themes/gallery.html</a></p><h2 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h2><p><a href="https://cn.sli.dev/builtin/layouts.html">https://cn.sli.dev/builtin/layouts.html</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ç¯‡å†™äº†ä¸å°‘ï¼Œè¯¦ç»†çš„å†™äº†æˆ‘æ¯”è¾ƒå–œæ¬¢çš„pptæ¡†æ¶</p><p>æˆ‘æœ‰ä¸€ä¸ªéƒ¨ç½²çš„ç‰ˆæœ¬ï¼Œåœ°å€åœ¨ <a href="https://botppt.netlify.app/">https://botppt.netlify.app/</a></p><p>æ˜¯å¾ˆä¹…ä¹‹å‰å†™çš„è¾£ï¼Œç‰ˆæœ¬è¿˜æ˜¯å¾ˆè€çš„ï¼Œæœ‰æ—¶é—´ä¼šæ›´æ–°ä¸€ä¸‹</p><p>ğŸ˜</p><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p><a href="https://botppt.netlify.app/1">https://botppt.netlify.app/1</a></p><p><a href="https://cn.sli.dev/showcases.html">https://cn.sli.dev/showcases.html</a></p><p><a href="https://cn.sli.dev/">https://cn.sli.dev/</a></p><p><a href="https://github.com/slidevjs/slidev">https://github.com/slidevjs/slidev</a></p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/01/30/Slidev%20%E7%94%A8markdown%E5%86%99PPT%EF%BC%81%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Nuxt3ä¸æœåŠ¡ç«¯æ¸²æŸ“SSRï¼ˆé«˜çº§ç¯‡ï¼‰ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/01/29/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E9%AB%98%E7%BA%A7%E7%AF%87%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/01/29/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E9%AB%98%E7%BA%A7%E7%AF%87%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Sun, 29 Jan 2023 08:13:02 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;strong&gt;è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 13 å¤©&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰ä¸¤ç¯‡å†™äº†ä¸€äº›nuxt3å’ŒSSRçš„</description>
        
      
      
      
      <content:encoded><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 13 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‰ä¸¤ç¯‡å†™äº†ä¸€äº›nuxt3å’ŒSSRçš„åŸºç¡€</p><p>è¿™ä¸€ç¯‡è®²è®²nuxt3æ¯”è¾ƒè¿›é˜¶çš„éƒ¨åˆ†</p><h2 id="è‡ªåŠ¨å¼•å…¥"><a href="#è‡ªåŠ¨å¼•å…¥" class="headerlink" title="è‡ªåŠ¨å¼•å…¥"></a>è‡ªåŠ¨å¼•å…¥</h2><h4 id="nuxt3è‡ªå¸¦è‡ªåŠ¨å¼•å…¥"><a href="#nuxt3è‡ªå¸¦è‡ªåŠ¨å¼•å…¥" class="headerlink" title="nuxt3è‡ªå¸¦è‡ªåŠ¨å¼•å…¥"></a>nuxt3è‡ªå¸¦è‡ªåŠ¨å¼•å…¥</h4><p>åŒ…æ‹¬ä¸€äº›nuxt3çš„apiéƒ½æ˜¯ä¸ç”¨å¯¼å…¥çš„ç›´æ¥å°±å¯ä»¥ç”¨</p><p>ä¾‹å¦‚</p><ul><li><p>æ•°æ®è·å–çš„å‡½æ•°<code>useFetch</code> <code>useAsyncData</code> </p></li><li><p>çŠ¶æ€ç®¡ç†å‡½æ•°<code>useState</code> </p></li><li><p>è¿è¡Œå˜é‡è·å–å‡½æ•° <code>useRuntimeConfig</code></p></li><li><p>è¿è¡Œæ—¶ä¸Šä¸‹æ–‡è·å–å‡½æ•° <code>useNuxtApp</code></p></li></ul><h4 id="è¿˜æœ‰ä¸€äº›Vueçš„api"><a href="#è¿˜æœ‰ä¸€äº›Vueçš„api" class="headerlink" title="è¿˜æœ‰ä¸€äº›Vueçš„api"></a>è¿˜æœ‰ä¸€äº›Vueçš„api</h4><p>ä¾‹å¦‚</p><ul><li><p>å“åº”å¼çš„å‡½æ•°<code>ref</code></p></li><li><p>è®¡ç®—å±æ€§ <code>computed</code></p></li></ul><h4 id="æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹è‡ªåŠ¨å¼•å…¥"><a href="#æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹è‡ªåŠ¨å¼•å…¥" class="headerlink" title="æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹è‡ªåŠ¨å¼•å…¥"></a>æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹è‡ªåŠ¨å¼•å…¥</h4><p>ä¾‹å¦‚</p><ul><li><code>components/</code>æ–‡ä»¶å¤¹ä¸‹çš„ç»„ä»¶</li><li><code>composables/</code>æ–‡ä»¶å¤¹ä¸‹çš„å“åº”å¼å‡½æ•°</li><li><code>utils/</code>æ–‡ä»¶å¤¹ä¸‹çš„å·¥å…·å‡½æ•°</li></ul><h4 id="å¯ä»¥ä½¿ç”¨-importsæ¥ä½¿å¯¼å…¥æ˜ç¡®"><a href="#å¯ä»¥ä½¿ç”¨-importsæ¥ä½¿å¯¼å…¥æ˜ç¡®" class="headerlink" title="å¯ä»¥ä½¿ç”¨#importsæ¥ä½¿å¯¼å…¥æ˜ç¡®"></a>å¯ä»¥ä½¿ç”¨<code>#imports</code>æ¥ä½¿å¯¼å…¥æ˜ç¡®</h4><pre><code>&lt;script setup&gt;  import &#123; ref, computed &#125; from &#39;#imports&#39;  const count = ref(1)  const double = computed(() =&gt; count.value * 2)&lt;/script&gt;</code></pre><h4 id="å…³é—­è‡ªåŠ¨å¼•å…¥"><a href="#å…³é—­è‡ªåŠ¨å¼•å…¥" class="headerlink" title="å…³é—­è‡ªåŠ¨å¼•å…¥"></a>å…³é—­è‡ªåŠ¨å¼•å…¥</h4><p>åœ¨<code>nuxtconfig</code>é‡ŒåŠ å…¥</p><pre><code>export default defineNuxtConfig(&#123;  imports: &#123;    autoImport: false  &#125;&#125;)</code></pre><p>ï¼ˆğŸ˜¡è°ä¼šè¿™ä¹ˆåš</p><h2 id="è‡ªåŠ¨å¼•å…¥çš„ç»„ä»¶"><a href="#è‡ªåŠ¨å¼•å…¥çš„ç»„ä»¶" class="headerlink" title="è‡ªåŠ¨å¼•å…¥çš„ç»„ä»¶"></a>è‡ªåŠ¨å¼•å…¥çš„ç»„ä»¶</h2><p>å‡è®¾ç›®å½•å¦‚ä¸‹</p><pre><code>| components/--| base/----| foo/------| Button.vue</code></pre><p>æ­¤æ—¶å¯ä»¥ä½¿ç”¨<code>&lt;BaseFooButton /&gt;</code>æ ‡ç­¾å¼•å…¥è¿™ä¸ªbuttonç»„ä»¶</p><p>å¦å¤–ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªLazyå‰ç¼€æ¥æ‡’åŠ è½½ç»„ä»¶</p><p>ä¾‹å¦‚</p><pre><code>&lt;template&gt;  &lt;div&gt;    &lt;h1&gt;Mountains&lt;/h1&gt;    &lt;LazyMountainsList v-if=&quot;show&quot; /&gt;    &lt;button v-if=&quot;!show&quot; @click=&quot;show = true&quot;&gt;Show List&lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123;  data() &#123;    return &#123;      show: false    &#125;  &#125;&#125;&lt;/script&gt;</code></pre><p>è¿™æ ·å¯ä»¥å‡å°‘æ‰“åŒ…å¤§å°ï¼Œå¢åŠ æ€§èƒ½</p><h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><p>å†™åœ¨<code>pages/</code>é‡Œçš„ç»„ä»¶ä¼šè‡ªåŠ¨å†™å…¥è·¯ç”±</p><p><code>pages/index.vue</code>ä¼šåŒ¹é…è·¯ç”±<code>/</code></p><p>åªéœ€è¦åœ¨<code>app.vue</code>é‡Œæ·»åŠ </p><p><code>&lt;NuxtPage /&gt;</code>æ ‡ç­¾</p><p>å¯ä»¥é€šè¿‡æ’æ§½å†™æ³•ä¾‹å¦‚å†™<code>[id].vue</code>æ¥åŒ¹é…è·¯ç”±å†…çš„å‚æ•°</p><p>ä¾‹å¦‚å¦‚ä¸‹æ–‡ä»¶æ ‘</p><pre><code>-| pages/---| index.vue---| users-[group]/-----| [id].vue</code></pre><p>åœ¨<code>[id].vue</code>é‡Œå†™ä¸‹</p><pre><code>&lt;template&gt;  &lt;p&gt;&#123;&#123; $route.params.group &#125;&#125; - &#123;&#123; $route.params.id &#125;&#125;&lt;/p&gt;&lt;/template&gt;</code></pre><p>è¯»å–groupå‚æ•°å’Œidå‚æ•°</p><p>è®¿é—®è·¯ç”±<code>/users-admins/123</code>ä¼šæ¸²æŸ“æˆ</p><pre><code>&lt;p&gt;admins - 123&lt;/p&gt;</code></pre><h2 id="æ¸²æŸ“æ¨¡å¼"><a href="#æ¸²æŸ“æ¨¡å¼" class="headerlink" title="æ¸²æŸ“æ¨¡å¼"></a>æ¸²æŸ“æ¨¡å¼</h2><h4 id="ä¼ ç»Ÿçš„Vueé¡¹ç›®æ¸²æŸ“æ–¹å¼ä¸º-å®¢æˆ·ç«¯æ¸²æŸ“"><a href="#ä¼ ç»Ÿçš„Vueé¡¹ç›®æ¸²æŸ“æ–¹å¼ä¸º-å®¢æˆ·ç«¯æ¸²æŸ“" class="headerlink" title="ä¼ ç»Ÿçš„Vueé¡¹ç›®æ¸²æŸ“æ–¹å¼ä¸º  å®¢æˆ·ç«¯æ¸²æŸ“"></a>ä¼ ç»Ÿçš„Vueé¡¹ç›®æ¸²æŸ“æ–¹å¼ä¸º  <code>å®¢æˆ·ç«¯æ¸²æŸ“</code></h4><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230129144946.png"></p><p>æµè§ˆå™¨ä¼šå…ˆä¸‹è½½åˆ°ç©ºçš„htmlæ–‡ä»¶â†’ä¸‹è½½jsâ†’æ¸²æŸ“å‡ºæ¥</p><p>è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯ï¼š</p><ul><li><p>å¼€å‘é€Ÿåº¦å¿«ï¼šå½“å®Œå…¨åœ¨å®¢æˆ·ç«¯ä¸Šå·¥ä½œæ—¶ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒä»£ç çš„æœåŠ¡å™¨å…¼å®¹æ€§ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨åƒwindowsè¿™æ ·çš„æµè§ˆå™¨apiã€‚ </p></li><li><p>æ›´ä¾¿å®œçš„æœåŠ¡å™¨æˆæœ¬ï¼šè¿è¡Œä¸€ä¸ªæœåŠ¡å™¨ä¼šå¢åŠ ä¸€ä¸ªåŸºç¡€è®¾æ–½çš„æˆæœ¬ï¼Œå› ä¸ºæ‚¨éœ€è¦åœ¨ä¸€ä¸ªæ”¯æŒJavaScriptçš„å¹³å°ä¸Šè¿è¡Œã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•å…·æœ‰HTMLã€CSSå’ŒJavaScriptæ–‡ä»¶çš„é™æ€æœåŠ¡å™¨ä¸Šæ‰˜ç®¡ä»…é™å®¢æˆ·ç«¯çš„åº”ç”¨ç¨‹åºã€‚ </p></li><li><p>ä¸‹è½½å¥½åç¦»çº¿ï¼šå› ä¸ºä»£ç å®Œå…¨åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œæ‰€ä»¥å®ƒå¯ä»¥å¾ˆå¥½åœ°åœ¨äº’è”ç½‘ä¸å¯ç”¨æ—¶å¾ˆå¥½åœ°ä¿æŒå·¥ä½œã€‚</p></li></ul><p>ç¼ºç‚¹ä¸ºï¼š</p><ul><li>æ€§èƒ½ä¸å¥½ï¼šç”¨æˆ·å¿…é¡»ç­‰å¾…æµè§ˆå™¨ä¸‹è½½ã€è§£æå’Œè¿è¡ŒJavaScriptæ–‡ä»¶ã€‚æ ¹æ®ä¸‹è½½éƒ¨åˆ†çš„ç½‘ç»œå’Œç”¨æˆ·çš„è§£æå’Œæ‰§è¡Œè®¾å¤‡ï¼Œè¿™å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå¹¶å½±å“ç”¨æˆ·çš„ä½“éªŒã€‚</li><li>ä¸å‹å¥½çš„æœç´¢å¼•æ“ä¼˜åŒ–ï¼šç´¢å¼•å’Œæ›´æ–°é€šè¿‡å®¢æˆ·ç«¯å‘ˆç°äº¤ä»˜çš„å†…å®¹æ¯”ä½¿ç”¨æœåŠ¡å™¨å‘ˆç°çš„HTMLæ–‡æ¡£éœ€è¦æ›´å¤šçš„æ—¶é—´ã€‚</li></ul><h4 id="nuxt3çš„æœåŠ¡ç«¯æ¸²æŸ“"><a href="#nuxt3çš„æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="nuxt3çš„æœåŠ¡ç«¯æ¸²æŸ“"></a>nuxt3çš„<code>æœåŠ¡ç«¯æ¸²æŸ“</code></h4><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230129145732.png"></p><p>æœ‰å†…å®¹çš„htmlæ–‡ä»¶ä¼šä¸‹è½½åˆ°æµè§ˆå™¨â†’ç”¨æˆ·åœ¨æ­¤æ—¶å¯ä»¥ç‚¹å‡»å’Œæµè§ˆé¡µé¢ä¸Šçš„å†…å®¹ï¼ˆéƒ¨åˆ†åŠŸèƒ½ï¼‰â†’éœ€è¦çš„ç»„ä»¶æ¸²æŸ“å®Œæˆã€æ­¤æ—¶çš„é¡µé¢æœ‰å…¨éƒ¨åŠŸèƒ½</p><p>è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯ï¼š</p><ul><li>æ€§èƒ½å¥½ï¼šç”¨æˆ·å¯ä»¥ç«‹å³è®¿é—®é¡µé¢çš„å†…å®¹ï¼Œå› ä¸ºæµè§ˆå™¨æ˜¾ç¤ºé™æ€å†…å®¹çš„é€Ÿåº¦æ¯”<code>javascript</code>ç”Ÿæˆçš„é™æ€å†…å®¹è¦å¿«å¾—å¤šã€‚</li><li>æœç´¢å¼•æ“ä¼˜åŒ–ï¼šé€šç”¨å‘ˆç°å°†é¡µé¢çš„æ•´ä¸ªHTMLå†…å®¹ä½œä¸ºä¸€ä¸ªç»å…¸çš„æœåŠ¡å™¨åº”ç”¨ç¨‹åºä¼ é€’åˆ°æµè§ˆå™¨ã€‚Webçˆ¬è™«å¯ä»¥ç›´æ¥ç´¢å¼•é¡µé¢çš„å†…å®¹ã€‚</li></ul><p>ç¼ºç‚¹æ˜¯ï¼š</p><ul><li>å¼€å‘çº¦æŸï¼šæœåŠ¡å™¨å’Œæµè§ˆå™¨ç¯å¢ƒä¸æä¾›ç›¸åŒçš„apiï¼Œè€Œä¸”ç¼–å†™å¯ä»¥åœ¨ä¸¤è¾¹æ— ç¼è¿è¡Œçš„ä»£ç å¯èƒ½ä¼šå¾ˆæ£˜æ‰‹ã€‚å¹¸è¿çš„æ˜¯ï¼ŒNuxtæä¾›äº†ç‰¹å®šçš„å˜é‡æ¥åŒæ­¥è¿™äº›ã€‚</li><li>æˆæœ¬é«˜ï¼šæœåŠ¡å™¨éœ€è¦è¿è¡Œï¼Œæ‰èƒ½åŠ¨æ€åœ°å‘ˆç°é¡µé¢ã€‚è¿™å°±åƒä»»ä½•ä¼ ç»ŸæœåŠ¡å™¨ä¸€æ ·ï¼Œå¢åŠ äº†æ¯æœˆçš„æˆæœ¬ã€‚ä½†æ˜¯ï¼Œç”±äºæµè§ˆå™¨æ¥ç®¡äº†å®¢æˆ·ç«¯å¯¼èˆªçš„é€šç”¨æ¸²æŸ“ï¼ŒæœåŠ¡å™¨è°ƒç”¨å¤§å¤§å‡å°‘äº†ã€‚</li></ul><h2 id="ç±»å‹æ£€æŸ¥"><a href="#ç±»å‹æ£€æŸ¥" class="headerlink" title="ç±»å‹æ£€æŸ¥"></a>ç±»å‹æ£€æŸ¥</h2><p>ä½¿ç”¨ <code>TypeScript</code> åå¯ä»¥ä½¿ç”¨nuxiå¸¦çš„è¯­æ³•æ£€æŸ¥</p><pre><code>yarn nuxi typecheck</code></pre><p>nuxtä¹Ÿä¼šè‡ªåŠ¨ç”Ÿæˆç±»å‹</p><p>åœ¨<a href="https://nuxt.com/docs/guide/concepts/typescript#nuxtnuxtdts"><code>.nuxt/nuxt.d.ts</code></a>ç›®å½•ä¸‹</p><h2 id="æ–‡ä»¶ç›®å½•"><a href="#æ–‡ä»¶ç›®å½•" class="headerlink" title="æ–‡ä»¶ç›®å½•"></a>æ–‡ä»¶ç›®å½•</h2><p>ä¸€ä¸ªå®Œæ•´çš„nuxt3é¡¹ç›®æ–‡ä»¶ç›®å½•åº”è¯¥åŒ…å«ä»¥ä¸‹æ–‡ä»¶å¤¹å’Œæ–‡ä»¶</p><pre><code>.nuxt                      nuxtç”Ÿæˆçš„æ–‡ä»¶ç›®å½•é‡Œé¢æœ‰ è¿è¡Œçš„ç±»å‹ç­‰.output                    buildäº§ç‰©æ–‡ä»¶å¤¹assets                     cssæ–‡ä»¶ã€å­—ä½“æ–‡ä»¶ã€å›¾ç‰‡æ–‡ä»¶components                 ç»„ä»¶ç›®å½•composables                å“åº”å¼å‡½æ•°çš„æ–‡ä»¶å¤¹content                    åŸºäºæ–‡ä»¶çš„cmsçš„æ–‡ä»¶å¤¹layouts                    å¸ƒå±€ç»„ä»¶çš„æ–‡ä»¶å¤¹middleware                 ä¸­é—´ä»¶æ–‡ä»¶å¤¹node_modules               ä¾èµ–æ–‡ä»¶å¤¹pages                      è·¯ç”±çš„é¡µé¢plugins                    nuxtæ’ä»¶public                     å…¬å…±æ–‡ä»¶æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ”¾icoå›¾æ ‡ï¼Œå›¾ç‰‡server                     æœåŠ¡ç«¯apiæ–‡ä»¶å¤¹utils                      å·¥å…·å‡½æ•°æ–‡ä»¶å¤¹.gitignore                 gitå¿½ç•¥æ–‡ä»¶.nuxtignore                ä¸åŠ å…¥nuxtç¼–è¯‘çš„å¿½ç•¥æ–‡ä»¶app.config.ts              configæ–‡ä»¶ å¯ä»¥ä½¿ç”¨useAppConfigè¯»å–app.vue                    vueå…¥å£ nuxt.config.ts             nuxté…ç½®æ–‡ä»¶package.json               ä¾èµ–æè¿°æ–‡ä»¶tsconfig.json              tsæ£€æŸ¥é…ç½®æ–‡ä»¶</code></pre><p><a href="https://nuxt.com/docs/guide/directory-structure/nuxt">https://nuxt.com/docs/guide/directory-structure/nuxt</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« ä»‹ç»äº†nuxt3çš„é«˜çº§ç”¨æ³•</p><p>æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨nuxt3æ¥å¼€å‘é¡¹ç›®</p><p>è¸©åˆ°çš„å‘è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œé¢„è®¡å¯ä»¥å†™ä¸€ç¯‡è¸©å‘è®°å½•</p><p>ğŸ˜ğŸ¥°</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://nuxt.com/docs/guide/concepts/auto-imports">https://nuxt.com/docs/guide/concepts/auto-imports</a></p><p><a href="https://nuxt.com/docs/guide/directory-structure/composables">https://nuxt.com/docs/guide/directory-structure/composables</a></p><p><a href="https://nuxt.com/docs/guide/directory-structure/components">https://nuxt.com/docs/guide/directory-structure/components</a></p><p><a href="https://github.com/unjs/nitro">https://github.com/unjs/nitro</a></p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/01/29/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E9%AB%98%E7%BA%A7%E7%AF%87%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>é’è®­è¥ä»»åŠ¡-æˆ‘çš„åç‰‡-å¯çˆ±æâ˜º</title>
      <link>https://xyxsw.ltd/2023/01/28/%E3%80%8C%E9%9D%92%E8%AE%AD%E8%90%A5%20X%20%E7%A0%81%E4%B8%8A%E6%8E%98%E9%87%91%E3%80%8D%E4%B8%BB%E9%A2%98%201%E2%80%94%E2%80%94%E6%88%91%E7%9A%84%E5%90%8D%E7%89%87/</link>
      <guid>https://xyxsw.ltd/2023/01/28/%E3%80%8C%E9%9D%92%E8%AE%AD%E8%90%A5%20X%20%E7%A0%81%E4%B8%8A%E6%8E%98%E9%87%91%E3%80%8D%E4%B8%BB%E9%A2%98%201%E2%80%94%E2%80%94%E6%88%91%E7%9A%84%E5%90%8D%E7%89%87/</guid>
      <pubDate>Sat, 28 Jan 2023 14:57:58 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;strong&gt;å½“é’è®­è¥é‡ä¸Šç ä¸Šæ˜é‡‘&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä¸»é¢˜ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä¸»é¢˜ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä¸»é¢˜ä»‹ç»&quot;&gt;&lt;/a&gt;ä¸»é¢˜ä»‹ç»&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;h4 id=&quot;ä¸»é¢˜-1ï¼šæˆ‘çš„åç‰‡&quot;&gt;&lt;a</description>
        
      
      
      
      <content:encoded><![CDATA[<p><strong>å½“é’è®­è¥é‡ä¸Šç ä¸Šæ˜é‡‘</strong></p><h2 id="ä¸»é¢˜ä»‹ç»"><a href="#ä¸»é¢˜ä»‹ç»" class="headerlink" title="ä¸»é¢˜ä»‹ç»"></a>ä¸»é¢˜ä»‹ç»</h2><ul><li><h4 id="ä¸»é¢˜-1ï¼šæˆ‘çš„åç‰‡"><a href="#ä¸»é¢˜-1ï¼šæˆ‘çš„åç‰‡" class="headerlink" title="ä¸»é¢˜ 1ï¼šæˆ‘çš„åç‰‡"></a>ä¸»é¢˜ 1ï¼šæˆ‘çš„åç‰‡</h4>åç‰‡æ˜¯å‘äººä»‹ç»è‡ªæˆ‘çš„é‡è¦å·¥å…·ï¼Œä½œä¸ºä¸€åç¨‹åºå‘˜ç”¨ä»£ç åšè‡ªæˆ‘ä»‹ç»æ˜¯ä¸€ä»¶éå¸¸é…·ç‚«çš„äº‹æƒ…ã€‚è¯·å¤§å®¶å›´ç»•â€œæˆ‘çš„åç‰‡â€è¿™ä¸ªä¸»é¢˜è¿›è¡Œä»£ç åˆ›ä½œã€‚</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ—¢ç„¶è¯´æ•´ä¸ªé…·ç‚«çš„</p><p>ç›´æ¥ä¸Šæ¡†æ¶</p><p><a href="https://github.com/antfu/vitesse-webext">https://github.com/antfu/vitesse-webext</a></p><p>è¿™ä¸ªæ¨¡æ¿æ˜¯åŸºäºVueçš„webextï¼ˆæµè§ˆå™¨æ’ä»¶æ‰‹è„šæ¶ï¼‰</p><p>webextæ˜¯ä¸€ä¸ªå¯ä»¥å¸®åŠ©æ„å»ºã€è¿è¡Œå’Œæµ‹è¯•Webæ‰©å±•çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p><p><a href="https://wiki.mozilla.org/WebExtensions">https://wiki.mozilla.org/WebExtensions</a></p><p>webextçš„ç›®æ ‡æ˜¯ä»¥ä¸€ç§æ ‡å‡†çš„ã€å¯ç§»æ¤ã€è·¨å¹³å°çš„æ–¹å¼æ”¯æŒæµè§ˆå™¨æ‰©å±•ã€‚æœ€åˆï¼Œå®ƒå°†ä¸ºå¼€å‘ç«ç‹æ‰©å±•æä¾›ä¸€ä¸ªç®€åŒ–çš„ä½“éªŒã€‚</p><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å®ç°ä¸€ä¸ªæµè§ˆå™¨æ‰©å±•ç±»å‹çš„åç‰‡</p><h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><ul><li>âš¡ï¸ Vite å¿«é€Ÿæ„å»º</li><li>ğŸ¥ Vue 3 -ç»„åˆå¼api 3.2+setupè¯­æ³•</li><li>ğŸ’¬<a href="https://github.com/antfu/webext-bridge"><code>webext-bridge</code></a> çš„local storage å’Œ <a href="https://github.com/antfu/vueuse">VueUse</a> çš„ä½¿ç”¨ç»“åˆ</li><li>ğŸŒˆ <a href="https://github.com/unocss/unocss">UnoCSS</a> - åŸå­åŒ–CSSå¼•æ“</li><li>ğŸ¦¾ <a href="https://www.typescriptlang.org/">TypeScript</a> è¯­æ³•æ”¯æŒ</li><li>ğŸ“¦ <a href="https://github.com/antfu/vitesse-webext/blob/main/src/components">Components auto importing</a> è‡ªåŠ¨å¼•å…¥</li><li>ğŸŒ WebExtension - æ ‡å‡†æµè§ˆå™¨æ‰©å±•æ‰‹è„šæ¶ å¯ä»¥ä¸€é”®ç”Ÿæˆchromiumã€Firefoxé€‚é…çš„æ‰©å±•</li><li>ğŸ˜´ mv3 - manifest v3</li></ul><h2 id="å‘"><a href="#å‘" class="headerlink" title="å‘"></a>å‘</h2><p>æœ¬èº«è¿™ä¸ªé¡¹ç›®æ²¡ä»€ä¹ˆå‘çš„ã€åªæ˜¯</p><p>ğŸ˜¡</p><p>æµè§ˆå™¨åœ¨2023å¹´æŠ›å¼ƒmanifest v2</p><p>æ‰€ä»¥ä½¿ç”¨manifest v2æ‰“åŒ…åçš„æµè§ˆå™¨æ‰©å±•æµè§ˆå™¨ä¸è®¤</p><p>ä¼šæ˜¾ç¤º</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128210235.png"></p><p>ğŸ˜±</p><p>è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯æœ¬èº«ä¸å¤ªä¼šCSS</p><p>è°ƒCSSèŠ±äº†å¾ˆé•¿æ—¶é—´</p><p>ä½†æ˜¯unocssè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><pre><code class="vue">&lt;script setup&gt;import &#123; useImage &#125; from &#39;@vueuse/core&#39;const avatarUrl = &#39;https://s1.ax1x.com/2023/01/23/pSYuIYD.png&#39;const waka = &#39;https://wakatime.com/badge/user/84476697-3421-4720-bcdc-efb5c0fbc1b8.svg?style=flat-square&#39;const kita = &#39;https://www.z4a.net/images/2023/01/28/kita.gif&#39;const &#123; isLoading &#125; = useImage(&#123; src: avatarUrl &#125;)const &#123; isLoading_waka &#125; = useImage(&#123; src: waka &#125;)const &#123; isLoading_kita &#125; = useImage(&#123; src: kita &#125;)const to_left = () =&gt; &#123;  document.getElementsByClassName(&#39;img&#39;)[0].classList.remove(&#39;to_right&#39;)  document.getElementsByClassName(&#39;right_text&#39;)[0].classList.remove(&#39;to_right_text&#39;)  document.getElementsByClassName(&#39;right_block&#39;)[0].classList.remove(&#39;to_right_block&#39;)  document.getElementsByClassName(&#39;left_block&#39;)[0].classList.remove(&#39;to_left_block&#39;)  document.getElementsByClassName(&#39;left_img&#39;)[0].classList.remove(&#39;to_left_img&#39;)&#125;const to_right = () =&gt; &#123;  document.getElementsByClassName(&#39;img&#39;)[0].classList.add(&#39;to_right&#39;)  document.getElementsByClassName(&#39;right_text&#39;)[0].classList.add(&#39;to_right_text&#39;)  document.getElementsByClassName(&#39;right_block&#39;)[0].classList.add(&#39;to_right_block&#39;)  document.getElementsByClassName(&#39;left_block&#39;)[0].classList.add(&#39;to_left_block&#39;)  document.getElementsByClassName(&#39;left_img&#39;)[0].classList.add(&#39;to_left_img&#39;)&#125;&lt;/script&gt;&lt;template&gt;  &lt;main class=&quot;w-[384px] h-[256px] text-center text-light-700 bg-[#f69db2] font-sans&quot;&gt;    &lt;div class=&quot;h-100% w-100% flex flex-row justify-between p-5 items-center gap-5&quot;&gt;      &lt;div class=&quot;absolute left-0 top-0 translate-x-[-100%]&quot;&gt;        &lt;div class=&quot;flex flex-col justify-end left_block duration-700 &quot;&gt;          &lt;div class=&quot;bg-[#60c5e7] p-5&quot; /&gt;          &lt;div class=&quot;bg-[#f3d263] p-5&quot; /&gt;        &lt;/div&gt;      &lt;/div&gt;      &lt;div class=&quot;absolute left-0 top-0 translate-x-[-100%]&quot;&gt;        &lt;span v-if=&quot;isLoading&quot; class=&quot;animate-pulse bg-[#0A4445] px-11.5 py-16 text-center font-black&quot;&gt;Loading&lt;/span&gt;        &lt;img v-else :src=&quot;kita&quot; class=&quot;left_img duration-400&quot;&gt;      &lt;/div&gt;      &lt;span v-if=&quot;isLoading&quot; class=&quot;animate-pulse bg-[#0A4445] px-11.5 py-16 text-center font-black&quot;&gt;Loading&lt;/span&gt;      &lt;img v-else :src=&quot;avatarUrl&quot; class=&quot;w-35 h-35 img duration-700&quot;&gt;      &lt;div class=&quot;flex flex-col gap-5 h-119%&quot;&gt;        &lt;div class=&quot;flex flex-row justify-end translate-x-4.9 right_block duration-700 &quot;&gt;          &lt;div class=&quot;bg-[#60c5e7] p-5&quot; /&gt;          &lt;div class=&quot;bg-[#f3d263] p-5&quot; /&gt;        &lt;/div&gt;        &lt;div class=&quot;flex flex-col gap-5 pt-8 right_text duration-700 &quot;&gt;          &lt;div class=&quot;text-center font-bold text-lg text-[#df4b57]&quot;&gt;            ğŸ‘‹  Hi, Iâ€™m  @camera-2018          &lt;/div&gt;          &lt;span v-if=&quot;isLoading&quot; class=&quot;animate-pulse bg-[#0A4445] px-15 text-center font-black&quot;&gt;Loading&lt;/span&gt;          &lt;a v-else href=&quot;https://wakatime.com/@84476697-3421-4720-bcdc-efb5c0fbc1b8&quot;&gt;&lt;img :src=&quot;waka&quot; alt=&quot;Total time coded since May 9 2022&quot;&gt;&lt;/a&gt;        &lt;/div&gt;      &lt;/div&gt;    &lt;/div&gt;    &lt;footer class=&quot;bg-[#f69db2] &quot;&gt;      &lt;button class=&quot;i-carbon-caret-left hover:bg-[#1DCED1] bg-light-50&quot; @click=&quot;to_left&quot; /&gt;      &lt;button class=&quot;i-carbon-caret-right hover:bg-[#1DCED1] bg-light-50&quot; @click=&quot;to_right&quot; /&gt;    &lt;/footer&gt;  &lt;/main&gt;&lt;/template&gt;&lt;style&gt;.to_right&#123;  @apply translate-x-142% transition&#125;.to_right_text &#123;  @apply translate-x-190% transition&#125;.to_right_block &#123;  @apply translate-y-[-120%] transition&#125;.to_left_block &#123;  @apply translate-x-100% transition&#125;.to_left_img &#123;  @apply translate-x-90% transition&#125;&lt;/style&gt;</code></pre><p>ä¸»è¦çš„ä»£ç å°±è¿™ä¹ˆå¤š</p><h3 id="å¤§æ¦‚æ€è·¯æ˜¯"><a href="#å¤§æ¦‚æ€è·¯æ˜¯" class="headerlink" title="å¤§æ¦‚æ€è·¯æ˜¯"></a>å¤§æ¦‚æ€è·¯æ˜¯</h3><ol><li><p>é€šè¿‡unocssçš„é¢„è®¾æ·»åŠ ä½¿ç”¨@applyçš„æ ·å¼</p></li><li><p>å†é€šè¿‡jsæ·»åŠ æ ·å¼åˆ°å…ƒç´ ä¸Š</p></li><li><p>ä½¿ç”¨è¿‡æ¸¡æ•ˆæœ æ·»åŠ è¿‡æ¸¡æ—¶é—´</p></li><li><p>å›¾ç‰‡åŠ è½½éƒ¨åˆ†ä½¿ç”¨vueuseçš„useImage æ²¡åŠ è½½å‡ºæ¥ä¹‹å‰æ˜¯æœ‰ä¸ªloadingçš„ç•Œé¢</p></li><li><p>ä½¿ç”¨äº†ä¸€ä¸ªwakatimeçš„svgå±•ç¤ºæœ€è¿‘æ•²ä»£ç æ—¶é—´ç‚¹å‡»å¯çœ‹</p></li></ol><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/GIF%202023-1-28%2020-45-47.gif"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128213920.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128214002.png"></p><h2 id="çµæ„Ÿ"><a href="#çµæ„Ÿ" class="headerlink" title="çµæ„Ÿ"></a>çµæ„Ÿ</h2><p><a href="https://mzh.moegirl.org.cn/%E5%90%8E%E8%97%A4%E4%B8%80%E9%87%8C">https://mzh.moegirl.org.cn/%E5%90%8E%E8%97%A4%E4%B8%80%E9%87%8C</a></p><p>å¤åˆ»äº†å­¤ç‹¬æ‘‡æ»š åè—¤ä¸€é‡Œ çš„é…è‰² å³ä¸Šè§’æˆ–å·¦ä¸Šè§’çš„æ–¹å—ä¸ºæ³¢å¥‡é…±çš„å‘é¥°</p><h2 id="æºä»£ç "><a href="#æºä»£ç " class="headerlink" title="æºä»£ç "></a>æºä»£ç </h2><p>ä»£ç å¼€æºäº</p><p><a href="https://github.com/camera-2018/business-card-mv3">https://github.com/camera-2018/business-card-mv3</a></p><p>å¯ä»¥åœ¨<a href="https://github.com/camera-2018/business-card-mv3/releases">Releases</a>ä¸­ä¸‹è½½ç¼–è¯‘å¥½çš„æ‰©å±• è§£å‹ç„¶åç‚¹å‡»æµè§ˆå™¨çš„æ‰©å±•ç¨‹åºé€‰é¡¹å¡ <code>chrome://extensions/</code></p><p>è®°å¾—è¦å¼€å³ä¸Šè§’çš„å¼€å‘è€…æ¨¡å¼å“¦</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128212633.png"></p><p>ç„¶ååŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºå°±å¯ä»¥äº†</p><h2 id="popupéƒ¨åˆ†ä»£ç "><a href="#popupéƒ¨åˆ†ä»£ç " class="headerlink" title="popupéƒ¨åˆ†ä»£ç "></a>popupéƒ¨åˆ†ä»£ç </h2><p><a href="https://github.com/camera-2018/business-card-mv3/tree/refactor/mv3/src/popup">popup</a>éƒ¨åˆ†ä»£ç æ”¾åœ¨ç ä¸Šæ˜é‡‘ä¸Š</p><p><a href="https://code.juejin.cn/api/raw/7193666089241772090?id=7193666089241821242">https://code.juejin.cn/api/raw/7193666089241772090?id=7193666089241821242</a></p><p>ç”±äºä¾èµ–æ¯”è¾ƒå¤šï¼Œè€Œç ä¸Šæ˜é‡‘æ‹‰ä¸åˆ°cdnjsdelivrçš„æ•°æ®</p><p>æ‰€ä»¥åœ¨ç ä¸Šæ˜é‡‘ä¸Šæ˜¯æ— æ³•æ­£å¸¸æ˜¾ç¤ºçš„ğŸ˜¥ æƒ³è¯•è¯•çš„è¯è¯·å»<a href="https://github.com/camera-2018/business-card-mv3%E6%BA%90%E7%A0%81">https://github.com/camera-2018/business-card-mv3æºç </a></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128213154.png"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://code.juejin.cn/pen/7193666089241772090">https://code.juejin.cn/pen/7193666089241772090</a></p><p><a href="https://juejin.cn/post/7187753682421678137">https://juejin.cn/post/7187753682421678137</a></p><p><a href="https://mzh.moegirl.org.cn/%E5%90%8E%E8%97%A4%E4%B8%80%E9%87%8C">https://mzh.moegirl.org.cn/%E5%90%8E%E8%97%A4%E4%B8%80%E9%87%8C</a></p><p><a href="https://github.com/antfu/vitesse-webext">https://github.com/antfu/vitesse-webext</a></p>]]></content:encoded>
      
      
      
      
      <comments>https://xyxsw.ltd/2023/01/28/%E3%80%8C%E9%9D%92%E8%AE%AD%E8%90%A5%20X%20%E7%A0%81%E4%B8%8A%E6%8E%98%E9%87%91%E3%80%8D%E4%B8%BB%E9%A2%98%201%E2%80%94%E2%80%94%E6%88%91%E7%9A%84%E5%90%8D%E7%89%87/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Nuxt3ä¸æœåŠ¡ç«¯æ¸²æŸ“SSRï¼ˆä¸‹ï¼‰ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/01/28/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8B%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0%20-%20%E5%89%AF%E6%9C%AC/</link>
      <guid>https://xyxsw.ltd/2023/01/28/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8B%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0%20-%20%E5%89%AF%E6%9C%AC/</guid>
      <pubDate>Sat, 28 Jan 2023 13:37:03 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;strong&gt;è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 12 å¤©&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†å¤§æ¦‚ä¸€åŠçš„nuxt</description>
        
      
      
      
      <content:encoded><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 12 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†å¤§æ¦‚ä¸€åŠçš„nuxt3ç‰¹æ€§ï¼Œè¿™ä¸€ç¯‡ä¼šä»‹ç»å¦å¤–ä¸€åŠ</p><p>æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨nuxt3æ¥å¼€å‘é¡¹ç›®</p><p>è¸©åˆ°çš„å‘è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œé¢„è®¡å¯ä»¥å†™ä¸€ç¯‡è¸©å‘è®°å½•</p><h2 id="è¿‡æ¸¡"><a href="#è¿‡æ¸¡" class="headerlink" title="è¿‡æ¸¡"></a>è¿‡æ¸¡</h2><p>Nuxtåˆ©ç”¨Vueçš„ <a href="https://vuejs.org/guide/built-ins/transition.html#the-transition-component"><code>&lt;Transition&gt;</code></a>ç»„ä»¶æ¥åº”ç”¨é¡µé¢å’Œå¸ƒå±€ä¹‹é—´çš„è½¬æ¢ã€‚</p><p>åªéœ€è¦åœ¨nuxt configé‡Œè®¾ç½®</p><pre><code class="js">export default defineNuxtConfig(&#123;  app: &#123;    pageTransition: &#123; name: &#39;page&#39;, mode: &#39;out-in&#39; &#125;  &#125;,&#125;)</code></pre><p>ç„¶ååœ¨<code>app.vue</code>é‡Œè®¾ç½®ä½ æƒ³è¦çš„è¿‡æ¸¡åŠ¨ç”»</p><pre><code class="vue">&lt;template&gt;  &lt;NuxtPage /&gt;&lt;/template&gt;&lt;style&gt;.page-enter-active,.page-leave-active &#123;  transition: all 0.4s;&#125;.page-enter-from,.page-leave-to &#123;  opacity: 0;  filter: blur(1rem);&#125;&lt;/style&gt;</code></pre><p>ç±»åå¿…é¡»æ˜¯è¿™å‡ ä¸ª</p><p>å°±å¯ä»¥å®ç°ä¸€ä¸ªåˆ‡æ¢é¡µé¢æœ‰è™šåŒ–æ•ˆæœçš„åŠ¨ç”»</p><p>æ›´é«˜çº§çš„ç”¨æ³•è¯¦è§å®˜æ–¹æ–‡æ¡£</p><p><a href="https://nuxt.com/docs/getting-started/transitions">https://nuxt.com/docs/getting-started/transitions</a></p><h2 id="ä½¿ç”¨Apiè·å–æ•°æ®"><a href="#ä½¿ç”¨Apiè·å–æ•°æ®" class="headerlink" title="ä½¿ç”¨Apiè·å–æ•°æ®"></a>ä½¿ç”¨Apiè·å–æ•°æ®</h2><p>nuxt3è‡ªå¸¦ä¸€ä¸ª<code>vueuse</code>é‡Œçš„ <code>useFetch</code> api</p><p>ä½¿ç”¨æ–¹æ³•ä¸º</p><pre><code>&lt;script setup&gt;const &#123; data: count &#125; = await useFetch(&#39;/api/count&#39;)&lt;/script&gt;&lt;template&gt;  Page visits: &#123;&#123; count &#125;&#125;&lt;/template&gt;</code></pre><p>å¯ä»¥ä½¿ç”¨<code>useAsyncData</code>æ¥å¼‚æ­¥è·å–æ•°æ®</p><pre><code>&lt;script setup&gt;const &#123; data &#125; = await useAsyncData(&#39;count&#39;, () =&gt; $fetch(&#39;/api/count&#39;))&lt;/script&gt;&lt;template&gt;  Page visits: &#123;&#123; data &#125;&#125;&lt;/template&gt;</code></pre><p>æ›´é«˜çº§çš„ç”¨æ³•è¯¦è§å®˜æ–¹æ–‡æ¡£</p><p><a href="https://nuxt.com/docs/getting-started/data-fetching">https://nuxt.com/docs/getting-started/data-fetching</a></p><h2 id="çŠ¶æ€ç®¡ç†"><a href="#çŠ¶æ€ç®¡ç†" class="headerlink" title="çŠ¶æ€ç®¡ç†"></a>çŠ¶æ€ç®¡ç†</h2><p>nuxt3æä¾›äº†<code>vueuse</code>çš„ä¸€ä¸ªapiå«<code>useState</code>æ¥å®ç°å…¨å±€çŠ¶æ€ç®¡ç†</p><p>æ— éœ€åˆ›å»ºstateæ–‡ä»¶</p><p>ç›´æ¥ä½¿ç”¨</p><pre><code>&lt;script setup&gt;const counter = useState(&#39;counter&#39;, () =&gt; Math.round(Math.random() * 1000))&lt;/script&gt;&lt;template&gt;  &lt;div&gt;    Counter: &#123;&#123; counter &#125;&#125;    &lt;button @click=&quot;counter++&quot;&gt;      +    &lt;/button&gt;    &lt;button @click=&quot;counter--&quot;&gt;      -    &lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;</code></pre><p>è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªstateå«counter é‡Œé¢é»˜è®¤è®°å½•äº†ä¸€ä¸ªéšæœºæ•°</p><p>ç‚¹å‡»æŒ‰é’®ä¼šè®©éšæœºæ•°è¿›è¡ŒåŠ å‡</p><p><code>useState</code>é»˜è®¤ä¸ºå“åº”å¼ å¾ˆæ–¹ä¾¿</p><p>nuxt3çš„auto importç‰¹æ€§å¯ä»¥ä½¿stateç®€å†™ä¸º</p><pre><code>const counter = useCounter() // Same as useState(&#39;counter&#39;)</code></pre><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><p>nuxtæä¾›äº†å¾ˆå¤šé«˜çº§çš„é”™è¯¯å¤„ç†æ–¹å¼</p><p>ä¸€ä¸ªæœ€ç®€å•çš„apiæ˜¯<code>useError</code></p><pre><code>const error = useError()</code></pre><p>è¿™å¥ä»£ç å¯ä»¥å¿«é€Ÿçš„æŠ›å‡ºä¸€æ¡é”™è¯¯</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>createError</code>æ–¹æ³•</p><pre><code>&lt;script setup&gt;const route = useRoute()const &#123; data &#125; = await useFetch(`/api/movies/$&#123;route.params.slug&#125;`)if (!data.value) &#123;  throw createError(&#123; statusCode: 404, statusMessage: &#39;Page Not Found&#39; &#125;)&#125;&lt;/script&gt;</code></pre><h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><p>æ­£å¸¸çš„ä½¿ç”¨<code>nuxt build</code>å‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªåœ¨nodeç¯å¢ƒä¸­è¿è¡Œçš„è¿è¡Œæ—¶</p><p><code>.mjsæ–‡ä»¶</code></p><pre><code class="sh">node .output/server/index.mjs</code></pre><p>å³å¯è¿è¡Œ</p><pre><code class="bash">$ node .output/server/index.mjsListening on http://localhost:3000</code></pre><p>å¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ä¾‹å¦‚</p><pre><code>PORT=3001 node .output/server/index.mjs</code></pre><p>åœ¨3001ç«¯å£è¿è¡Œ</p><p>åœ¨ <code>nuxt.config</code> é‡Œæ·»åŠ </p><pre><code>export default &#123;  nitro: &#123;    preset: &#39;node-server&#39;  &#125;&#125;</code></pre><p>æˆ–è€…<code>NITRO_PRESET=node-server nuxt build</code></p><p>presetå­—æ®µå¯ä»¥æ›´æ”¹ç”Ÿæˆçš„ä»£ç çš„ä¾èµ–å¹³å°</p><p>æ”¯æŒçš„å¹³å°æœ‰</p><ul><li><a href="https://nitro.unjs.io/deploy/providers/aws">AWS</a></li><li><a href="https://nitro.unjs.io/deploy/providers/azure">Azure</a></li><li><a href="https://nitro.unjs.io/deploy/providers/cleavr">Cleavr</a></li><li><a href="https://nitro.unjs.io/deploy/providers/cloudflare">CloudFlare</a></li><li><a href="https://nitro.unjs.io/deploy/providers/digitalocean">Digital Ocean</a></li><li><a href="https://nitro.unjs.io/deploy/providers/firebase">Firebase</a></li><li><a href="https://nitro.unjs.io/deploy/providers/heroku">heroku</a></li><li><a href="https://nitro.unjs.io/deploy/providers/edgio">Edgio</a></li><li><a href="https://nitro.unjs.io/deploy/providers/netlify">Netlify</a></li><li><a href="https://nitro.unjs.io/deploy/providers/render">Render</a></li><li><a href="https://nitro.unjs.io/deploy/providers/stormkit">Stormkit</a></li><li><a href="https://nitro.unjs.io/deploy/providers/vercel">Vercel</a></li></ul><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>å¯ä»¥æ·»åŠ viteståº“æ¥è¿›è¡Œæµ‹è¯•</p><pre><code>yarn add --dev @nuxt/test-utils vitest</code></pre><p>æ–¹æ³•å¦‚ä¸‹</p><p>æ–°å»ºtestç›®å½• åˆ›å»ºæ–‡ä»¶ <code>demo.test.ts</code></p><pre><code class="ts">import &#123; describe, test &#125; from &#39;vitest&#39;import &#123; setup, $fetch &#125; from &#39;@nuxt/test-utils&#39;describe(&#39;My test&#39;, async () =&gt; &#123;  await setup(&#123;    // test context options  &#125;)  test(&#39;my test&#39;, () =&gt; &#123;    // ...  &#125;)&#125;)</code></pre><p>è¿è¡Œvitestå³å¯è·å¾—é€šè¿‡æˆ–ä¸é€šè¿‡æç¤º</p><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>åˆ°è¿™é‡Œnuxt3åŸºç¡€å°±å‡ ä¹ç»“æŸäº†</p><p>è¿˜æœ‰ä¸€äº›æ›´é«˜çº§çš„ç”¨æ³•æ²¡æœ‰è®²ï¼Œä¾‹å¦‚ç”Ÿå‘½å‘¨æœŸå•Šï¼Œnuxt-kitå•Šï¼Œè‡ªåŠ¨å¯¼å…¥å•Š</p><p>æœ‰æœºä¼šå¯ä»¥å†™ä¸€ç¯‡é«˜çº§æ•™ç¨‹</p><p>ğŸ˜‹ğŸ˜</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://nuxt.com/docs/getting-started/state-management">https://nuxt.com/docs/getting-started/state-management</a></p><p><a href="https://nuxt.com/docs/api/composables/use-state">https://nuxt.com/docs/api/composables/use-state</a></p><p><a href="https://juejin.cn/post/7193305766692913189">https://juejin.cn/post/7193305766692913189</a></p><p><a href="https://vueuse.org/">https://vueuse.org/</a></p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/01/28/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8B%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0%20-%20%E5%89%AF%E6%9C%AC/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Nuxt3ä¸æœåŠ¡ç«¯æ¸²æŸ“SSRï¼ˆä¸Šï¼‰ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/01/27/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8A%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/01/27/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8A%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Fri, 27 Jan 2023 10:41:32 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;strong&gt;è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 11 å¤©&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;NuxtåŒæ—¶æä¾›äº†å‰ç«¯å’Œåç«¯åŠŸèƒ½ï¼Œ</description>
        
      
      
      
      <content:encoded><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 11 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>NuxtåŒæ—¶æä¾›äº†å‰ç«¯å’Œåç«¯åŠŸèƒ½ï¼Œå› æ­¤æ‚¨å¯ä»¥ä¸“æ³¨äºé‡è¦çš„äº‹æƒ…ï¼šåˆ›å»ºwebåº”ç”¨ç¨‹åºã€‚</p><p><a href="https://nuxt.com/docs">Nuxt3</a> æ˜¯åŸºäº <code>Vite</code>ã€<code>Vue3</code> å’Œ <code>Nitro</code> çš„ <code>Nuxt</code> æ¡†æ¶çš„é‡æ„ï¼Œå…·æœ‰ä¸€æµçš„ <code>Typescript</code> æ”¯æŒï¼Œä¸”è¿™æ¬¡æ›´æ–°å¯¹å†…æ ¸è¿›è¡Œäº†ç²¾ç®€ï¼Œä½¿ä¹‹é€Ÿåº¦æ›´å¿«ï¼Œä½“éªŒæ›´å¥½ã€‚</p><h2 id="äº†è§£-SSR"><a href="#äº†è§£-SSR" class="headerlink" title="äº†è§£ SSR"></a>äº†è§£ <code>SSR</code></h2><p><code>Nuxt</code> æ˜¯ä¸€ä¸ªåŸºäº <code>Vue.js</code> çš„æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨æ¡†æ¶</p><h3 id="ä»€ä¹ˆæ˜¯-SSR"><a href="#ä»€ä¹ˆæ˜¯-SSR" class="headerlink" title="ä»€ä¹ˆæ˜¯ SSR"></a>ä»€ä¹ˆæ˜¯ <code>SSR</code></h3><p><code>æœåŠ¡å™¨ç«¯æ¸²æŸ“</code>ï¼ˆServer-Side Renderingï¼‰æ˜¯æŒ‡ç”±æœåŠ¡ç«¯å®Œæˆé¡µé¢çš„ HTML ç»“æ„æ‹¼æ¥çš„é¡µé¢å¤„ç†æŠ€æœ¯ï¼Œå‘é€åˆ°æµè§ˆå™¨ï¼Œç„¶åä¸ºå…¶ç»‘å®šçŠ¶æ€ä¸äº‹ä»¶ï¼Œæˆä¸ºå®Œå…¨å¯äº¤äº’é¡µé¢çš„è¿‡ç¨‹ã€‚</p><p>ç®€å•ç†è§£å°±æ˜¯htmlæ˜¯ç”±æœåŠ¡ç«¯å†™å‡ºï¼Œå¯ä»¥åŠ¨æ€æ”¹å˜é¡µé¢å†…å®¹ï¼Œå³æ‰€è°“çš„åŠ¨æ€é¡µé¢ã€‚æ—©å¹´çš„ php ã€ asp ã€ jsp  è¿™äº› Server page éƒ½æ˜¯ SSR çš„ã€‚</p><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨-SSR"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨-SSR" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨ SSR"></a>ä¸ºä»€ä¹ˆä½¿ç”¨ <code>SSR</code></h3><ul><li>ç½‘é¡µå†…å®¹åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“å®Œæˆï¼Œä¸€æ¬¡æ€§ä¼ è¾“åˆ°æµè§ˆå™¨ï¼Œæ‰€ä»¥ <code>é¦–å±åŠ è½½é€Ÿåº¦éå¸¸å¿«</code>ï¼›</li><li><code>æœ‰åˆ©äºSEO</code>ï¼Œå› ä¸ºæœåŠ¡å™¨è¿”å›çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„ htmlï¼Œåœ¨æµè§ˆå™¨å¯ä»¥çœ‹åˆ°å®Œæ•´çš„ domï¼Œå¯¹äºçˆ¬è™«ã€ç™¾åº¦æœç´¢ç­‰å¼•æ“å°±æ¯”è¾ƒå‹å¥½ï¼›</li></ul><h2 id="Nuxt-3"><a href="#Nuxt-3" class="headerlink" title="Nuxt 3"></a>Nuxt 3</h2><p><code>Nuxt</code> æ˜¯ä¸€ä¸ªåŸºäº <code>Vue.js</code> çš„æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨æ¡†æ¶ï¼Œ</p><p>åˆšå»æŸ¥äº†ä¸€ä¸‹ nuxt3åœ¨1æœˆ23æ—¥å˜æˆäº†é»˜è®¤ç‰ˆæœ¬</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125003129.png"></p><p>åœ¨1æœˆ25æ—¥å‘å¸ƒäº†3.1.0ç‰ˆæœ¬</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230127185726.png"></p><ul><li><p>å®éªŒç»„ä»¶ç¾¤å²› å‡†å¤‡å°±ç»ª</p></li><li><p>æ–°çš„api</p></li><li><p>Nitro v2 ï¼Œvite 4 ï¼Œrollup3</p></li><li><p>æ€§èƒ½æ”¹è¿›</p></li></ul><h2 id="ä»€ä¹ˆæ˜¯Nuxtï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Nuxtï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Nuxtï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Nuxtï¼Ÿ</h2><p>è¦ç†è§£Nuxtæ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£åˆ›å»ºä¸€ä¸ªç°ä»£åº”ç”¨ç¨‹åºéœ€è¦ä»€ä¹ˆï¼š</p><ul><li>JavaScriptæ¡†æ¶ï¼š ä¸€ä¸ªå¸¦æ¥JavaScriptç»„ä»¶çš„JavaScriptæ¡†æ¶ï¼Œæ”¯æŒVue.jsã€‚</li><li>æ‰“åŒ…å·¥å…·ï¼šæ”¯æŒå¼€å‘ä¸­çš„çƒ­æ¨¡å—æ›¿æ¢å’Œç”Ÿäº§ä»£ç ï¼Œæ”¯æŒwebpack 5å’ŒViteã€‚</li><li>æœ€æ–°JavaScriptè¯­æ³•ï¼šåœ¨æ”¯æŒé—ç•™æµè§ˆå™¨çš„åŒæ—¶ç¼–å†™æœ€æ–°çš„JavaScriptè¯­æ³•çš„è½¬æ¢å™¨ï¼Œæ”¯æŒesbuildã€‚</li><li>æœåŠ¡å™¨ç«¯ï¼šNuxtæ˜¯ä¸€ä¸ªåœ¨å¼€å‘ä¸­æœåŠ¡äºåº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒæœåŠ¡å™¨ç«¯å‘ˆç°æˆ–APIè·¯ç”±ï¼Œå®ƒä½¿ç”¨h3è¿›è¡Œéƒ¨ç½²çš„å¤šåŠŸèƒ½æ€§ï¼Œå¦‚serverless, workers, Node.jså’Œæ— ä¸ä¼¦æ¯”çš„æ€§èƒ½ã€‚</li><li>è·¯ç”±ï¼šä¸€ä¸ªå¤„ç†å®¢æˆ·ç«¯å¯¼èˆªçš„è·¯ç”±åº“ï¼Œæ”¯æŒ <a href="https://router.vuejs.org/">vue-router</a>.ã€‚</li></ul><h2 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p><a href="https://nuxt.com/docs/getting-started/installation#prerequisites">https://nuxt.com/docs/getting-started/installation#prerequisites</a></p><pre><code class="bash">pnpm dlx nuxi init &lt;project-name&gt;</code></pre><pre><code class="bash">code &lt;project-name&gt;</code></pre><pre><code class="bash"># Make sure you have `shamefully-hoist=true` in `.npmrc` before running pnpm installpnpm install</code></pre><p><strong>æ³¨æ„ï¼š</strong> å¦‚æœä½ ç”¨ <code>pnpm</code> å®‰è£…ä¾èµ–ï¼Œè¯·åˆ›å»ºä¸€ä¸ª <code>.npmrc</code> æ–‡ä»¶ï¼Œä¸”è®¾ç½®:</p><pre><code class="ini">shamefully-hoist=true</code></pre><p>å®‰è£…å®ŒæˆğŸ˜‹</p><h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><pre><code class="bash">pnpm dev -o</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230127193306.png"></p><p>çœ‹ä¸€çœ¼æ–‡ä»¶æ ‘</p><p>æŠ›å¼€ç¼–è¯‘ç»“æœ<code>.nuxt</code>æ–‡ä»¶å¤¹ä¸è°ˆ å°±åªæœ‰ä¸€ä¸ª<code>app.vue</code> å’Œ<code>nuxt.config.ts</code></p><p>å¾ˆç®€é™‹ æ€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èˆ¬å†™çš„vueæ¡†æ¶ä¹Ÿä¸æ˜¯è¿™æ ·çš„å•Š</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230127193603.png"></p><h2 id="åˆ›å»ºç›®å½•"><a href="#åˆ›å»ºç›®å½•" class="headerlink" title="åˆ›å»ºç›®å½•"></a>åˆ›å»ºç›®å½•</h2><p>åˆ›å»º <code>components/</code> <code>pages/</code></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230127200417.png"></p><p>å…·ä½“æ“ä½œè§å®˜æ–¹æ–‡æ¡£</p><p><a href="https://nuxt.com/docs/getting-started/views">https://nuxt.com/docs/getting-started/views</a></p><p>ä¹Ÿå¯ä»¥æ–°å»º<code>src</code>ç›®å½• æŠŠ <code>components/</code> <code>pages/</code>ç›®å½•æ”¾åˆ°<code>src</code>é‡Œ</p><p>åœ¨nuxté‡Œç»„ä»¶æ˜¯è‡ªåŠ¨å¯¼å…¥çš„ï¼Œä¸ç”¨é…ç½®</p><h2 id="è·¯ç”±è·³è½¬"><a href="#è·¯ç”±è·³è½¬" class="headerlink" title="è·¯ç”±è·³è½¬"></a>è·¯ç”±è·³è½¬</h2><p>è·¯ç”±æ˜¯è‡ªåŠ¨åˆ›å»ºçš„</p><pre><code class="html">&lt;NuxtLink to=&quot;/about&quot;&gt;About&lt;/NuxtLink&gt;</code></pre><p>ä»¥ä¸Šçš„ä»£ç ç‚¹å‡»ä¼šè‡ªåŠ¨è·³åˆ°<code>page/about.vue</code></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨è·¯ç”±</p><pre><code class="vue">&lt;script setup&gt;const route = useRoute()// When accessing /posts/1, route.params.id will be 1console.log(route.params.id)&lt;/script&gt;</code></pre><p><code>/posts/1</code>æ˜¯åˆ›å»ºçš„<code>/posts/[id].vue</code>è¿™æ ·idä¼šè¢«å½“åšpropsä¼ å…¥</p><h2 id="SEOä¼˜åŒ–"><a href="#SEOä¼˜åŒ–" class="headerlink" title="SEOä¼˜åŒ–"></a>SEOä¼˜åŒ–</h2><p>nuxtæœåŠ¡ç«¯æ¸²æŸ“æœ€é‡è¦çš„å°±æ˜¯æœç´¢å¼•æ“ä¼˜åŒ–</p><p>å¯ä»¥è¢«æ‹‰å–åˆ°å¸¦å†…å®¹çš„html</p><p>è€Œä¸æ˜¯ä¸€èˆ¬vueé¡¹ç›®çš„ç©ºhtml</p><pre><code class="js">export default defineNuxtConfig(&#123;  app: &#123;    head: &#123;      charset: &#39;utf-16&#39;,      viewport: &#39;width=500, initial-scale=1&#39;,      title: &#39;My App&#39;,      meta: [        // &lt;meta name=&quot;description&quot; content=&quot;My amazing site&quot;&gt;        &#123; name: &#39;description&#39;, content: &#39;My amazing site.&#39; &#125;      ],    &#125;  &#125;&#125;)</code></pre><p>åœ¨<code>nuxt.config.ts</code>é…ç½®å¦‚ä¸Šå†…å®¹</p><p>æˆ–è€…åœ¨<code>app.vue</code>é‡Œæ·»åŠ </p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;useHead(&#123;  title: &#39;My App&#39;,  meta: [    &#123; name: &#39;description&#39;, content: &#39;My amazing site.&#39; &#125;  ],  bodyAttrs: &#123;    class: &#39;test&#39;  &#125;,  script: [ &#123; children: &#39;console.log(\&#39;Hello world\&#39;)&#39; &#125; ]&#125;)useServerSeoMeta(&#123;  title: &#39;My Amazing Site&#39;,  ogTitle: &#39;My Amazing Site&#39;,  description: &#39;This is my amazing site, let me tell you all about it.&#39;,  ogDescription: &#39;This is my amazing site, let me tell you all about it.&#39;,  ogImage: &#39;https://example.com/image.png&#39;,  twitterCard: &#39;summary_large_image&#39;,&#125;)&lt;/script&gt;</code></pre><p>è¿™å‡ ä¸ªå‡½æ•°å¯ä»¥æ·»åŠ metaå¤´</p><p>è¿˜æœ‰ä¸€äº›è®¾ç½®å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ <a href="https://nuxt.com/docs/getting-started/seo-meta">https://nuxt.com/docs/getting-started/seo-meta</a></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <a href="https://nuxt.com/modules/seo-kit">https://nuxt.com/modules/seo-kit</a></p><p>è¿™ä¸ªæ¨¡å—æ¥é…ç½®SEO</p><p>å¾ˆæ–¹ä¾¿ğŸ˜</p><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>æœ¬ç¯‡æ–‡ç« ä»‹ç»äº†å¤§æ¦‚ä¸€åŠçš„nuxt3ç‰¹æ€§ï¼Œä¸‹ä¸€ç¯‡ä¼šä»‹ç»å¦å¤–ä¸€åŠ</p><p>æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨nuxt3æ¥å¼€å‘é¡¹ç›®</p><p>è¸©åˆ°çš„å‘è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œé¢„è®¡å¯ä»¥å†™ä¸€ç¯‡è¸©å‘è®°å½•</p><p>ğŸ˜</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://nuxt.com/modules/seo-kit">https://nuxt.com/modules/seo-kit</a></p><p><a href="https://nuxt.com/docs/getting-started/seo-meta">https://nuxt.com/docs/getting-started/seo-meta</a></p><p><a href="https://nuxt.com/docs/getting-started/views">https://nuxt.com/docs/getting-started/views</a></p><p><a href="https://nuxt.com/docs">https://nuxt.com/docs</a></p><p><a href="https://juejin.cn/post/7170746000112353293">https://juejin.cn/post/7170746000112353293</a></p><p><a href="https://juejin.cn/post/7037336504418435103">https://juejin.cn/post/7037336504418435103</a></p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/01/27/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8A%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>UnoCSSå®æˆ˜ ï½œ é’è®­è¥ç¬”è®°</title>
      <link>https://xyxsw.ltd/2023/01/26/UnoCSS%E5%AE%9E%E6%88%98%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</link>
      <guid>https://xyxsw.ltd/2023/01/26/UnoCSS%E5%AE%9E%E6%88%98%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Thu, 26 Jan 2023 15:00:32 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;strong&gt;è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 10 å¤©&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åŸå­åŒ–cssä½“éªŒ&lt;/p&gt;
&lt;p&gt;&lt;</description>
        
      
      
      
      <content:encoded><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 10 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åŸå­åŒ–cssä½“éªŒ</p><p><a href="https://link.juejin.cn/?target=https://antfu.me/posts/reimagine-atomic-css-zh">é‡æ–°æ„æƒ³åŸå­åŒ– CSS (antfu.me)</a></p><p>æœ¬ç¯‡ä»‹ç»ä¸€ä¸‹å¦‚ä½•é…ç½®UnoCSSã€UnoCSSæ€ä¹ˆä½¿ç”¨</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>å…ˆåˆ›å»ºä¸€ä¸ªviteæ¨¡æ¿   <a href="https://cn.vitejs.dev/guide/#scaffolding-your-first-vite-project">https://cn.vitejs.dev/guide/#scaffolding-your-first-vite-project</a></p><p>è¿™é‡Œä½¿ç”¨pnpm</p><pre><code class="bash">pnpm create vite</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126210343.png"></p><p>é€‰æ‹©vueã€typescript</p><pre><code class="bash">cd vite-projectpnpm installpnpm run dev</code></pre><p>è¿è¡Œä¸€ä¸‹</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126210518.png"></p><p>åˆå§‹åŒ–æˆåŠŸäº†ï¼Œæ¥ä¸‹æ¥å®‰è£…unocss  <a href="https://github.com/unocss/unocss/tree/main/packages/vite">https://github.com/unocss/unocss/tree/main/packages/vite</a></p><p>ä½¿ç”¨æ–‡æ¡£ç»™çš„viteå®‰è£…æ–¹å¼</p><pre><code class="bash">pnpm i -D unocss</code></pre><p>åœ¨vite configé‡Œå†™ä¸Š</p><pre><code class="ts">// vite.config.tsimport UnoCSS from &#39;unocss/vite&#39;export default &#123;  plugins: [    UnoCSS(&#123; /* options */ &#125;),  ],&#125;</code></pre><p>é…ç½®å®Œå…¨çš„vite configæ˜¯è¿™æ ·çš„</p><pre><code class="ts">// vite.config.tsimport &#123; defineConfig &#125; from &#39;vite&#39;import vue from &#39;@vitejs/plugin-vue&#39;import UnoCSS from &#39;unocss/vite&#39;import &#123; presetUno &#125; from &#39;unocss&#39;// https://vitejs.dev/config/export default defineConfig(&#123;  plugins: [    vue(),    UnoCSS(&#123;      presets: [        presetUno(),      ],    &#125;),  ],&#125;)</code></pre><p>ç„¶ååœ¨<code>main.ts</code>é‡ŒåŠ å…¥</p><pre><code class="ts">// main.tsimport &#39;uno.css&#39;</code></pre><p>è¿™é‡Œæ²¡æœ‰eslintè¿˜æ˜¯å¾ˆä¸èˆ’æœçš„ï¼Œæ¨èä¸€ä¸ªantfuçš„eslinté…ç½®ï¼Œæ¥å®‰è£…ä¸€ä¸‹eslint</p><p><a href="https://github.com/antfu/eslint-config">https://github.com/antfu/eslint-config</a></p><pre><code class="bash">pnpm add -D eslint @antfu/eslint-config</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126211558.png"></p><p>åˆ›å»º<code>.eslintrc</code>å†™å…¥</p><pre><code>&#123;  &quot;extends&quot;: &quot;@antfu&quot;&#125;</code></pre><p>åœ¨package jsoné‡ŒåŠ å…¥</p><pre><code class="json">&#123;  &quot;scripts&quot;: &#123;    &quot;lint&quot;: &quot;eslint .&quot;,    &quot;lint:fix&quot;: &quot;eslint . --fix&quot;  &#125;&#125;</code></pre><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯VSCode ä¸‹è½½ <a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint">VS Code ESLint extension</a> ç„¶åç¼–è¾‘ <code>.vscode/settings.json</code></p><pre><code class="json">&#123;  &quot;prettier.enable&quot;: false,  &quot;editor.formatOnSave&quot;: false,  &quot;editor.codeActionsOnSave&quot;: &#123;    &quot;source.fixAll.eslint&quot;: true  &#125;&#125;</code></pre><p>ä¹‹åé‡å¯vscode</p><p>å®‰è£…å®ŒæˆğŸ˜</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>æˆ‘ä»¬æ¥å†™ä¸€ä¸ªå°demo</p><p>å°±æŠŠåŸæœ¬çš„é»˜è®¤ç•Œé¢æ”¹æˆunocsså¥½äº†</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126212340.png"></p><p>å…ˆçœ‹app.vue</p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;import HelloWorld from &#39;./components/HelloWorld.vue&#39;&lt;/script&gt;&lt;template&gt;  &lt;div&gt;    &lt;a href=&quot;https://vitejs.dev&quot; target=&quot;_blank&quot;&gt;      &lt;img src=&quot;/vite.svg&quot; class=&quot;logo&quot; alt=&quot;Vite logo&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://vuejs.org/&quot; target=&quot;_blank&quot;&gt;      &lt;img src=&quot;./assets/vue.svg&quot; class=&quot;logo vue&quot; alt=&quot;Vue logo&quot;&gt;    &lt;/a&gt;  &lt;/div&gt;  &lt;HelloWorld msg=&quot;Vite + Vue&quot; /&gt;&lt;/template&gt;&lt;style scoped&gt;.logo &#123;  height: 6em;  padding: 1.5em;  will-change: filter;&#125;.logo:hover &#123;  filter: drop-shadow(0 0 2em #646cffaa);&#125;.logo.vue:hover &#123;  filter: drop-shadow(0 0 2em #42b883aa);&#125;&lt;/style&gt;</code></pre><p>æ”¹æˆåŸå­åŒ–cssçš„å½¢å¼</p><p>è¿™é‡Œæœ€å¥½å…ˆé…ç½®ä¸€ä¸‹vite config å¤šåŠ ä¸€ç‚¹é¢„è®¾</p><pre><code class="ts">// vite.config.tsimport &#123; defineConfig &#125; from &#39;vite&#39;import vue from &#39;@vitejs/plugin-vue&#39;import UnoCSS from &#39;unocss/vite&#39;import &#123; presetAttributify, presetIcons, presetTypography, presetUno, presetWebFonts, transformerDirectives, transformerVariantGroup &#125; from &#39;unocss&#39;// https://vitejs.dev/config/export default defineConfig(&#123;  plugins: [    vue(),    UnoCSS(      &#123;        presets: [          presetUno(),          presetAttributify(),          presetIcons(&#123;            scale: 1.2,          &#125;),          presetTypography(),          presetWebFonts(&#123;            fonts: &#123;              sans: &#39;DM Sans&#39;,              serif: &#39;DM Serif Display&#39;,              mono: &#39;DM Mono&#39;,            &#125;,          &#125;),        ],        transformers: [          transformerDirectives(),          transformerVariantGroup(),        ],      &#125;,    ),  ],&#125;)</code></pre><p>æˆ‘ä»¬å…ˆç”¨@applyå°†cssæ”¹ä¸€ä¸‹ <code>&lt;style scoped&gt;</code></p><pre><code class="css">.logo &#123;  height: 6em;  padding: 1.5em;  will-change: filter;&#125;.logo:hover &#123;  filter: drop-shadow(0 0 2em #646cffaa);&#125;.logo.vue:hover &#123;  filter: drop-shadow(0 0 2em #42b883aa);&#125;</code></pre><p>è¿™é‡Œä¸ä¼šçš„è¯­æ³•å¯ä»¥çœ‹tailwindcssæ–‡æ¡£</p><p>æ”¹æˆ</p><pre><code class="css">.logo &#123;  @apply h-6em p-1.5em&#125;.logo &#123;  @apply hover:drop-shadow-[0_0_2em_#646cffaa]&#125;.logo.vue &#123;  @apply hover:drop-shadow-[0_0_2em_#42b883aa]&#125;</code></pre><p>æ€ä¹ˆæ ·ï¼Ÿæ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆæ¸…æ™°æ˜äº†</p><p>è¿™æ˜¯åœ¨tailwindcssé‡Œå¾ˆå—æ¬¢è¿çš„@applyå‘½ä»¤ é€šè¿‡é¢„è®¾å¯¼å…¥äº†unocss</p><p>ä½†æ˜¯è¿™æ ·ä½“ç°ä¸å‡ºåŸå­åŒ–cssçš„æ–¹ä¾¿ï¼Œè™½ç„¶éå¸¸å¥½çœ‹</p><p>æˆ‘ä»¬æŠŠcsså†™å…¥html</p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;import HelloWorld from &#39;./components/HelloWorld.vue&#39;&lt;/script&gt;&lt;template&gt;  &lt;div&gt;    &lt;a href=&quot;https://vitejs.dev&quot; target=&quot;_blank&quot;&gt;      &lt;img src=&quot;/vite.svg&quot; class=&quot;h-6em p-1.5em hover:drop-shadow-[0_0_2em_#646cffaa]&quot; alt=&quot;Vite logo&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://vuejs.org/&quot; target=&quot;_blank&quot;&gt;      &lt;img src=&quot;./assets/vue.svg&quot; class=&quot;hover:drop-shadow-[0_0_2em_#42b883aa]&quot; alt=&quot;Vue logo&quot;&gt;    &lt;/a&gt;  &lt;/div&gt;  &lt;HelloWorld msg=&quot;Vite + Vue&quot; /&gt;&lt;/template&gt;&lt;style scoped&gt;&lt;/style&gt;</code></pre><p>è¿™æ ·å†™å°±å¾ˆæ–¹ä¾¿äº†</p><p>å†çœ‹<code>HelloWorld.vue</code></p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;defineProps&lt;&#123; msg: string &#125;&gt;()const count = ref(0)&lt;/script&gt;&lt;template&gt;  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;  &lt;div class=&quot;card&quot;&gt;    &lt;button type=&quot;button&quot; @click=&quot;count++&quot;&gt;count is &#123;&#123; count &#125;&#125;&lt;/button&gt;    &lt;p&gt;      Edit      &lt;code&gt;components/HelloWorld.vue&lt;/code&gt; to test HMR    &lt;/p&gt;  &lt;/div&gt;  &lt;p&gt;    Check out    &lt;a href=&quot;https://vuejs.org/guide/quick-start.html#local&quot; target=&quot;_blank&quot;      &gt;create-vue&lt;/a    &gt;, the official Vue + Vite starter  &lt;/p&gt;  &lt;p&gt;    Install    &lt;a href=&quot;https://github.com/johnsoncodehk/volar&quot; target=&quot;_blank&quot;&gt;Volar&lt;/a&gt;    in your IDE for a better DX  &lt;/p&gt;  &lt;p class=&quot;read-the-docs&quot;&gt;Click on the Vite and Vue logos to learn more&lt;/p&gt;&lt;/template&gt;&lt;style scoped&gt;.read-the-docs &#123;  color: #888;&#125;&lt;/style&gt;</code></pre><p>è¿™ä¸ªæ”¹çš„æ¯”è¾ƒå°‘</p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;defineProps&lt;&#123; msg: string &#125;&gt;()const count = ref(0)&lt;/script&gt;&lt;template&gt;  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;  &lt;div class=&quot;card&quot;&gt;    &lt;button type=&quot;button&quot; @click=&quot;count++&quot;&gt;      count is &#123;&#123; count &#125;&#125;    &lt;/button&gt;    &lt;p&gt;      Edit      &lt;code&gt;components/HelloWorld.vue&lt;/code&gt; to test HMR    &lt;/p&gt;  &lt;/div&gt;  &lt;p&gt;    Check out    &lt;a href=&quot;https://vuejs.org/guide/quick-start.html#local&quot; target=&quot;_blank&quot;&gt;create-vue&lt;/a&gt;, the official Vue + Vite starter  &lt;/p&gt;  &lt;p&gt;    Install    &lt;a href=&quot;https://github.com/johnsoncodehk/volar&quot; target=&quot;_blank&quot;&gt;Volar&lt;/a&gt;    in your IDE for a better DX  &lt;/p&gt;  &lt;p class=&quot;text-[#888]&quot;&gt;    Click on the Vite and Vue logos to learn more  &lt;/p&gt;&lt;/template&gt;&lt;style&gt;&lt;/style&gt;</code></pre><p>æ”¹æˆè¿™æ ·å°±è¡Œ</p><p>å†çœ‹<code>style.css</code>æ–‡ä»¶ å†…å®¹æ¯”è¾ƒå¤š</p><pre><code class="css">:root &#123;  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;  font-size: 16px;  line-height: 24px;  font-weight: 400;  color-scheme: light dark;  color: rgba(255, 255, 255, 0.87);  background-color: #242424;  font-synthesis: none;  text-rendering: optimizeLegibility;  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;  -webkit-text-size-adjust: 100%;&#125;a &#123;  font-weight: 500;  color: #646cff;  text-decoration: inherit;&#125;a:hover &#123;  color: #535bf2;&#125;body &#123;  margin: 0;  display: flex;  place-items: center;  min-width: 320px;  min-height: 100vh;&#125;h1 &#123;  font-size: 3.2em;  line-height: 1.1;&#125;button &#123;  border-radius: 8px;  border: 1px solid transparent;  padding: 0.6em 1.2em;  font-size: 1em;  font-weight: 500;  font-family: inherit;  background-color: #1a1a1a;  cursor: pointer;  transition: border-color 0.25s;&#125;button:hover &#123;  border-color: #646cff;&#125;button:focus,button:focus-visible &#123;  outline: 4px auto -webkit-focus-ring-color;&#125;.card &#123;  padding: 2em;&#125;#app &#123;  max-width: 1280px;  margin: 0 auto;  padding: 2rem;  text-align: center;&#125;@media (prefers-color-scheme: light) &#123;  :root &#123;    color: #213547;    background-color: #ffffff;  &#125;  a:hover &#123;    color: #747bff;  &#125;  button &#123;    background-color: #f9f9f9;  &#125;&#125;</code></pre><p>ä¸€ç‚¹ç‚¹å„¿æ”¹</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126221543.png"></p><p>æœ€åæ”¹æˆäº†è¿™æ · è¿˜æŒºè¿˜åŸçš„æ˜¯ä¸æ˜¯</p><p>æœ‰ä¸€äº›åª’ä½“æŸ¥è¯¢ä¸ä¼šæ”¹</p><p>æ ¹å…ƒç´ æ²¡æ”¹</p><p>ä»£ç å¦‚ä¸‹</p><pre><code class="css">// style.css:root &#123;  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;  font-size: 16px;  line-height: 24px;  font-weight: 400;  color-scheme: light dark;  color: rgba(255, 255, 255, 0.87);  background-color: #242424;  font-synthesis: none;  text-rendering: optimizeLegibility;  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;  -webkit-text-size-adjust: 100%;&#125;@media (prefers-color-scheme: light) &#123;  :root &#123;    color: #213547;    background-color: #ffffff;  &#125;  a:hover &#123;    color: #747bff;  &#125;  button &#123;    background-color: #f9f9f9;  &#125;&#125;</code></pre><pre><code class="vue">// HelloWorld.vue&lt;script setup lang=&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;defineProps&lt;&#123; msg: string &#125;&gt;()const count = ref(0)&lt;/script&gt;&lt;template&gt;  &lt;h1 class=&quot;text-3.2em leading-tight&quot;&gt;    &#123;&#123; msg &#125;&#125;  &lt;/h1&gt;  &lt;div class=&quot;p-2em flex flex-col place-items-center&quot;&gt;    &lt;button      type=&quot;button&quot; class=&quot;      rounded-8px border-1px border-solid border-transparent      py-0.6em px-1.2em text-1em font-medium      bg-[#1a1a1a] cursor-pointer transition duration-250      hover:border-color-[#646cff]      focus:outline-4 focus:outline-[-webkit-focus-ring-color]      focus-visible:outline-4 focus-visible:outline-[-webkit-focus-ring-color]    &quot; @click=&quot;count++&quot;    &gt;      count is &#123;&#123; count &#125;&#125;    &lt;/button&gt;    &lt;p&gt;      Edit      &lt;code&gt;components/HelloWorld.vue&lt;/code&gt; to test HMR    &lt;/p&gt;  &lt;/div&gt;  &lt;p&gt;    Check out    &lt;a href=&quot;https://vuejs.org/guide/quick-start.html#local&quot; target=&quot;_blank&quot; class=&quot;font-medium color-[#646cff] hover:color-[#535bf2]&quot;&gt;create-vue&lt;/a&gt;, the official Vue + Vite starter  &lt;/p&gt;  &lt;p&gt;    Install    &lt;a href=&quot;https://github.com/johnsoncodehk/volar&quot; target=&quot;_blank&quot; class=&quot;font-medium color-[#646cff] hover:color-[#535bf2]&quot;&gt;Volar&lt;/a&gt;    in your IDE for a better DX  &lt;/p&gt;  &lt;p class=&quot;text-[#888]&quot;&gt;    Click on the Vite and Vue logos to learn more  &lt;/p&gt;&lt;/template&gt;&lt;style&gt;&lt;/style&gt;</code></pre><pre><code class="vue">// App.vue&lt;script setup lang=&quot;ts&quot;&gt;import HelloWorld from &#39;./components/HelloWorld.vue&#39;&lt;/script&gt;&lt;template&gt;  &lt;div class=&quot;m-0 flex flex-col place-items-center min-w-320px min-h-100vh&quot;&gt;    &lt;div class=&quot;max-w-1280px my-0 mx-auto p-2rem text-center&quot;&gt;      &lt;a href=&quot;https://vitejs.dev&quot; target=&quot;_blank&quot; class=&quot;font-medium color-[#646cff] hover:color-[#535bf2]&quot;&gt;        &lt;img src=&quot;/vite.svg&quot; class=&quot;h-6em p-1.5em hover:drop-shadow-[0_0_2em_#646cffaa]&quot; alt=&quot;Vite logo&quot;&gt;      &lt;/a&gt;      &lt;a href=&quot;https://vuejs.org/&quot; target=&quot;_blank&quot; class=&quot;font-medium color-[#646cff] hover:color-[#535bf2]&quot;&gt;        &lt;img src=&quot;./assets/vue.svg&quot; class=&quot;h-6em p-1.5em hover:drop-shadow-[0_0_2em_#42b883aa]&quot; alt=&quot;Vue logo&quot;&gt;      &lt;/a&gt;    &lt;/div&gt;    &lt;HelloWorld msg=&quot;Vite + Vue&quot; /&gt;  &lt;/div&gt;&lt;/template&gt;&lt;style&gt;&lt;/style&gt;</code></pre><p>å¯ä»¥çœ‹å‡ºæ¥è™½ç„¶å†™çš„ç®€å•ï¼Œä½†æ˜¯è¿˜æ˜¯æ¯”è¾ƒä¹±</p><p>è¿™æ ·å†™çš„å¥½å¤„æ˜¯ï¼Œä¸ç”¨æƒ³ç±»åï¼Œ</p><p>å¦‚æœåŠ äº†@applyä¼šæ›´ç¾è§‚ï¼Œä½†æ˜¯è¿˜æ˜¯è¦å†™ç±»åï¼Œå’Œæ™®é€šcssçš„åŒºåˆ«å°±æ˜¯ç®€å•äº†ä¸€äº›</p><p>åŒæ—¶è¿˜æœ‰ä¸€äº›è‡ªå¸¦çš„æ ·å¼é¢„è®¾</p><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>æœ¬ç¯‡æˆ‘ä»¬ä»‹ç»äº†UnoCSSçš„ç‰¹ç‚¹ï¼ŒUnoCSSçš„ä½¿ç”¨ï¼Œè¿˜æ˜¯æ”¹äº†æŒºé•¿æ—¶é—´çš„ï¼Œä¸»è¦æ˜¯ä¸ä¼šå†™è¯­æ³•ï¼Œè¦æŸ¥tailwindæ–‡æ¡£ <a href="https://tailwindcss.com/docs">https://tailwindcss.com/docs</a></p><p>è¿˜æœ‰ä¸€äº›å¥½å‡ ä¸ªå€¼çš„css ä¸çŸ¥é“ä»€ä¹ˆæ„æ€</p><pre><code class="css">outline: green solid 3px;/* mdn:é¢œè‰² | æ ·å¼ | å®½åº¦ */</code></pre><pre><code class="css">outline: 4px auto -webkit-focus-ring-color;/* style.css */</code></pre><p>å…³äºè¿™ç§å°±ä¸çŸ¥é“æ€ä¹ˆå†™</p><p>æœ€ååªèƒ½æ°æˆ</p><pre><code>focus:outline-4 focus:outline-[-webkit-focus-ring-color]</code></pre><p>é¢˜å¤–è¯ï¼š</p><blockquote><p>Anthony Fuå¤§ä½¬çœŸçš„æ˜¯æˆ‘ç›®å‰çš„å¶åƒï¼Œç‹‚çƒ­çš„å¼€æºçˆ±å¥½è€…ï¼Œäººé•¿å¾—åˆå¸…ï¼Œåšçš„ä¸œè¥¿åˆå¥½</p></blockquote><p>ğŸ¤£è¿™æ˜¯æˆ‘åœ¨æ˜é‡‘æœunocssæœåˆ°çš„ä¸€ç¯‡æ–‡ç« ä¸­çš„ç¬¬ä¸€å¥è¯ æ–‡ç« åœ¨è¿™ <a href="https://juejin.cn/post/7028841960752283656">https://juejin.cn/post/7028841960752283656</a></p><p>antfuå¤§ä½¬ç¡®å®ä¹Ÿæ˜¯æˆ‘çš„å¶åƒ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125225032.png"></p><p>22å¹´ç§‹å­£ antfuå¤§ä½¬åœ¨bç«™åŠè¿‡å‡ åœºç›´æ’­å†™ä»£ç ï¼Œæˆ‘åŸºæœ¬ä¸Šæ˜¯æ¯æœŸå¿…çœ‹ï¼Œè¿™ä¸ªäººéå¸¸æœ‰æ„æ€ï¼Œæœ‰å¾ˆå¤šæ–°é²œçš„ç‚¹å­ï¼Œç‹ æ´»ä¹Ÿå¤š æ¯”å¦‚è¯´</p><p><a href="https://github.com/antfu/1990-script">https://github.com/antfu/1990-script</a> è¿™ä¸ªä»“åº“æ•™ä½ æ€ä¹ˆæŠŠGitHubå†å²ç©¿è¶Šå›1990å¹´ğŸ¤­</p><p>ä»–çš„æ¯ä¸ªstaræ¯”è¾ƒå¤šçš„ä»“åº“æˆ‘éƒ½ä½“éªŒè¿‡ï¼Œæ„Ÿè§‰è®¾è®¡çµæ„ŸçœŸçš„è®©äººçœ¼å‰ä¸€äº®ï¼Œå¯å‘åŸºäºç¤¾åŒºï¼Œåˆ›é€ æ›´å¿«çš„è½®å­ï¼Œæ›´å¥½ç©çš„è½®å­</p><p><a href="https://github.com/antfu/retypewriter">https://github.com/antfu/retypewriter</a> è¿™ä¸ªæ˜¯ç›´æ’­å†™çš„é›å½¢ è®©å†™çš„ä»£ç åœ¨vscé‡Œå›æ”¾ï¼Œä¾¿äºç†æ¸…æ€è·¯</p><p><a href="https://github.com/antfu/vue-minesweeper">https://github.com/antfu/vue-minesweeper</a> è¿™ä¸ªæ˜¯é¦–æ¬¡ç›´æ’­å†™çš„æ‰«é›·ï¼Œå¾ˆæ¸…æ™°çš„vueä»£ç ï¼Œçœ‹ä»–å†™çœŸçš„å¼€çª</p><p><a href="https://github.com/antfu/vue-starport">https://github.com/antfu/vue-starport</a> è¿™ä¸ªä¹Ÿæ˜¯ç›´æ’­å†™çš„é›å½¢ï¼Œä¸ºäº†ä½¿ç»„ä»¶æœ‰æ›´å¥½çš„è¿‡æ¸¡</p><p>å°±è¯´è¿™ä¹ˆå¤šï¼Œäººä¹Ÿé•¿å¾—å¸…</p><p>ğŸ¥°ğŸ˜˜</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS">https://developer.mozilla.org/zh-CN/docs/Web/CSS</a></p><p><a href="https://tailwindcss.com/docs">https://tailwindcss.com/docs</a></p><p><a href="https://www.tailwindcss.cn/docs/functions-and-directives#apply">https://www.tailwindcss.cn/docs/functions-and-directives#apply</a></p><p><a href="https://github.com/unocss/unocss">https://github.com/unocss/unocss</a></p><p><a href="https://cn.vitejs.dev/">https://cn.vitejs.dev/</a></p>]]></content:encoded>
      
      
      
      <category domain="https://xyxsw.ltd/tags/%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/">é’è®­è¥ç¬”è®°</category>
      
      
      <comments>https://xyxsw.ltd/2023/01/26/UnoCSS%E5%AE%9E%E6%88%98%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
