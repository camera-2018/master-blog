<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/2023/10/18/java_crud%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/"/>
      <url>/2023/10/18/java_crud%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="java-crudç¯å¢ƒé…ç½®æ•™ç¨‹"><a href="#java-crudç¯å¢ƒé…ç½®æ•™ç¨‹" class="headerlink" title="java_crudç¯å¢ƒé…ç½®æ•™ç¨‹"></a>java_crudç¯å¢ƒé…ç½®æ•™ç¨‹</h1><p>æœ¬æ–‡ä¼šä»å®‰è£…å¼€å§‹ï¼Œåˆ°æœ€åå†™å‡ºä¸€ä¸ªå¸¦å‘½ä»¤è¡Œäº¤äº’çª—å£çš„CRUDçš„å°é¡¹ç›®.</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="å®‰è£…JDK"><a href="#å®‰è£…JDK" class="headerlink" title="å®‰è£…JDK"></a>å®‰è£…JDK</h2><p><a href="https://www.oracle.com/java/technologies/downloads/#jdk17-windows">å®‰è£…åœ°å€</a></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221643.png"></p><p> å»ºè®®ä¸‹è½½java17ä»¥é˜²æ­¢æœ‰ä¾èµ–é—®é¢˜</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221712.png"></p><p>ç‚¹å‡»è¿™ä¸ªä¸‹è½½<code>.msi</code>å®‰è£…åŒ…æ¥å®‰è£…</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221734.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221748.png"></p><p>è¿™é‡Œå»ºè®®ä¸è¦æ›´æ”¹<strong>é»˜è®¤ä½ç½®</strong></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221802.png"></p><p>å®‰è£…å®ŒæˆğŸ¥³</p><h2 id="è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡"></a>è®¾ç½®ç¯å¢ƒå˜é‡</h2><p>åœ¨<code>Windowså¼€å§‹èœå•</code>æœç´¢<code>ç¯å¢ƒå˜é‡</code></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221840.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221858.png"></p><p>åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸‹é¢ç‚¹å‡»æ–°å»º</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221915.png"></p><p>å˜é‡åè®¾ç½®ä¸º <code>JAVA_HOME</code></p><p>å˜é‡å€¼è®¾ç½®ä¸º <code>C:\Program Files\Java\jdk-17.0.4.1</code> å¦‚æœä½ æœ‰å®‰è£…åˆ°å…¶ä»–ç›®å½•è¯·å¡«å…¶ä»–ç›®å½•</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221927.png"></p><p>æ–°å»ºç¯å¢ƒå˜é‡ <code>CLASS_PATH</code> </p><p>å˜é‡å€¼ä¸º <code>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code></p><p>å¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929221948.png"></p><p>æ³¨æ„ å˜é‡å€¼æ¯”è¾ƒå¥‡æ€ª å¯èƒ½ç†è§£ä¸èƒ½  ä½†æ˜¯è¦ç…§ä¸Šå¡«å†™</p><p>åœ¨ç³»ç»Ÿå˜é‡é‡Œæ‰¾åˆ°<code>path</code> åŒå‡»</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222004.png"></p><p>ç‚¹å‡»æ–°å»º  å€¼å¡«å†™</p><p><code>%JAVA_HOME%\bin</code></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222021.png"></p><p>ç‚¹å‡»ç¡®å®š</p><p>æ¥ä¸‹æ¥æŒ‰ Windowsé”®åŠ Ré”®  è¾“å…¥cmdç‚¹ç¡®å®š</p><p>åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥<code>java --version</code></p><p>å¦‚æœ‰æ­£å¸¸ä¸æŠ¥é”™åˆ™é…ç½®æˆåŠŸğŸ¥³</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222038.png"></p><h2 id="å®‰è£…MySQL"><a href="#å®‰è£…MySQL" class="headerlink" title="å®‰è£…MySQL"></a>å®‰è£…MySQL</h2><p><a href="https://downloads.mysql.com/archives/installer/">MySQL :: Download MySQL Installer (Archived Versions)</a></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222056.png"></p><p>åŒå‡»æ‰“å¼€</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222109.png"></p><p>é€‰default</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222120.png"></p><p>ç›´æ¥next</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222134.png"></p><p>yes</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222149.png"></p><p>Execute</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222201.png"></p><p>ä¸€è·¯next</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222212.png"></p><p>è®¾ä¸€ä¸ªå¯†ç </p><p>ç„¶åä¸€è·¯next</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222223.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222238.png"></p><p>ç‚¹check</p><p>ç‚¹next</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929222255.png"></p><p>æœ€åä¼šè·³å‡ºè¿™ä¹ˆä¸€ä¸ªå¥‡å¥‡æ€ªæ€ªçš„ MySQL JS çš„å‘½ä»¤è¡Œ ï¼ˆè¯´å®è¯æˆ‘æ²¡æ‡‚ä¸ºä»€ä¹ˆæœ‰è¿™ç©æ„</p><p>ï¼ˆä¸è¿‡ä½ å¯ä»¥åœ¨ä¸Šé¢ç©ç© JS çš„ç‰¹æ€§   ï¼šï¼‰</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929230157.png"></p><p>å’Œå‘½ä»¤è¡ŒåŒæ—¶å¼¹å‡ºæ¥çš„æ˜¯workbench </p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929230229.png"></p><p>MySQLå·²å®‰è£…å®ŒæˆğŸ¥³</p><h2 id="å®‰è£…-JetBrain-IntelliJ-IDEA"><a href="#å®‰è£…-JetBrain-IntelliJ-IDEA" class="headerlink" title="å®‰è£… JetBrain IntelliJ IDEA"></a>å®‰è£… JetBrain IntelliJ IDEA</h2><p><a href="https://www.jetbrains.com/zh-cn/idea/">ä¸‹è½½åœ°å€</a></p><p>ç›´æ¥ä¸‹è½½å’¯ 0é…ç½®çš„</p><h1 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h1><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929230750.png"></p><p>æ–°å»ºé¡¹ç›®</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929230914.png"></p><p>åˆ›å»ºé…ç½®å¦‚å›¾æ‰€ç¤º</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231039.png"></p><p>ç‚¹è¿› <code>src/main/java/org/example/main</code>è¿è¡Œä¸€ä¸‹è¯•è¯•</p><h2 id="é…ç½®Maven"><a href="#é…ç½®Maven" class="headerlink" title="é…ç½®Maven"></a>é…ç½®Maven</h2><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231348.png"></p><p>ç‚¹å‡»ç¼–è¾‘é…ç½®</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231437.png"></p><p>æ–°å»ºä¸€ä¸ªMavené…ç½®</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231601.png"></p><p>é…ç½®å¦‚å›¾ ä¿å­˜åº”ç”¨</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231748.png"></p><p>ç‚¹å‡»è¿è¡Œ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231717.png"></p><p>buildæˆåŠŸåä¼šç”Ÿæˆä¸€ä¸ªsnapshotçš„jar</p><p>æ¥ä¸‹æ¥æ˜¯å®‰è£…mavenä¾èµ–é¡¹</p><p>æ‰“å¼€pom.xml å³é”®ç‚¹ç”Ÿæˆ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231903.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929231942.png"></p><p>æœç´¢ mysql-connector æ·»åŠ è¿™ä¸ª8ç‰ˆæœ¬çš„ä¾èµ–</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929232035.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220930000633.png"></p><p>ç”Ÿæˆäº†å¦‚å›¾çš„ä»£ç åˆ™æˆåŠŸ</p><p>åœ¨ä¸ dependencies åŒçº§çš„æ ‡ç­¾ä¸‹é¢ æ·»åŠ å¦‚ä¸‹ä»£ç  é…ç½®mavenä¾èµ–è‡ªåŠ¨å®‰è£…</p><pre><code class="xml"> &lt;build&gt;        &lt;plugins&gt;            &lt;plugin&gt;                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;                &lt;executions&gt;                    &lt;execution&gt;                        &lt;phase&gt;package&lt;/phase&gt;                        &lt;goals&gt;                            &lt;goal&gt;single&lt;/goal&gt;                        &lt;/goals&gt;                    &lt;/execution&gt;                &lt;/executions&gt;                &lt;configuration&gt;                    &lt;descriptorRefs&gt;                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;                    &lt;/descriptorRefs&gt;                    &lt;archive&gt;                        &lt;manifest&gt;                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;                            &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;                        &lt;/manifest&gt;                    &lt;/archive&gt;                &lt;/configuration&gt;            &lt;/plugin&gt;        &lt;/plugins&gt;    &lt;/build&gt;</code></pre><p>ç‚¹å‡»å³ä¸Šè§’ <img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929232533.png"> é‡æ–°åŠ è½½mavenå˜æ›´</p><h2 id="åŠ è½½æ•°æ®åº“-åˆ›å»ºæ•°æ®è¡¨"><a href="#åŠ è½½æ•°æ®åº“-åˆ›å»ºæ•°æ®è¡¨" class="headerlink" title="åŠ è½½æ•°æ®åº“&amp;&amp;åˆ›å»ºæ•°æ®è¡¨"></a>åŠ è½½æ•°æ®åº“&amp;&amp;åˆ›å»ºæ•°æ®è¡¨</h2><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929232829.png"></p><p>åœ¨å³è¾¹çš„ä¾§è¾¹æ ä¸­æ‰¾åˆ°æ•°æ®åº“  æ·»åŠ ä¸€ä¸ªMySQL</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233002.png"></p><p>è¾“å…¥ä½ åˆšè®¾ç½®çš„è´¦å·å¯†ç è¿æ¥</p><p>å¼¹å‡ºä¸€ä¸ªconsole</p><p>åœ¨é‡Œé¢è¾“å…¥</p><pre><code class="sql">CREATE DATABASE `java_crud_demo` CHARACTER SET &#39;utf8mb4&#39; COLLATE &#39;utf8mb4_general_ci&#39;;</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233123.png"></p><p>ç»¿è‰²æ¡†å†…æ˜¯ideaè¯†åˆ«å‡ºæ¥çš„sqlè¯­å¥  ç‚¹å‡»å·¦ä¸Šç»¿è‰²ç®­å¤´æ‰§è¡Œ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233231.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233308.png"></p><p>å³ä¾§æ•°æ®åº“æ é‡Œä¼šå‡ºç°ä½ åˆšåˆ›å»ºçš„æ•°æ®åº“ ä½†æ˜¯é‡Œé¢æ²¡æœ‰è¡¨</p><p>åœ¨consoleé‡Œè¾“å…¥</p><pre><code class="sql">create table if not exists `java_crud_demo`.`article_table`(    id     int unsigned auto_increment        primary key,    title  varchar(100) not null,    author varchar(40)  not null,    time   datetime     null);</code></pre><p>ctrl + a å…¨é€‰ä¸­ ç„¶åç‚¹æ‰§è¡Œ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929233643.png"></p><p>ç”Ÿæˆäº†è¡¨article_table é‡Œé¢æ²¡æœ‰æ•°æ®</p><p>ç®€å•çš„å¡«å……æ•°æ® å¯ä»¥ consoleè¾“å…¥</p><pre><code class="sql">INSERT INTO `java_crud_demo`.`article_table` (`title`, `author`, `time`)VALUES (&#39;æ ‡é¢˜&#39;, &#39;ä½œè€…&#39;, NOW());</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929234014.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220929234049.png"></p><p>æ’å…¥å®Œäº†è®°å¾—ç‚¹è¿™ä¸ªåˆ·æ–°</p><p>ä¹Ÿå¯ä»¥ç›´æ¥åœ¨tableé¢„è§ˆç•Œé¢</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220930000521.png"></p><p>æ·»åŠ è¡Œ è¾“å…¥å®Œæ¯•å ç‚¹æäº¤</p><h2 id="æ•°æ®åº“crudæ¨¡æ¿"><a href="#æ•°æ®åº“crudæ¨¡æ¿" class="headerlink" title="æ•°æ®åº“crudæ¨¡æ¿"></a>æ•°æ®åº“crudæ¨¡æ¿</h2><p>æ–°å»ºä¸€ä¸ªcrud.java</p><pre><code class="java">package org.example;import java.sql.*;public class Crud &#123;    // MySQL 8.0 ä»¥ä¸‹ç‰ˆæœ¬ - JDBC é©±åŠ¨ååŠæ•°æ®åº“ URL    //static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;    //static final String DB_URL = &quot;jdbc:mysql://localhost:3306/java_crud_demo&quot;;    // MySQL 8.0 ä»¥ä¸Šç‰ˆæœ¬ - JDBC é©±åŠ¨ååŠæ•°æ®åº“ URL    static final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;    static final String DB_URL = &quot;jdbc:mysql://localhost:3306/java_crud_demo?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC&quot;;    // æ•°æ®åº“çš„ç”¨æˆ·åä¸å¯†ç ï¼Œéœ€è¦æ ¹æ®è‡ªå·±çš„è®¾ç½®    static final String USER = &quot;root&quot;;    static final String PASS = &quot;123456&quot;;    public static void main(String[] args) &#123;        Connection conn = null;        Statement stmt = null;        try&#123;            // æ³¨å†Œ JDBC é©±åŠ¨            Class.forName(JDBC_DRIVER);            // æ‰“å¼€é“¾æ¥            System.out.println(&quot;è¿æ¥æ•°æ®åº“...&quot;);            conn = DriverManager.getConnection(DB_URL,USER,PASS);            // æ‰§è¡ŒæŸ¥è¯¢            System.out.println(&quot; å®ä¾‹åŒ–Statementå¯¹è±¡...&quot;);            stmt = conn.createStatement();            String sql;            sql = &quot;SELECT id, title, author, time FROM java_crud_demo&quot;;            ResultSet rs = stmt.executeQuery(sql);            // å±•å¼€ç»“æœé›†æ•°æ®åº“            while(rs.next())&#123;                // é€šè¿‡å­—æ®µæ£€ç´¢                int id  = rs.getInt(&quot;id&quot;);                String title = rs.getString(&quot;title&quot;);                String author = rs.getString(&quot;author&quot;);                String time = rs.getString(&quot;time&quot;);                // è¾“å‡ºæ•°æ®                System.out.println(&quot;ID: &quot; + id);                System.out.println(&quot;æ ‡é¢˜ï¼š&quot; + title);                System.out.println(&quot;ä½œè€…ï¼š&quot; + author);                System.out.println(&quot;æ—¶é—´ï¼š&quot; + time);            &#125;            // å®Œæˆåå…³é—­            rs.close();            stmt.close();            conn.close();        &#125;catch(SQLException se)&#123;            // å¤„ç† JDBC é”™è¯¯            se.printStackTrace();        &#125;catch(Exception e)&#123;            // å¤„ç† Class.forName é”™è¯¯            e.printStackTrace();        &#125;finally&#123;            // å…³é—­èµ„æº            try&#123;                if(stmt!=null) stmt.close();            &#125;catch(SQLException se2)&#123;            &#125;// ä»€ä¹ˆéƒ½ä¸åš            try&#123;                if(conn!=null) conn.close();            &#125;catch(SQLException se)&#123;                se.printStackTrace();            &#125;        &#125;        System.out.println(&quot;Goodbye!&quot;);    &#125;&#125;</code></pre><p>æ¥ä¸‹æ¥æ„‰å¿«å†™ä½ çš„ä»£ç ä¸»é€»è¾‘å’¯ğŸ¥³</p><h2 id="åŒå‡»æ‰“å¼€jar"><a href="#åŒå‡»æ‰“å¼€jar" class="headerlink" title="åŒå‡»æ‰“å¼€jar"></a>åŒå‡»æ‰“å¼€jar</h2><pre><code class="java">package org.example;import java.io.File;public class Main &#123;    public static void main(String[] args) &#123;        if (args.length == 0) &#123;            try &#123;                String path = System.getProperty(&quot;java.class.path&quot;);                int lastIndex = path.lastIndexOf(File.separator) + 1;                String file_name = path.substring(lastIndex);                ProcessBuilder pb = new ProcessBuilder();                pb.directory(new File(&quot;.&quot;));                System.out.printf(&quot;%s %s %s %s %s %s %s&quot;, &quot;cmd&quot;, &quot;/c&quot;, &quot;start&quot;, &quot;java&quot;, &quot;-jar&quot;, file_name, &quot;eject&quot;);                        pb.command(&quot;cmd&quot;, &quot;/c&quot;, &quot;start&quot;, &quot;java&quot;, &quot;-jar&quot;, file_name, &quot;eject&quot;);                pb.start();            &#125; catch (Exception e) &#123;                e.printStackTrace();            &#125; finally &#123;                System.exit(0);            &#125;        &#125;        else &#123;            //ä¸»å‡½æ•°            System.out.println(&quot;Hello World!&quot;);        &#125;    &#125;    &#125;</code></pre><p>åœ¨mainå¼€å¤´åŠ ä¸Šè¿™æ ·ä¸€æ®µ ä»–ä¼šå¸®ä½ è¾“å…¥å‘½ä»¤æ¥æ‰“å¼€ä¸€ä¸ªå¼¹å‡ºçš„æ–°çª—å£å•¦ğŸ¥³</p><h2 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h2><p>Maven æ„å»ºä¹‹åå°±å¾—åˆ°äº†éœ€è¦çš„jaråŒ…äº†ğŸ¥³</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>DNS ä¸ Pdns OpenWrt DNS é€’å½’æœåŠ¡å™¨æ­å»ºä¸ MosDNS åˆ†æµ</title>
      <link href="/2023/10/18/DNS%20%E4%B8%8E%20Pdns%20OpenWrt%20DNS%20%E9%80%92%E5%BD%92%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%20MosDNS%20%E5%88%86%E6%B5%81/"/>
      <url>/2023/10/18/DNS%20%E4%B8%8E%20Pdns%20OpenWrt%20DNS%20%E9%80%92%E5%BD%92%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%20MosDNS%20%E5%88%86%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<h1 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h1><h2 id="ä»€ä¹ˆæ˜¯DNS"><a href="#ä»€ä¹ˆæ˜¯DNS" class="headerlink" title="ä»€ä¹ˆæ˜¯DNS"></a>ä»€ä¹ˆæ˜¯DNS</h2><p>åŸŸåç³»ç»Ÿï¼ˆè‹±è¯­ï¼šDomain Name Systemï¼Œç¼©å†™ï¼šDNSï¼‰æ˜¯äº’è”ç½‘çš„ä¸€é¡¹æœåŠ¡ã€‚å®ƒä½œä¸ºå°†åŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œèƒ½å¤Ÿä½¿äººæ›´æ–¹ä¾¿åœ°è®¿é—®äº’è”ç½‘ã€‚</p><p>ç®€å•æ¥è¯´å°±æ˜¯ç”¨åŸŸåè¯·æ±‚æœåŠ¡å™¨æ¢å›æ¥ipåœ°å€</p><p><a href="https://www.nslookup.io/">https://www.nslookup.io/</a></p><p>è¿™ä¸ªç½‘ç«™å¯ä»¥çœ‹dnsè¯·æ±‚çš„ç»“æœã€åŒç†è¿˜æœ‰linuxæˆ–è€…windowsçš„nslookupå‘½ä»¤</p><p><strong>DNS records for dn11.top</strong></p><blockquote><p>A records</p></blockquote><table><thead><tr><th>IPv4 address</th><th>Revalidate in</th></tr></thead><tbody><tr><td>104.21.27.178</td><td>5m</td></tr><tr><td>172.67.143.107</td><td>5m</td></tr></tbody></table><p>DNS æœåŠ¡å™¨ä½¿äººä»¬æ— éœ€å­˜å‚¨å¤æ‚è®°ä¸ä½çš„ipåœ°å€ï¼Œè€Œæ˜¯è®°ä½æœ‰è§„å¾‹çš„åŸŸåæ¥æ–¹ä¾¿çš„è®¿é—®äº’è”ç½‘</p><h2 id="DNSè®°å½•"><a href="#DNSè®°å½•" class="headerlink" title="DNSè®°å½•"></a>DNSè®°å½•</h2><p>DNS è®°å½•æ˜¯ä½äºæƒå¨ DNS æœåŠ¡å™¨ä¸­çš„æŒ‡ä»¤ï¼Œæä¾›ä¸€ä¸ªåŸŸçš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬å“ªäº› IP åœ°å€ä¸è¯¥åŸŸå…³è”ï¼Œä»¥åŠå¦‚ä½•å¤„ç†å¯¹è¯¥åŸŸçš„è¯·æ±‚ã€‚</p><h3 id="å¸¸è§çš„-DNS-è®°å½•"><a href="#å¸¸è§çš„-DNS-è®°å½•" class="headerlink" title="å¸¸è§çš„ DNS è®°å½•"></a>å¸¸è§çš„ DNS è®°å½•</h3><p>SOA è®°å½• - å­˜å‚¨åŸŸçš„ç®¡ç†ä¿¡æ¯ã€‚</p><pre><code class="bash">;; ANSWER SECTION:dn11.top.               1800    IN      SOA     ophelia.ns.cloudflare.com. dns.cloudflare.com. 2322082117 10000 2400 604800 1800</code></pre><p>NS è®°å½• - å­˜å‚¨ DNS æ¡ç›®çš„åç§°æœåŠ¡å™¨ã€‚</p><pre><code class="bash">;; ANSWER SECTION:dn11.top.               21600   IN      NS      ophelia.ns.cloudflare.com.dn11.top.               21600   IN      NS      phil.ns.cloudflare.com.</code></pre><p>A è®°å½• - ä¿å­˜åŸŸçš„ IPv4 åœ°å€çš„è®°å½•ã€‚</p><pre><code class="bash">;; ANSWER SECTION:dn11.top.               300     IN      A       104.21.27.178dn11.top.               300     IN      A       172.67.143.107</code></pre><p>AAAA è®°å½• - åŒ…å«åŸŸçš„ IPv6 åœ°å€çš„è®°å½•ï¼ˆä¸ A è®°å½•ç›¸åï¼ŒA è®°å½•åˆ—å‡ºçš„æ˜¯ IPv4 åœ°å€ï¼‰ã€‚</p><p>CNAME è®°å½• - å°†ä¸€ä¸ªåŸŸæˆ–å­åŸŸè½¬å‘åˆ°å¦ä¸€ä¸ªåŸŸï¼Œä¸æä¾› IP åœ°å€ã€‚</p><p>MX è®°å½• - å°†é‚®ä»¶å®šå‘åˆ°ç”µå­é‚®ä»¶æœåŠ¡å™¨ã€‚</p><p>TXT è®°å½• - å¯è®©ç®¡ç†å‘˜åœ¨è®°å½•ä¸­å­˜å‚¨æ–‡æœ¬æ³¨é‡Šã€‚è¿™äº›è®°å½•é€šå¸¸ç”¨äºç”µå­é‚®ä»¶å®‰å…¨ã€‚</p><h2 id="æœ‰å‡ ç§DNSæœåŠ¡å™¨ï¼Ÿæœ‰å‡ ç§å·¥ä½œæ–¹å¼ï¼Ÿ"><a href="#æœ‰å‡ ç§DNSæœåŠ¡å™¨ï¼Ÿæœ‰å‡ ç§å·¥ä½œæ–¹å¼ï¼Ÿ" class="headerlink" title="æœ‰å‡ ç§DNSæœåŠ¡å™¨ï¼Ÿæœ‰å‡ ç§å·¥ä½œæ–¹å¼ï¼Ÿ"></a>æœ‰å‡ ç§DNSæœåŠ¡å™¨ï¼Ÿæœ‰å‡ ç§å·¥ä½œæ–¹å¼ï¼Ÿ</h2><p>æœ‰ä¸¤ç§DNSæœåŠ¡å™¨ï¼šDNSé€’å½’æœåŠ¡å™¨å’ŒDNSæƒå¨æœåŠ¡å™¨</p><p>æœ‰ä¸¤ç§å·¥ä½œæ–¹å¼ï¼šé€’å½’å’Œè¿­ä»£</p><p>DNSå®¢æˆ·ç«¯è®¾ç½®ä½¿ç”¨çš„DNSæœåŠ¡å™¨ä¸€èˆ¬éƒ½æ˜¯DNSé€’å½’æœåŠ¡å™¨ï¼Œå®ƒè´Ÿè´£å…¨æƒå¤„ç†å®¢æˆ·ç«¯çš„DNSæŸ¥è¯¢è¯·æ±‚ï¼Œç›´åˆ°è¿”å›æœ€ç»ˆç»“æœã€‚è€ŒDNSæœåŠ¡å™¨ä¹‹é—´ä¸€èˆ¬é‡‡ç”¨è¿­ä»£æŸ¥è¯¢æ–¹å¼ã€‚</p><h2 id="å¦‚ä½•å·¥ä½œçš„"><a href="#å¦‚ä½•å·¥ä½œçš„" class="headerlink" title="å¦‚ä½•å·¥ä½œçš„"></a>å¦‚ä½•å·¥ä½œçš„</h2><p>DNSæŸ¥è¯¢ æ¶‰åŠ 4 ä¸ª DNS æœåŠ¡å™¨ï¼š</p><ol><li>DNS é€’å½’è§£æå™¨</li></ol><p>DNS è§£æå™¨æ˜¯ä¸€ç§æœåŠ¡å™¨ï¼Œæ—¨åœ¨é€šè¿‡ Web æµè§ˆå™¨ç­‰åº”ç”¨ç¨‹åºæ¥æ”¶å®¢æˆ·ç«¯è®¡ç®—æœºçš„æŸ¥è¯¢ã€‚ç„¶åï¼Œè§£æå™¨ä¸€<strong>èˆ¬è´Ÿè´£å‘å‡ºå…¶ä»–è¯·æ±‚</strong>ï¼Œä»¥ä¾¿æ»¡è¶³å®¢æˆ·ç«¯çš„ DNS æŸ¥è¯¢ã€‚</p><blockquote><p>å¸¸è§çš„ dns é€’å½’è§£æå™¨æœ‰</p><p>è°·æ­Œ 8.8.8.8  8.8.4.4</p><p>é˜¿é‡Œ 223.5.5.5 223.6.6.6</p><p>ç™¾åº¦ 180.76.76.76</p><p>è…¾è®¯DNSPod 119.29.29.29</p><p>CloudFlare 1.1.1.1</p><p>æ›´å¤š <a href="https://en.wikipedia.org/wiki/Public_recursive_name_server">https://en.wikipedia.org/wiki/Public_recursive_name_server</a></p></blockquote><ol start="2"><li>æ ¹åŸŸåæœåŠ¡å™¨</li></ol><p>æ ¹åŸŸåæœåŠ¡å™¨æ˜¯å°†ä¸»æœºåè½¬æ¢ï¼ˆè§£æï¼‰ä¸º IP åœ°å€çš„ç¬¬ä¸€æ­¥ã€‚</p><p>æ ¹åŸŸåæœåŠ¡å™¨ï¼ˆè‹±è¯­ï¼šroot name serverï¼Œç®€ç§°â€œæ ¹åŸŸåæœåŠ¡å™¨â€ï¼‰æ˜¯äº’è”ç½‘åŸŸåè§£æç³»ç»Ÿï¼ˆDNSï¼‰ä¸­æœ€é«˜çº§åˆ«çš„åŸŸåæœåŠ¡å™¨ï¼Œè´Ÿè´£è¿”å›é¡¶çº§åŸŸçš„æƒå¨åŸŸåæœåŠ¡å™¨åœ°å€ã€‚</p><p>ä»»æ„æ­£å¸¸ linux å‘è¡Œç‰ˆå¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤æ¥çœ‹åˆ°è¿™13å°æ ¹åŸŸåæœåŠ¡å™¨</p><pre><code class="bash">ubuntu@ubuntu_dn11:~$ dig ns . @8.8.8.8; &lt;&lt;&gt;&gt; DiG 9.18.12-0ubuntu0.22.04.3-Ubuntu &lt;&lt;&gt;&gt; ns . @8.8.8.8;; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 9453;; flags: qr rd ra ad; QUERY: 1, ANSWER: 13, AUTHORITY: 0, ADDITIONAL: 1;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 512;; QUESTION SECTION:;.                              IN      NS;; ANSWER SECTION:.                       71928   IN      NS      a.root-servers.net..                       71928   IN      NS      b.root-servers.net..                       71928   IN      NS      c.root-servers.net..                       71928   IN      NS      d.root-servers.net..                       71928   IN      NS      e.root-servers.net..                       71928   IN      NS      f.root-servers.net..                       71928   IN      NS      g.root-servers.net..                       71928   IN      NS      h.root-servers.net..                       71928   IN      NS      i.root-servers.net..                       71928   IN      NS      j.root-servers.net..                       71928   IN      NS      k.root-servers.net..                       71928   IN      NS      l.root-servers.net..                       71928   IN      NS      m.root-servers.net.;; Query time: 0 msec;; SERVER: 8.8.8.8#53(8.8.8.8) (UDP);; WHEN: Fri Oct 06 13:22:43 UTC 2023;; MSG SIZE  rcvd: 239</code></pre><p>å…¨çƒ13<strong>ç»„</strong>æ ¹åŸŸåæœåŠ¡å™¨ä»¥è‹±æ–‡å­—æ¯Aåˆ°Mä¾åºå‘½åï¼ŒåŸŸåæ ¼å¼ä¸ºâ€œå­—æ¯.root-servers.netâ€ã€‚åˆ©ç”¨ä»»æ’­ï¼ˆanycastï¼‰æŠ€æœ¯åœ¨å…¨çƒå¤šä¸ªåœ°ç‚¹è®¾ç«‹é•œåƒç«™ã€‚</p><p>æˆªè‡³2023å¹´6æœˆï¼Œå…¨çƒå…±æœ‰1719å°æ ¹åŸŸåæœåŠ¡å™¨åœ¨è¿è¡Œã€‚</p><blockquote><p>Qï¼šä¸ºä»€ä¹ˆæ˜¯13ç»„ï¼Ÿ1700ç»„ä¸è¡Œå—ï¼Ÿ</p><p>Aï¼šç”±äºDNSå’ŒæŸäº›åè®®ï¼ˆæœªåˆ†ç‰‡çš„ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUDPï¼‰æ•°æ®åŒ…åœ¨IPv4å†…çš„æœ€å¤§æœ‰æ•ˆå¤§å°ä¸º512å­—èŠ‚ï¼‰çš„å…±åŒé™åˆ¶ï¼Œæ ¹åŸŸåæœåŠ¡å™¨åœ°å€çš„æ•°é‡è¢«é™åˆ¶ä¸º13ä¸ªã€‚ä¸€æ¬¡è¿”å›çš„æ•°æ®æ”¾ä¸ä¸‹å•¦~</p><p>Qï¼šanycastæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>Aï¼šæˆ‘ä»¬å‡è®¾æœ‰ä¸‰å°æœåŠ¡å™¨Î±ã€Î²ã€Î³å’Œä¸€å°å®¢æˆ·æœºï¼Œè¿™ä¸‰å°æœåŠ¡å™¨éƒ½å®£å‘Šäº†åŒæ ·çš„ä¸€ä¸ªåœ°å€æ¯”å¦‚è¯´172.16.255.53ï¼Œå®¢æˆ·æœºè®¿é—®172.16.255.53æ—¶ï¼Œä¼šå› ä¸ºè·¯ç”±åè®®çš„åŸå› ï¼Œé€‰æ‹©å®¢æˆ·æœºè·ç¦»æœåŠ¡å™¨æœ€è¿‘çš„ä¸€æ¡è·¯å¾„ã€‚å‡è®¾Î±è·ç¦»å®¢æˆ·æœºè¿‘ï¼Œè®¿é—®172.16.255.53è·å¾—çš„æ•°æ®å°±æ˜¯Î±æœåŠ¡å™¨ç»™å®¢æˆ·æœºçš„ã€‚</p><p>Qï¼šanycastçš„å¥½å¤„ï¼Ÿ</p><p>Aï¼šé˜²æ­¢æœåŠ¡æŒ‚æ‰ã€æµé‡ä¼šè‡ªåŠ¨å¯»æ‰¾æœ€ä½³è·¯å¾„ã€å‡è®¾ä¸€å°æœåŠ¡å™¨æŒ‚æ‰äº†ï¼Œæ•´ä¸ªæœåŠ¡ä¼šè¢«å¦ä¸€å°æœåŠ¡å™¨æ‰¿æ‹…ã€‚</p></blockquote><blockquote><p>Qï¼šæœ‰ . è¿™ä¸ªæœåŠ¡å™¨å—</p><p>Aï¼šå­˜æ”¾è¿™13ä¸ªæ ¹åŸŸçš„æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒè¢«å†…ç½®åœ¨é€’å½’æœåŠ¡å™¨å†…ï¼Œæ²¡æœ‰æƒå¨æœåŠ¡å™¨ä¼šè¿”å› . è¿™ä¸ªåŸŸçš„è§£æç»™ä½ ã€‚<br>åœ¨è¿™é‡Œå¯ä»¥ä¸‹è½½åˆ°è¿™ä¸ªæ–‡ä»¶ <a href="https://www.iana.org/domains/root/files">https://www.iana.org/domains/root/files</a><br>è¿è¥å•†é€šå¸¸éœ€è¦é…ç½®ä¸€ä¸ª â€œRoot Hints æ–‡ä»¶â€ æ¥ç®¡ç† DNS é€’å½’è§£æå™¨ã€‚è¯¥æ–‡ä»¶åŒ…å«äº†æ ¹åŒºåŸŸçš„æƒå¨åç§°æœåŠ¡å™¨çš„åç§°å’Œ IP åœ°å€ï¼Œä»¥ä¾¿è½¯ä»¶å¯ä»¥å¼•å¯¼ DNS è§£æè¿‡ç¨‹ã€‚å¯¹äºè®¸å¤šè½¯ä»¶æ¥è¯´ï¼Œè¿™ä¸ªåˆ—è¡¨å·²ç»å†…ç½®åœ¨è½¯ä»¶ä¸­ã€‚<a href="https://www.internic.net/domain/named.root">https://www.internic.net/domain/named.root</a></p></blockquote><ol start="3"><li>TLD åç§°æœåŠ¡å™¨</li></ol><p>é¡¶çº§åŸŸåï¼ˆè‹±è¯­ï¼šTop-level Domain, TLDï¼‰æ˜¯äº’è”ç½‘åŸŸåç³»ç»Ÿçš„ç­‰çº§ä¸­ï¼Œä½äºæ ¹åŸŸç©ºé—´çš„æœ€é«˜çº§åŸŸåã€‚</p><p>é¡¶çº§åŸŸåæœåŠ¡å™¨è¿™ä¸ªæœåŠ¡å™¨æ˜¯æœç´¢ç‰¹å®š IP åœ°å€çš„ä¸‹ä¸€æ­¥ï¼Œå…¶ä¸Šæ‰˜ç®¡äº†ä¸»æœºåçš„æœ€åä¸€éƒ¨åˆ†ï¼ˆä¾‹å¦‚ï¼Œåœ¨ dn11.top ä¸­ï¼ŒTLD æœåŠ¡å™¨ä¸º â€œtopâ€ï¼‰ã€‚</p><p><a href="https://www.iana.org/domains/root/db">https://www.iana.org/domains/root/db</a> è¿™é‡Œæ˜¯ä¸–ç•Œä¸Šå®Œæ•´çš„é¡¶çº§åŸŸåˆ—è¡¨ã€‚</p><ol start="4"><li>æƒå¨æ€§åŸŸåæœåŠ¡å™¨</li></ol><p>æƒå¨æ€§åŸŸåæœåŠ¡å™¨æ˜¯åŸŸåæœåŠ¡å™¨æŸ¥è¯¢ä¸­çš„æœ€åä¸€ç«™ã€‚</p><p>æƒå¨åç§°æœåŠ¡å™¨åŒ…å«ç‰¹å®šäºå…¶æœåŠ¡åŸŸåçš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œdn11.topï¼‰æƒå¨æ€§åŸŸåæœåŠ¡å™¨åŒ…å«ç‰¹å®šäºå…¶æ‰€æœåŠ¡çš„åŸŸåçš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ dn11.topï¼‰ï¼Œå¹¶ä¸”å®ƒå¯ä¸ºé€’å½’è§£æå™¨æä¾›åœ¨ DNS A è®°å½•ä¸­æ‰¾åˆ°çš„æœåŠ¡å™¨çš„ IP åœ°å€ï¼ˆä¾‹å¦‚æ‰¾åˆ°äº†ä¸Šæ–‡çš„ipv4åœ°å€ 104.21.27.178ï¼‰</p><h2 id="å›¾è§£å·¥ä½œæµç¨‹"><a href="#å›¾è§£å·¥ä½œæµç¨‹" class="headerlink" title="å›¾è§£å·¥ä½œæµç¨‹"></a>å›¾è§£å·¥ä½œæµç¨‹</h2><h3 id="é€’å½’å·¥ä½œæµç¨‹"><a href="#é€’å½’å·¥ä½œæµç¨‹" class="headerlink" title="é€’å½’å·¥ä½œæµç¨‹"></a>é€’å½’å·¥ä½œæµç¨‹</h3><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20231006233612.png"></p><p>æˆ‘è¿™é‡Œç”»äº†ä¸€å¼ å›¾ï¼šå…¶ä¸­çº¢è‰²æœåŠ¡å™¨ä¸ºDNSé€’å½’æœåŠ¡å™¨ï¼ŒPCä¸Šçš„DNSå®¢æˆ·ç«¯åªä¸DNSé€’å½’æœåŠ¡å™¨é€šè®¯ï¼Œç”±é€’å½’æœåŠ¡å™¨å®Œæˆåç»­æŸ¥è¯¢å†…å®¹ã€‚è“è‰²äº‘ä¸ºæƒ³è¦è®¿é—®çš„ç½‘ç«™çš„ipåœ°å€æ‰€åœ¨çš„æœåŠ¡å™¨ã€‚</p><p>æˆ‘ä¼šé€ä¸€è®²è§£æ¯ä¸ªè¿‡ç¨‹ï¼ˆç®­å¤´ï¼‰éƒ½åšäº†ä»€ä¹ˆã€‚</p><p>æœ¬å›¾çš„å‰ææ˜¯dnsé€’å½’æœåŠ¡å™¨ä¸­ä¸å«ä»»ä½•ç¼“å­˜ã€‚</p><p>â‘ ï¼šPCé€šè¿‡æµè§ˆå™¨è¾“å…¥äº†dn11.topè¿™ä¸ªåŸŸåã€dnså®¢æˆ·ç«¯æ”¶åˆ°äº†è¯·æ±‚dn11.topè¿™ä¸ªåŸŸåçš„ipçš„ä»»åŠ¡ã€dnså®¢æˆ·ç«¯å»è¯·æ±‚DNSé€’å½’æœåŠ¡å™¨</p><p>â‘¡ï¼šDNSé€’å½’æœåŠ¡å™¨ä½¿ç”¨å†…ç½®çš„Root Hintæ–‡ä»¶ï¼ˆå†…æœ‰æ ¹æœåŠ¡å™¨çš„NSè§£æå’Œæ ¹æœåŠ¡å™¨çš„IPåœ°å€ï¼‰å»è¯·æ±‚æ ¹æƒå¨æœåŠ¡å™¨ã€å¾—åˆ°äº†TLDæœåŠ¡å™¨çš„NSè§£æå¹¶å¾—åˆ°äº†TLDæœåŠ¡å™¨çš„ipåœ°å€</p><p>â‘¢ï¼šTLDæœåŠ¡å™¨çš„ipåœ°å€è¢«è¿”å›ç»™DNSé€’å½’æœåŠ¡å™¨</p><p>â‘£ï¼šDNSé€’å½’æœåŠ¡å™¨å»è¯·æ±‚TLDæœåŠ¡å™¨ã€å¾—åˆ°äº†åŸŸåæƒå¨æœåŠ¡å™¨çš„NSè§£æå¹¶å¾—åˆ°äº†åŸŸåæƒå¨æœåŠ¡å™¨çš„NSè®°å½•å’ŒIPåœ°å€</p><p>â‘¤ï¼šåŸŸåæƒå¨æœåŠ¡å™¨çš„ipåœ°å€è¢«è¿”å›ç»™DNSé€’å½’æœåŠ¡å™¨</p><p>â‘¥ï¼šDNSé€’å½’æœåŠ¡å™¨å»è¯·æ±‚åŸŸåæƒå¨æœåŠ¡å™¨ã€å¾—åˆ°äº†è¯·æ±‚åŸŸåæœ€ç»ˆçš„ip</p><p>â‘¦ï¼šè¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè¢«è¿”å›ç»™DNSé€’å½’æœåŠ¡å™¨</p><p>â‘§ï¼šè¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè¢«è¿”å›ç»™PCä¸Šçš„DNSå®¢æˆ·ç«¯</p><p>â‘¨ï¼šPCä¸Šçš„æµè§ˆå™¨ç”¨è¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè®¿é—®åŸŸåæ‰€åœ¨çš„äº‘æœåŠ¡å™¨</p><p>â‘©ï¼šäº‘æœåŠ¡å™¨è¿”å›ç½‘é¡µæ•°æ®ç»™PCæµè§ˆå™¨ã€å®ç°é¡µé¢çš„è®¿é—®</p><h3 id="è¿­ä»£å·¥ä½œæµç¨‹"><a href="#è¿­ä»£å·¥ä½œæµç¨‹" class="headerlink" title="è¿­ä»£å·¥ä½œæµç¨‹"></a>è¿­ä»£å·¥ä½œæµç¨‹</h3><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20231015181102.png"></p><p>æˆ‘è¿™é‡Œç”»äº†ä¸€å¼ å›¾ï¼šå…¶ä¸­çº¢è‰²æœåŠ¡å™¨ä¸ºDNSé€’å½’æœåŠ¡å™¨ï¼ŒPCä¸Šçš„DNSå®¢æˆ·ç«¯åªä¸DNSé€’å½’æœåŠ¡å™¨é€šè®¯ï¼Œç”±é€’å½’æœåŠ¡å™¨å’Œæƒå¨æœåŠ¡å™¨çš„è¿­ä»£æŸ¥è¯¢å®Œæˆåç»­æŸ¥è¯¢å†…å®¹ã€‚è“è‰²äº‘ä¸ºæƒ³è¦è®¿é—®çš„ç½‘ç«™çš„ipåœ°å€æ‰€åœ¨çš„æœåŠ¡å™¨ã€‚</p><p>æˆ‘ä¼šé€ä¸€è®²è§£æ¯ä¸ªè¿‡ç¨‹ï¼ˆç®­å¤´ï¼‰éƒ½åšäº†ä»€ä¹ˆã€‚</p><p>æœ¬å›¾çš„å‰ææ˜¯dnsé€’å½’æœåŠ¡å™¨ä¸­ä¸å«ä»»ä½•ç¼“å­˜ã€‚</p><p>â‘ ï¼šPCé€šè¿‡æµè§ˆå™¨è¾“å…¥äº†dn11.topè¿™ä¸ªåŸŸåã€dnså®¢æˆ·ç«¯æ”¶åˆ°äº†è¯·æ±‚dn11.topè¿™ä¸ªåŸŸåçš„ipçš„ä»»åŠ¡ã€dnså®¢æˆ·ç«¯å»è¯·æ±‚DNSé€’å½’æœåŠ¡å™¨</p><p>â‘¡ï¼šDNSé€’å½’æœåŠ¡å™¨ä½¿ç”¨å†…ç½®çš„Root Hintæ–‡ä»¶ï¼ˆå†…æœ‰æ ¹æœåŠ¡å™¨çš„NSè§£æå’Œæ ¹æœåŠ¡å™¨çš„IPåœ°å€ï¼‰å»è¯·æ±‚æ ¹æƒå¨æœåŠ¡å™¨ã€æ ¹æƒå¨æœåŠ¡å™¨æ”¶åˆ°äº†è¯·æ±‚ã€æ‰¾åˆ°äº†TLDæƒå¨æœåŠ¡å™¨çš„NSè®°å½•å’Œipåœ°å€</p><p>â‘¢ï¼šæ ¹æƒå¨æœåŠ¡å™¨è¯·æ±‚TLDæœåŠ¡å™¨ã€TLDæœåŠ¡å™¨æ”¶åˆ°äº†è¯·æ±‚ã€æ‰¾åˆ°äº†åŸŸåæƒå¨æœåŠ¡å™¨çš„NSè®°å½•å’Œipåœ°å€</p><p>â‘£ï¼šTLDæœåŠ¡å™¨è¯·æ±‚åŸŸåæƒå¨æœåŠ¡å™¨ã€æƒå¨æœåŠ¡å™¨æ‰¾åˆ°äº†åŸŸåçš„ipåœ°å€</p><p>â‘¤ï¼šåŸŸåçš„ipåœ°å€ä»åŸŸåæƒå¨æœåŠ¡å™¨è¿”å›ç»™TLDæƒå¨æœåŠ¡å™¨</p><p>â‘¥ï¼šåŸŸåçš„ipåœ°å€ä»TLDæƒå¨æœåŠ¡å™¨è¿”å›ç»™æ ¹æƒå¨æœåŠ¡å™¨</p><p>â‘¦ï¼šåŸŸåçš„ipåœ°å€ä»æ ¹æƒå¨è¿”å›ç»™DNSé€’å½’æœåŠ¡å™¨</p><p>â‘§ï¼šè¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè¢«è¿”å›ç»™PCä¸Šçš„DNSå®¢æˆ·ç«¯</p><p>â‘¨ï¼šPCä¸Šçš„æµè§ˆå™¨ç”¨è¯·æ±‚åŸŸåæœ€ç»ˆçš„ipè®¿é—®åŸŸåæ‰€åœ¨çš„äº‘æœåŠ¡å™¨</p><p>â‘©ï¼šäº‘æœåŠ¡å™¨è¿”å›ç½‘é¡µæ•°æ®ç»™PCæµè§ˆå™¨ã€å®ç°é¡µé¢çš„è®¿é—®</p><h2 id="é…ç½®pdns"><a href="#é…ç½®pdns" class="headerlink" title="é…ç½®pdns"></a>é…ç½®pdns</h2><h3 id="1-openwrtç›´æ¥å¯åŠ¨"><a href="#1-openwrtç›´æ¥å¯åŠ¨" class="headerlink" title="1.openwrtç›´æ¥å¯åŠ¨"></a>1.openwrtç›´æ¥å¯åŠ¨</h3><h4 id="è£…åŒ…"><a href="#è£…åŒ…" class="headerlink" title="è£…åŒ…"></a>è£…åŒ…</h4><pre><code>opkg updateopkg install pdns pdns-backend-sqlite3 pdns-recursor sqlite3-cli</code></pre><h4 id="åˆå§‹åŒ–æ•°æ®åº“"><a href="#åˆå§‹åŒ–æ•°æ®åº“" class="headerlink" title="åˆå§‹åŒ–æ•°æ®åº“"></a>åˆå§‹åŒ–æ•°æ®åº“</h4><p>åˆ›å»ºæ–‡ä»¶</p><pre><code>mkdir -p /usr/share/doc/pdns-backend-sqlite/touch schema.sqlite3.sql</code></pre><p>ç„¶ååœ¨schema.sqlite3.sqlé‡Œå†™å…¥</p><pre><code>nano /usr/share/doc/pdns-backend-sqlite/schema.sqlite3.sql</code></pre><pre><code class="sql">PRAGMA foreign_keys = 1;CREATE TABLE domains (  id                    INTEGER PRIMARY KEY,  name                  VARCHAR(255) NOT NULL COLLATE NOCASE,  master                VARCHAR(128) DEFAULT NULL,  last_check            INTEGER DEFAULT NULL,  type                  VARCHAR(8) NOT NULL,  notified_serial       INTEGER DEFAULT NULL,  account               VARCHAR(40) DEFAULT NULL,  options               VARCHAR(65535) DEFAULT NULL,  catalog               VARCHAR(255) DEFAULT NULL);CREATE UNIQUE INDEX name_index ON domains(name);CREATE INDEX catalog_idx ON domains(catalog);CREATE TABLE records (  id                    INTEGER PRIMARY KEY,  domain_id             INTEGER DEFAULT NULL,  name                  VARCHAR(255) DEFAULT NULL,  type                  VARCHAR(10) DEFAULT NULL,  content               VARCHAR(65535) DEFAULT NULL,  ttl                   INTEGER DEFAULT NULL,  prio                  INTEGER DEFAULT NULL,  disabled              BOOLEAN DEFAULT 0,  ordername             VARCHAR(255),  auth                  BOOL DEFAULT 1,  FOREIGN KEY(domain_id) REFERENCES domains(id) ON DELETE CASCADE ON UPDATE CASCADE);CREATE INDEX records_lookup_idx ON records(name, type);CREATE INDEX records_lookup_id_idx ON records(domain_id, name, type);CREATE INDEX records_order_idx ON records(domain_id, ordername);CREATE TABLE supermasters (  ip                    VARCHAR(64) NOT NULL,  nameserver            VARCHAR(255) NOT NULL COLLATE NOCASE,  account               VARCHAR(40) NOT NULL);CREATE UNIQUE INDEX ip_nameserver_pk ON supermasters(ip, nameserver);CREATE TABLE comments (  id                    INTEGER PRIMARY KEY,  domain_id             INTEGER NOT NULL,  name                  VARCHAR(255) NOT NULL,  type                  VARCHAR(10) NOT NULL,  modified_at           INT NOT NULL,  account               VARCHAR(40) DEFAULT NULL,  comment               VARCHAR(65535) NOT NULL,  FOREIGN KEY(domain_id) REFERENCES domains(id) ON DELETE CASCADE ON UPDATE CASCADE);CREATE INDEX comments_idx ON comments(domain_id, name, type);CREATE INDEX comments_order_idx ON comments (domain_id, modified_at);CREATE TABLE domainmetadata ( id                     INTEGER PRIMARY KEY, domain_id              INT NOT NULL, kind                   VARCHAR(32) COLLATE NOCASE, content                TEXT, FOREIGN KEY(domain_id) REFERENCES domains(id) ON DELETE CASCADE ON UPDATE CASCADE);CREATE INDEX domainmetaidindex ON domainmetadata(domain_id);CREATE TABLE cryptokeys ( id                     INTEGER PRIMARY KEY, domain_id              INT NOT NULL, flags                  INT NOT NULL, active                 BOOL, published              BOOL DEFAULT 1, content                TEXT, FOREIGN KEY(domain_id) REFERENCES domains(id) ON DELETE CASCADE ON UPDATE CASCADE);CREATE INDEX domainidindex ON cryptokeys(domain_id);CREATE TABLE tsigkeys ( id                     INTEGER PRIMARY KEY, name                   VARCHAR(255) COLLATE NOCASE, algorithm              VARCHAR(50) COLLATE NOCASE, secret                 VARCHAR(255));CREATE UNIQUE INDEX namealgoindex ON tsigkeys(name, algorithm);</code></pre><p>åˆå§‹åŒ–sqlite3</p><pre><code>mkdir -p /etc/powerdns/sqlite3 /etc/powerdns/pdns.sqlite3 &lt; /usr/share/doc/pdns-backend-sqlite/schema.sqlite3.sqlchmod +r /etc/powerdns</code></pre><h4 id="é…ç½®pdns-1"><a href="#é…ç½®pdns-1" class="headerlink" title="é…ç½®pdns"></a>é…ç½®pdns</h4><pre><code>nano /etc/powerdns/pdns.conf</code></pre><p>å†™å…¥</p><pre><code>launch=gsqlite3gsqlite3-database=/etc/powerdns/pdns.sqlite3local-address=&lt;!!ä½ çš„åœ°å€!!&gt;:53allow-axfr-ips=0.0.0.0/0slave=yesallow-notify-from=0.0.0.0/0allow-dnsupdate-from=0.0.0.0/0allow-unsigned-notify=yes</code></pre><p>è§£é‡Šï¼šç”±äºæˆ‘ä»¬æ­£åœ¨é…ç½®pdnsæƒå¨æœåŠ¡å™¨ï¼Œåœ°å€å¯ä»¥é€‰ä¸€ä¸ªä½ è‡ªå·±å­ç½‘ä½ å–œæ¬¢çš„ã€æ¯”å¦‚è¯´æˆ‘åœ¨<code>172.16.3.53</code></p><p>å½“ç„¶ç›‘å¬è¿™ç§åœ°å€éœ€è¦åœ¨ç½‘å¡ä¸Šåˆ›å»ºä¸€ä¸ªæ–°ip</p><p>å¯¹äºopæ¥è¯´ å¯ä»¥åœ¨webç®¡ç†ç•Œé¢ é€‰æ‹©ç½‘ç»œ æ–°å»ºä¸€ä¸ªæ¥å£ åŒºåŸŸlan è®¾å¤‡br-lan åœ°å€ä¸º<code>172.16.3.53</code></p><p>å¯¹äºç›‘å¬53ç«¯å£ã€ä½ çš„æœ¬åœ°dnsmasqå¯èƒ½ä¼šåŠ«æŒè¿™ä¸ªç«¯å£</p><p>åœ¨æ­¤æˆ‘ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯å…³é—­dnsmasq</p><pre><code>service dnsmasq stopservice dnsmasq disable</code></pre><p>ç„¶åç”±äºæˆ‘çš„dnsmasqä¼šä¸çŸ¥é“æ€ä¹ˆç€å¤æ´» æˆ‘å†™äº†ä¸€ä¸ªè„šæœ¬æ¥æŒ‰æ­»ä»–</p><pre><code>nano /root/stop_dnsmasq_if_running.sh</code></pre><pre><code class="bash">#!/bin/sh # æ£€æŸ¥ dnsmasq æ˜¯å¦åœ¨è¿è¡Œåœ¨ç«¯å£53ä¸Šif netstat -tlunpa | grep &#39;:53 &#39; | grep -q &#39;dnsmasq&#39;; then    service dnsmasq stopfi</code></pre><pre><code>crontab -e</code></pre><pre><code>* * * * * /root/stop_dnsmasq_if_running.sh</code></pre><p>è¿™ä¸ªçš„æ„æ€æ˜¯ä¸€ä¸ªå®šæ—¶è„šæœ¬ æ¯åˆ†é’Ÿæ£€æµ‹ä¸€ä¸‹ å¦‚æœä»–å¼€ç€ å°±ç»™ä»–å…³æ‰</p><h4 id="å¯åŠ¨pdns"><a href="#å¯åŠ¨pdns" class="headerlink" title="å¯åŠ¨pdns"></a>å¯åŠ¨pdns</h4><pre><code>service pdns restart</code></pre><p>é…ç½®è‡ªå·±çš„å­åŸŸ</p><pre><code>pdnsutil create-zone ts.dn11 ns1.ts.dn11</code></pre><p>å…¶ä¸­tsæ¢æˆä½ æƒ³ç”¨çš„åŸŸå</p><pre><code>pdnsutil edit-zone ts.dn11</code></pre><p>edit-zoneä¼šå”¤é†’å«editorçš„ç¼–è¾‘å™¨ï¼Œå¦‚æœä½ æ²¡æœ‰è¿™ä¸ªå«editorçš„ç¼–è¾‘å™¨ å¯ä»¥å†™ä¸€ä¸‹ç¯å¢ƒå˜é‡</p><pre><code>nano /etc/profile</code></pre><p>æ·»åŠ ä¸€è¡Œ</p><pre><code>export EDITOR=/usr/bin/nano</code></pre><p>(opçš„nanoé»˜è®¤å®‰è£…ä½ç½®åœ¨è¿™é‡Œã€å…¶ä»–ä½ æƒ³é…çš„è‡ªç”±å‘æŒ¥)</p><pre><code>source /etc/profile</code></pre><p>æ‰“å¼€edit-zoneå å†™å…¥</p><pre><code>; Warning - every name in this file is ABSOLUTE!$ORIGIN .ts.dn11 3600    IN      SOA     ns1.ts.dn11 hostmaster.ts.dn11 2023093018 60 30 604800 60ts.dn11 3600    IN      NS      ns1.ts.dn11.ns1.ts.dn11     3600    IN      A     172.16.3.53ts.dn11 60      IN      A       172.16.3.1</code></pre><p>è§£é‡Šï¼šSOAè®°å½•é‡Œç¬¬ä¸€ä¸ªå€¼æ˜¯ä½ åŸŸåæƒå¨æœåŠ¡å™¨æ‰€åœ¨çš„NSã€ç¬¬äºŒä¸ªä¸ºé‚®ç®±ã€ç¬¬ä¸‰ä¸ªä¸ºæµæ°´å·ï¼ˆæ ¼å¼YYYYMMDD+2ä½é¡ºåºå·ï¼‰ï¼ˆå¦‚æœä½ ä¸æ”¹çš„è¯pdnsä¼šè‡ªåŠ¨å¸®ä½ é¡ºå»¶æµæ°´å·ï¼‰ã€ç¬¬å››ä¸ªä¸ºåˆ·æ–°é—´éš”ã€ç¬¬äº”ä¸ªä¸ºé‡è¯•é—´éš”ã€ç¬¬å…­ä¸ªä¸ºè¿‡æœŸæ—¶é—´é•¿ã€ç¬¬ä¸ƒä¸ªä¸ºTTLï¼ˆç”Ÿå­˜æ—¶é—´å€¼ã€æ„ä¸ºç¼“å­˜è¿‡æœŸæ—¶é—´ã€è®¾ç½®ä¸º60sï¼‰</p><p>æœ€åä¸€è¡Œå°±æ˜¯ç»™ä½ çš„åŸŸååŠ ä¸€ä¸ªAè§£æ</p><h4 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h4><pre><code>dig a ts.dn11 @172.16.3.53 -p 53</code></pre><p>å¦‚æœè¿”å›ç±»ä¼¼å¦‚ä¸‹å†…å®¹åˆ™æˆåŠŸ</p><pre><code>root@OP:~# dig a ts.dn11 @172.16.3.53 -p 53; &lt;&lt;&gt;&gt; DiG 9.18.16 &lt;&lt;&gt;&gt; a ts.dn11 @172.16.3.53 -p 53;; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 58804;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1;; WARNING: recursion requested but not available;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 1232;; QUESTION SECTION:;ts.dn11.                       IN      A;; ANSWER SECTION:ts.dn11.                60      IN      A       172.16.3.1;; Query time: 0 msec;; SERVER: 172.16.3.53#53(172.16.3.53) (UDP);; WHEN: Sun Oct 15 18:55:04 CST 2023;; MSG SIZE  rcvd: 52</code></pre><h4 id="é…ç½®TLDåŸŸã€æ‹‰å–åŒæ­¥"><a href="#é…ç½®TLDåŸŸã€æ‹‰å–åŒæ­¥" class="headerlink" title="é…ç½®TLDåŸŸã€æ‹‰å–åŒæ­¥"></a>é…ç½®TLDåŸŸã€æ‹‰å–åŒæ­¥</h4><p>å†…ç½‘ç”¨æˆ·éœ€è¦è®¿é—® <a href="http://172.16.7.102:8083/login">http://172.16.7.102:8083/login</a> ï¼ˆè´¦å·å¯†ç dn11ï¼‰æ¥é…ç½®è‡ªå·±çš„åŸŸåæƒå¨çš„nsæŒ‡å‘</p><p>ç‚¹å‡»dn11åŸŸã€ç‚¹å‡» add record ã€æ·»åŠ ä¸¤æ¡è®°å½•</p><pre><code>ns1.ts    A      172.16.3.53ts        NS     ns1.ts.dn11.</code></pre><p>ä¹‹åç‚¹å‡» save ç„¶åç‚¹å‡» apply changes</p><p>è§£é‡Šï¼šns1æ˜¯ä½ æœ¬åœ°è‡ªå·±å¯çš„åŸŸåæƒå¨æœåŠ¡å™¨çš„åœ°å€</p><p>ç„¶åå›åˆ°æœ¬åœ° è¾“å…¥</p><pre><code>pdnsutil create-zone dn11</code></pre><p>åˆ›å»ºdn11åŸŸ</p><pre><code>pdnsutil edit-zone dn11</code></pre><p>ä¿®æ”¹é‡Œé¢çš„soaå€¼ä¸º</p><pre><code>dn11    300     IN      SOA     a.root.dn11 hostmaster.dn11 1 60 60 604800 60</code></pre><p>è§£é‡Šï¼šæµæ°´å·å¡«å° ä¾¿äºæ‹‰å–ä¸Šæ¸¸çš„åŒæ­¥</p><p>ç„¶åå†™æ•°æ®åº“å¯ç”¨ä¸»ä»åŒæ­¥</p><pre><code>sqlite3 /etc/powerdns/pdns.sqlite3</code></pre><p>è¿›å…¥sqliteå‘½ä»¤è¡Œ</p><p>å…ˆå¯ç”¨çœ‹å¤´</p><pre><code>sqlite&gt; .header yes</code></pre><pre><code>sqlite&gt; select * from domains;id|name|master|last_check|type|notified_serial|account|options|catalog1|ts.dn11|||NATIVE||||2|dn11|||NATIVE||||</code></pre><p>é‡Œé¢å¤§æ¦‚ä¹Ÿè®¸æ˜¯è¿™æ ·ã€ç„¶åå†™æ•°æ®åº“åŒæ­¥ä¸Šæ¸¸</p><pre><code>UPDATE domainsSET master = &#39;172.16.7.53&#39;, type = &#39;SLAVE&#39;WHERE name = &#39;dn11&#39;;</code></pre><p>å†™å®ŒæŒ‰ ctrl + D é€€å‡ºsqliteå‘½ä»¤è¡Œ</p><p>ç„¶åä½¿ç”¨</p><pre><code>pdns_control retrieve dn11</code></pre><p>å¼ºåˆ¶æ‹‰å–ä¸€ä¸‹dn11çš„è®°å½•</p><p>æœ€åçœ‹ä¸‹è‡ªå·±çš„è®°å½•æœ‰æ²¡æœ‰è¢«åŒæ­¥</p><pre><code>root@OP:~# pdnsutil list-zone dn11</code></pre><p>æ£€æŸ¥ä¸€ä¸‹</p><pre><code>root@OP:~# dig ns ts.dn11 @172.16.3.53 -p 53; &lt;&lt;&gt;&gt; DiG 9.18.16 &lt;&lt;&gt;&gt; ns ts.dn11 @172.16.3.53 -p 53;; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 7351;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1;; WARNING: recursion requested but not available;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 1232;; QUESTION SECTION:;ts.dn11.                       IN      NS;; ANSWER SECTION:ts.dn11.                60      IN      NS      172.16.3.53.;; Query time: 0 msec;; SERVER: 172.16.3.53#53(172.16.3.53) (UDP);; WHEN: Sun Oct 15 19:12:09 CST 2023;; MSG SIZE  rcvd: 61</code></pre><h4 id="é…ç½®pdns-recursor"><a href="#é…ç½®pdns-recursor" class="headerlink" title="é…ç½®pdns_recursor"></a>é…ç½®pdns_recursor</h4><pre><code>nano /etc/powerdns/recursor.conf</code></pre><p>å†™å…¥</p><pre><code># æ¥å—å“ªäº›IPçš„æŸ¥è¯¢è¯·æ±‚ï¼Œ0.0.0.0/0è¡¨ç¤ºå…¨éƒ¨allow-from=0.0.0.0/0# æœ¬åœ°ç›‘å¬çš„æ¥å£IPåœ°å€local-address=172.16.255.53:53 172.16.255.53:5300# å…³é—­dnssecåŠŸèƒ½ï¼Œ4.5ç‰ˆæœ¬åé»˜è®¤å¼€å¯dnssec=offdont-query=forward-zones-recurse=dn11=172.16.3.53,.=223.5.5.5</code></pre><p>è§£é‡Šï¼š</p><p>æœ¬åœ°ç›‘å¬çš„ipåœ°å€è¿™é‡Œä½¿ç”¨anycastã€åŒæ ·çš„ä½ éœ€è¦åœ¨ä½ çš„ç½‘å¡é‡ŒåŠ ä¸€ä¸ªipä¸º172.16.255.53ï¼ˆç›‘å¬5300çš„åŸå› æ˜¯ã€å¦‚æœè·¯ç”±è·¯å¾„ä¸Šæœ‰äººå¼€äº†dnsmasqã€é‚£ä¹ˆè¿™ä¸ª53è¯·æ±‚ä¼šè¢«åŠ«æŒï¼‰</p><p>å¹¶ä¸”å®£å‘Š</p><pre><code>root@OP:~# cat /etc/bird.conf.........# å®£å‘Š 172.16.3.0/24 æ®µprotocol static &#123;    ipv4 &#123;        table BGP_table;        import all;        export none;    &#125;;    # åªæ˜¯ä¸ºäº†è®©BGPçš„è·¯ç”±è¡¨é‡Œå‡ºç°è¿™æ¡è·¯ç”±ï¼Œä¸è¦æ‹…å¿ƒ reject    # è¿™ä¸ªåŠ¨ä½œå…¶å®æ— æ‰€è°“ï¼Œreject è¿™ä¸ªåŠ¨ä½œå¹¶ä¸ä¼šè¢«å‘åˆ°å…¶ä»– AS    # åç»­å°†åœ¨å¯¼å‡ºåˆ° master4 çš„æ—¶å€™åˆ é™¤è¿™æ¡è·¯ç”±ï¼Œæœ¬åœ°ä¹Ÿä¸ä¼šæœ‰è¿™ä¸€æ¡    # è¯·ä¿®æ”¹ä¸ºä½ è‡ªå·±è¦å®£å‘Šçš„æ®µ    route 172.16.3.0/24 reject;    route 172.16.255.53/32 reject;&#125;.........root@OP:~# service bird restart</code></pre><p>dont-query&#x3D;çš„æ„æ€æ˜¯å…è®¸å†…ç½‘åœ°å€è¿›è¡ŒæŸ¥è¯¢ï¼ˆé»˜è®¤æ˜¯ç¦æ­¢çš„ã€æ‰€ä»¥è¿™é‡Œå¡«ç©ºï¼‰</p><p>forward-zones-recurse&#x3D;dn11&#x3D;172.16.3.53,.&#x3D;223.5.5.5</p><p>è¿™ä¸ªé€’å½’é…ç½®é¡¹çš„æ„æ€æ˜¯ï¼šå¦‚æœè¯·æ±‚åˆ°äº†dn11è¿™ä¸ªTLDå°±å»è¯·æ±‚ä½ è‡ªå·±æ­çš„nsã€å¦‚æœä¸æ˜¯è¿™ä¸ªåŸŸå°±å½“å…¬ç½‘å¤„ç†è½¬å‘ç»™å…¬ç½‘dns 223.5.5.5</p><p>ç„¶åé‡å¯</p><pre><code>service pdns-recursor restart</code></pre><p>æœ€åæµ‹è¯•ä¸€ä¸‹ã€è¯·æ±‚ä¸€ä¸‹ç½‘é‡Œå­˜åœ¨çš„åŸŸå</p><pre><code>root@OP:~# dig op.iraze.dn11 @172.16.255.53 -p 53; &lt;&lt;&gt;&gt; DiG 9.18.16 &lt;&lt;&gt;&gt; op.iraze.dn11 @172.16.255.53 -p 53;; global options: +cmd;; Got answer:;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 4037;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1;; OPT PSEUDOSECTION:; EDNS: version: 0, flags:; udp: 512;; QUESTION SECTION:;op.iraze.dn11.                 IN      A;; ANSWER SECTION:op.iraze.dn11.          60      IN      A       172.16.2.2;; Query time: 39 msec;; SERVER: 172.16.255.53#53(172.16.255.53) (UDP);; WHEN: Sun Oct 15 19:23:32 CST 2023;; MSG SIZE  rcvd: 58</code></pre><h3 id="2-dockeræ‹‰é•œåƒ-è£…pdns-admin-webç•Œé¢ç®¡ç†"><a href="#2-dockeræ‹‰é•œåƒ-è£…pdns-admin-webç•Œé¢ç®¡ç†" class="headerlink" title="2.dockeræ‹‰é•œåƒ è£…pdns-admin webç•Œé¢ç®¡ç†"></a>2.dockeræ‹‰é•œåƒ è£…pdns-admin webç•Œé¢ç®¡ç†</h3><pre><code>[root@gs-fedora Pdns]# cat docker-compose.yml version: &quot;3&quot;services:  pdns:    image: zhonger/pdns:latest    restart: always    ports:      - &quot;172.16.7.53:53:53/tcp&quot;      - &quot;172.16.7.53:53:53/udp&quot;    environment:      - PDNS_launch=gsqlite3      - PDNS_gsqlite3_database=/var/lib/powerdns/pdns.sqlite3      - PDNS_webserver_address=0.0.0.0      - PDNS_webserver_allow_from=0.0.0.0/0      - PDNS_allow_axfr_ips=0.0.0.0/0,::1      - PDNS_allow_dnsupdate_from=0.0.0.0/0,::1      - PDNS_allow_notify_from=0.0.0.0/0,::0      - PDNS_also_notify=172.16.3.53      - PDNS_master=yes      - PDNS_api=yes      - PDNS_api_key=0F34664B2C9CA2E1B84C5A6B4605C968    volumes:      - /etc/localtime:/etc/localtime:ro      - ./powerdns:/var/lib/powerdns    command: /bin/bash ./up.sh    privileged: true  db:    image: mysql:latest    environment:      - MYSQL_ALLOW_EMPTY_PASSWORD=yes      - MYSQL_DATABASE=powerdnsadmin      - MYSQL_USER=pdns       - MYSQL_PASSWORD=my_pdns    restart: always    volumes:      - /etc/localtime:/etc/localtime:ro      - ./pda-mysql:/var/lib/mysql    privileged: true  app:    image: zhonger/powerdns-admin:latest    restart: always    depends_on:      - db      - pdns    ports:      - &quot;8083:80&quot;    logging:      driver: json-file      options:        max-size: 50m    volumes:      - /etc/localtime:/etc/localtime:ro    environment:      - SQLALCHEMY_DATABASE_URI=mysql://pdns:my_pdns@db/powerdnsadmin      - GUNICORN_TIMEOUT=60      - GUNICORN_WORKERS=2      - GUNICORN_LOGLEVEL=DEBUG      - OFFLINE_MODE=False # True for offline, False for external resources     privileged: true</code></pre><pre><code>[root@gs-fedora Pdns]# cat up.sh service system-resolve stopip addr add 172.16.7.53 dev eno1</code></pre><p>è¿™ä¸ªkeyæ˜¯æˆ‘éšä¾¿å†™çš„ã€ä½ å¯ä»¥è‡ªå·±ç”Ÿæˆä¸€ä¸ª</p><p>PDNS_api_key&#x3D;0F34664B2C9CA2E1B84C5A6B4605C968</p><p>åœ¨powerdns admin settings pdnsä¸­å¡«å†™è¿™ä¸ªkey å¡«å¥½å åœ¨ä¸Šå±‚çš„PowerDNS server configuration &amp; statisticsé‡Œèƒ½çœ‹åˆ°ä¸€ç³»åˆ—pdnsçš„å­—æ®µ</p><h2 id="é…ç½®dnsåˆ†æµ-MosDNS"><a href="#é…ç½®dnsåˆ†æµ-MosDNS" class="headerlink" title="é…ç½®dnsåˆ†æµ MosDNS"></a>é…ç½®dnsåˆ†æµ MosDNS</h2><p>è£…åŒ…</p><pre><code>opkg updateopkg install mosdns</code></pre><p>æ³¨æ„ä¸è¦è£… luci-app-mosdns æˆ‘æ„Ÿè§‰ä¸å¥½ç”¨</p><p>æ”¹é…ç½®</p><pre><code>nano /etc/mosdns/config.yaml</code></pre><pre><code>log:  level: info  file: &quot;/tmp/mosdns.log&quot;api:  http: &quot;0.0.0.0:9091&quot;include: []plugins:  - tag: main_sequence    type: sequence    args:      # hduå†…ç½‘dnsè§£æ      - matches: qname hdu.edu.cn        exec: forward 192.168.0.1:53      # dn11å†…ç½‘dnsè§£æ      - matches: qname dn11        exec: forward 172.16.255.53:5300      # å…¶ä»–dnsè§£æ      - matches: &quot;!qname hdu.edu.cn dn11&quot;        exec: forward 223.5.5.5:53  # å¯åŠ¨ç«¯å£å’Œip  - tag: udp_server_2    type: udp_server    args:      entry: main_sequence      listen: &quot;172.16.3.13:53&quot;  - tag: tcp_server_2    type: tcp_server    args:      entry: main_sequence      listen: &quot;172.16.3.13:53&quot;</code></pre><p>åŒæ ·çš„ å¯åŠ¨éœ€è¦ä½ br-lanç½‘å¡é‡ŒåŠ ä¸€ä¸ª 172.16.3.13è¿™ä¸ªipåœ°å€</p><pre><code>service mosdns restart</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> DN11 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DN11 ä½¿ç”¨ EBGP é‡åˆ†å‘ IBGP OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰</title>
      <link href="/2023/09/20/DN11%20%E4%BD%BF%E7%94%A8%20EBGP%20%E9%87%8D%E5%88%86%E5%8F%91%20IBGP%20OSPF%EF%BC%88%E5%90%8Cas%E5%86%85%E9%83%A8peer%EF%BC%89/"/>
      <url>/2023/09/20/DN11%20%E4%BD%BF%E7%94%A8%20EBGP%20%E9%87%8D%E5%88%86%E5%8F%91%20IBGP%20OSPF%EF%BC%88%E5%90%8Cas%E5%86%85%E9%83%A8peer%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h1 id="DN11-ä½¿ç”¨-EBGP-é‡åˆ†å‘-IBGP-OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰"><a href="#DN11-ä½¿ç”¨-EBGP-é‡åˆ†å‘-IBGP-OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰" class="headerlink" title="DN11 ä½¿ç”¨ EBGP é‡åˆ†å‘ IBGP OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰"></a>DN11 ä½¿ç”¨ EBGP é‡åˆ†å‘ IBGP OSPFï¼ˆåŒaså†…éƒ¨peerï¼‰</h1><h2 id="è¿æ¥-wg-peer"><a href="#è¿æ¥-wg-peer" class="headerlink" title="è¿æ¥ wg peer"></a>è¿æ¥ wg peer</h2><p>1.æœ¬åœ°æœºå™¨</p><pre><code class="nginx"># wg_aws.conf[Interface]# ä½ çš„ç§é’¥PrivateKey = &lt;PRIVATEKAY&gt;# ä½ å¼€çš„ç«¯å£å·ï¼ˆæ³¨æ„é˜²ç«å¢™ï¼‰ListenPort = &lt;PORT&gt;PostUp = /sbin/ip addr add dev %i &lt;your ip&gt; peer &lt;peer ip&gt;# ä¸åˆ›å»ºè·¯ç”±ï¼ˆç”±è·¯ç”±åè®®æ¥ç®¡ï¼‰Table = off[Peer]# ä½ å¯¹ç«¯çš„ipå’Œç«¯å£ï¼ˆå¤–ç½‘æœºå™¨ï¼‰Endpoint = &lt;ENDPOINT&gt;:&lt;PORT&gt;# ä½ å¯¹ç«¯çš„å…¬é’¥ï¼ˆå¤–ç½‘æœºå™¨ï¼‰PublicKey = &lt;PUBLICKEY&gt; AllowedIPs = 0.0.0.0/0</code></pre><p>2.å¤–ç½‘æœºå™¨</p><pre><code class="nginx"># wg_ts_home.conf[Interface]# ä½ çš„ç§é’¥PrivateKey = &lt;PRIVATEKAY&gt;# ä½ å¼€çš„ç«¯å£å·ï¼ˆæ³¨æ„é˜²ç«å¢™ï¼‰ListenPort = &lt;PORT&gt;PostUp = /sbin/ip addr add dev %i &lt;your ip&gt; peer &lt;peer ip&gt;# ä¸åˆ›å»ºè·¯ç”±ï¼ˆç”±è·¯ç”±åè®®æ¥ç®¡ï¼‰Table = off# wg é»˜è®¤çš„ MTU æ˜¯ 1420 ï¼ˆè¿™é‡Œä¸»è¦æ’é™¤å¤–ç½‘æœºå™¨ MTU å¼‚å¸¸çš„é—®é¢˜ï¼Œæ´é‡Œæ‰“æ´ä¸è¦é…è¿™ä¸ªï¼‰MTU = 1420[Peer]# ä½ å¯¹ç«¯çš„ipå’Œç«¯å£ï¼ˆæœ¬åœ°æœºå™¨ï¼‰Endpoint = &lt;ENDPOINT&gt;:&lt;PORT&gt;# ä½ å¯¹ç«¯çš„å…¬é’¥ï¼ˆæœ¬åœ°æœºå™¨ï¼‰PublicKey = &lt;PUBLICKEY&gt; AllowedIPs = 0.0.0.0/0</code></pre><h2 id="birdé…ç½®"><a href="#birdé…ç½®" class="headerlink" title="birdé…ç½®"></a>birdé…ç½®</h2><p>åˆ›å»º</p><pre><code class="bash">/etc/bird.conf/etc/bird/ospf.conf/etc/bird/ibgp.conf/etc/bird/bgp.conf</code></pre><p>è¿™å››ä¸ªæ–‡ä»¶</p><p>å†…ç½‘ openwrt å’Œå¤–ç½‘æœºå™¨ä¸Šå‡ ä¹éœ€è¦ç›¸åŒçš„è¿™å››ä¸ªæ–‡ä»¶ï¼ˆå”¯ä¸€ä¸åŒçš„æ˜¯ bgp neighbor é‚£é‡Œï¼‰</p><blockquote><p>æ–‡ä¸­çš„ 172.16.3.254ã€172.16.3.91 æ”¹ä¸ºä½ æœ¬æœºï¼ˆä½ çš„æœ¬åœ°æœºå™¨æˆ–è€…å¤–ç½‘æœºå™¨ï¼‰çš„éš§é“ip<br>æ–‡ä¸­çš„ 4211112243 æ”¹ä¸ºä½ çš„ asn ï¼ˆåˆ«æ•´å‡ºä¿© as å·å°±è¡Œï¼‰</p></blockquote><h3 id="etc-bird-conf"><a href="#etc-bird-conf" class="headerlink" title="&#x2F;etc&#x2F;bird.conf"></a>&#x2F;etc&#x2F;bird.conf</h3><pre><code class="nginx">log syslog all;debug protocols all;router id 172.16.3.254;ipv4 table BGP_table;ipv4 table OSPF_table;ipv4 table IBGP_table;protocol device&#123;&#125;protocol kernel&#123;    ipv4 &#123;        export all;        import none;    &#125;;&#125;include &quot;/etc/bird/ospf.conf&quot;;include &quot;/etc/bird/ibgp.conf&quot;;include &quot;/etc/bird/bgp.conf&quot;;protocol pipe PIPE_OSPF_BGP&#123;    table BGP_table;    peer table OSPF_table;    import all;    export none;&#125;protocol pipe PIPE_BGP_MASTER4&#123;    table master4;    peer table BGP_table;    import filter &#123;        if source = RTS_STATIC then reject;        krt_prefsrc = 172.16.3.254;        accept;    &#125;;    export none;&#125;protocol pipe PIPE_IBGP_BGP &#123;    table BGP_table;    peer table IBGP_table;    import filter &#123;        if source = RTS_OSPF then reject;        accept;    &#125;;    export filter &#123;        if source = RTS_STATIC then reject;        accept;    &#125;;&#125;# å®£å‘Š 172.16.3.0/24 æ®µprotocol static &#123;    ipv4 &#123;        table BGP_table;        import all;        export none;    &#125;;    # åªæ˜¯ä¸ºäº†è®©BGPçš„è·¯ç”±è¡¨é‡Œå‡ºç°è¿™æ¡è·¯ç”±ï¼Œä¸è¦æ‹…å¿ƒ reject    # è¿™ä¸ªåŠ¨ä½œå…¶å®æ— æ‰€è°“ï¼Œreject è¿™ä¸ªåŠ¨ä½œå¹¶ä¸ä¼šè¢«å‘åˆ°å…¶ä»– AS    # åç»­å°†åœ¨å¯¼å‡ºåˆ° master4 çš„æ—¶å€™åˆ é™¤è¿™æ¡è·¯ç”±ï¼Œæœ¬åœ°ä¹Ÿä¸ä¼šæœ‰è¿™ä¸€æ¡    # è¯·ä¿®æ”¹ä¸ºä½ è‡ªå·±è¦å®£å‘Šçš„æ®µ    route 172.16.3.0/24 reject;&#125;</code></pre><h3 id="etc-bird-ibgp-conf"><a href="#etc-bird-ibgp-conf" class="headerlink" title="&#x2F;etc&#x2F;bird&#x2F;ibgp.conf"></a>&#x2F;etc&#x2F;bird&#x2F;ibgp.conf</h3><pre><code class="nginx">template bgp ibgp_peers &#123;    local as 4211112243;    source address 172.16.3.254;    multihop;    ipv4 &#123;        next hop self;        igp table OSPF_table;        table IBGP_table;        import all;        export all;    &#125;;&#125;protocol bgp ibgp_aws from ibgp_peers &#123;    neighbor 172.16.3.91 internal;&#125;</code></pre><h2 id="bgp-conf"><a href="#bgp-conf" class="headerlink" title="bgp.conf"></a>bgp.conf</h2><pre><code class="nginx">template bgp BGP_peers &#123;    local 172.16.3.254 as 4211112243;    ipv4 &#123;        table BGP_table;        import all;        export filter &#123;            if source ~ [RTS_STATIC, RTS_BGP, RTS_OSPF] then accept;            reject;        &#125;;    &#125;;&#125;# collector é…ç½®protocol bgp collect_self &#123;    local as 4211112243;    multihop;    neighbor 172.16.255.1 as 4211110101;    ipv4 &#123;        add paths tx;        table BGP_table;        import none;        export filter &#123;            if source ~ [RTS_BGP,RTS_STATIC] then accept;        &#125;;    &#125;;&#125;# å¦‚ä¸‹çš„ neighbor é…ç½®åº”æŒ‰ç…§ wg å®é™…é“¾æ¥æ•°é‡ä¸ºå‡†# ä»æ¨¡æ¿å®šä¹‰ä¸€ä¸ªBGPé‚»å±…# protocol bgp protocol åç§° from æ¨¡æ¿åç§°protocol bgp baimeow from BGP_peers &#123;   neighbor 172.16.4.254%baimeow as 4220084444;&#125;# å¦‚ä¸‹ä¸º å¦‚æœä½ æœ‰ç‰©ç†é“¾è·¯çš„ BGP é…ç½® ï¼ˆæ²¡æœ‰çš„åˆ«æŠ„ï¼‰# protocol bgp Meva_phy from BGP_peers &#123;#     source address 172.16.3.1;#     neighbor 172.16.3.97%&#39;br-lan&#39; as 4211111024;# #     ipv4 &#123;#     import filter &#123;#             if bgp_path ~ [= 4211111024 =] then bgp_local_pref = 120;#             bgp_next_hop = 172.16.3.97;#             accept;#         &#125;;#     &#125;;# &#125;</code></pre><h2 id="ospf-conf"><a href="#ospf-conf" class="headerlink" title="ospf.conf"></a>ospf.conf</h2><pre><code class="nginx">protocol ospf v2 ospf_aws &#123;        ipv4 &#123;                table OSPF_table;                export all;                import all;        &#125;;        area 0.0.0.0 &#123;                interface &quot;wg_aws&quot; &#123;                        cost 20;                        type ptp;                &#125;;                interface &quot;lo&quot; &#123;                        type bcast;                &#125;;        &#125;;&#125;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> DN11 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>go-zero apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/08/30/go-zero%20api%E6%96%87%E4%BB%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/08/30/go-zero%20api%E6%96%87%E4%BB%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="go-zero-apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶"><a href="#go-zero-apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶" class="headerlink" title="go-zero apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶"></a>go-zero apiæ–‡ä»¶ç”Ÿæˆé¡¹ç›®æ¡†æ¶</h2><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p>.apiæ–‡ä»¶æ˜¯go-zeroè‡ªåˆ›çš„æ–‡ä»¶æ ¼å¼ï¼Œå’Œprotobufçš„è¯­æ³•æœ‰å¾ˆå¤§ä¸åŒï¼Œä½†å¥½åœ¨ä¸éš¾ç†è§£ã€‚å…·ä½“è¯­æ³•ä»‹ç»å¯çœ‹å®˜ç½‘æ–‡æ¡£ï¼š<a href="https://link.juejin.cn/?target=https://go-zero.dev/docs/tasks/dsl/api">go-zero.dev&#x2F;docs&#x2F;tasks&#x2F;â€¦</a></p><p>å…ˆç¼–å†™æ¥å£å®šä¹‰ï¼Œç„¶åç›´æ¥ä¸€æ¬¡æ€§ä½¿ç”¨ goctl ç”Ÿæˆä»£ç ã€‚</p><p>apiæ–‡ä»¶æ”¯æŒå°†ä¸€ä¸ªæ•°æ®ç»“æ„åµŒå…¥å¦ä¸€ä¸ªç»“æ„ä¸­ï¼Œä¾¿äºç¼–å†™ç»Ÿä¸€çš„å“åº”æ ¼å¼ã€‚</p><p>é¦–å…ˆå®šä¹‰ç©ºè¯·æ±‚ç»“æ„å’ŒåŸºç¡€çš„å“åº”ç»“æ„ï¼š</p><pre><code class="api">syntax = &quot;v1&quot;    type Empty &#123;  &#125;    type BasicResponse &#123;      StatusCode int32 `json:&quot;status_code&quot;`      StatusMsg string `json:&quot;status_msg&quot;`  &#125;</code></pre><p>typeå…³é”®å­—ä¹Ÿæ”¯æŒä»£ç å—ï¼Œåªéœ€è¦ç”¨<code>type()</code>åŒ…è£¹ï¼Œå°±å¯ä»¥çœå»å…³é”®è¯ã€‚ä¸‹é¢å®šä¹‰äº†æ³¨å†Œå’Œç™»å½•çš„è¯·æ±‚å’Œå“åº”ç»“æ„ã€‚</p><pre><code class="go">type (      RegisterRequest struct &#123;          Username string `form:&quot;username&quot;`          Password string `form:&quot;password&quot;`      &#125;      RegisterResponse struct &#123;          BasicResponse          UserId int64 `json:&quot;user_id&quot;`       &#125;  )    type (      LoginRequest struct &#123;          Username string `form:&quot;username&quot;`          Password string `form:&quot;password&quot;`      &#125;      LoginResponse struct &#123;          BasicResponse          UserId int64 `json:&quot;user_id&quot;`      &#125;  )</code></pre><p>æœ€åè¿˜è¦å®šä¹‰ä¸€ä¸ªè·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£ã€‚å› ä¸ºæœ¬æ–‡ä¸æ¶‰åŠåˆ›ä½œã€ç¤¾äº¤æ–¹é¢çš„ä¸šåŠ¡é€»è¾‘å®ç°ï¼Œæ‰€ä»¥<code>User</code>ç»“æ„å…¶å®æ²¡ä»€ä¹ˆå¯ä»¥è¿”å›çš„ä¿¡æ¯ã€‚ä¹‹åå°†å…¶åµŒå…¥å“åº”ç±»å‹çš„<code>user</code>å­—æ®µä¸­ï¼š</p><pre><code class="go">type (      User &#123;          Id int64 `json:&quot;id&quot;`          Name string `json:&quot;name&quot;`      &#125;          GetUserInfoRequest struct &#123;          UserId int64 `form:&quot;user_id&quot;`       &#125;      GetUserInfoResponse struct &#123;          BasicResponse          User User `json:&quot;user&quot;`      &#125;  )</code></pre><h2 id="å®šä¹‰æ¥å£è·¯ç”±"><a href="#å®šä¹‰æ¥å£è·¯ç”±" class="headerlink" title="å®šä¹‰æ¥å£è·¯ç”±"></a>å®šä¹‰æ¥å£è·¯ç”±</h2><p>æŠŠæ‰€æœ‰apiè·¯ç”±é…ç½®å¥½</p><pre><code class="api">@server(      group: app  )  service app &#123;      @handler Ping      get /ping (Empty) returns (BasicResponse)  &#125;    @server(      group: user      prefix: /douyin/user  )  service app &#123;      @handler Register      post /register (RegisterRequest) returns (RegisterResponse)        @handler Login      post /login (LoginRequest) returns (LoginResponse)        @handler GetUserInfo      get / (GetUserInfoRequest) returns (GetUserInfoResponse)  &#125;</code></pre><p>ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p><ol><li>å¦‚æœserviceä»£ç å—æœ‰å¤šä¸ªï¼Œè¦æ±‚åé¢çš„åç§°ï¼ˆå³â€œappâ€ï¼‰ç›¸åŒ</li><li>å½¢å¦‚è£…é¥°å™¨çš„@serverä»£ç å—å¯ä»¥åšä»£ç åˆ†ç»„ã€è·¯ç”±å‰ç¼€ã€é‰´æƒã€ä¸­é—´ä»¶ç­‰å¤šç§é…ç½®ã€‚<ul><li>è¿™é‡ŒæŠŠè·¯ç”±åˆ†æˆappå’Œuserä¸¤ç»„ï¼Œä¹‹åç”Ÿæˆæ—¶ä¼šåˆ†ç»„æ”¾åœ¨æ–‡ä»¶å¤¹é‡Œ</li><li>ç»™userç»„è®¾ç½®äº†<code>/douyin/user</code>çš„è·¯ç”±å™¨å‰ç¼€ï¼Œå°±ä¸ç”¨é‡å¤å†™äº†</li><li>é‰´æƒå’Œä¸­é—´ä»¶é…ç½®ä¸‹æ–‡ä¼šæåˆ°</li></ul></li><li>æ¯ä¸ªæ¥å£éœ€è¦ä¸€ä¸ª<code>handler</code>ï¼Œå…¶å®å°±æ˜¯ç»™å‡½æ•°èµ·å</li><li>æ¥å£å®šä¹‰çš„æ ¼å¼æ˜¯ <code>&lt;HTTPæ–¹æ³•&gt; &lt;å­è·¯å¾„&gt; (&lt;è¯·æ±‚æ•°æ®ç»“æ„&gt;) returns (&lt;å“åº”æ•°æ®ç»“æ„&gt;) </code></li></ol><h2 id="åˆ›å»ºé¡¹ç›®æ¨¡æ¿"><a href="#åˆ›å»ºé¡¹ç›®æ¨¡æ¿" class="headerlink" title="åˆ›å»ºé¡¹ç›®æ¨¡æ¿"></a>åˆ›å»ºé¡¹ç›®æ¨¡æ¿</h2><p>è¿™æ¬¡ä¸æ˜¯æ–°å»ºç¤ºä¾‹é¡¹ç›®ï¼Œè€Œæ˜¯æ ¹æ®ç°æœ‰çš„apiå£°æ˜åˆ›å»º</p><p>å®‰è£… goctl</p><p><a href="https://go-zero.dev/docs/tasks/installation/goctl">https://go-zero.dev/docs/tasks/installation/goctl</a></p><pre><code class="bash">$ GO111MODULE=on go install github.com/zeromicro/go-zero/tools/goctl@latest</code></pre><p>å®‰è£… protoc</p><p><a href="https://go-zero.dev/docs/tasks/installation/protoc">https://go-zero.dev/docs/tasks/installation/protoc</a></p><pre><code class="bash">$ goctl env check --install --verbose --force</code></pre><pre><code class="shell">goctl api go --api app.api --dir=. --style=goZero </code></pre><p>è¿™ä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆé¡¹ç›®æ–‡ä»¶ã€‚ä¹‹åè¿›å…¥ç›®å½•å®‰è£…ä¾èµ–ï¼š</p><pre><code class="shell">go mod tidy</code></pre><h2 id="æµ‹è¯•Pingæ¥å£"><a href="#æµ‹è¯•Pingæ¥å£" class="headerlink" title="æµ‹è¯•Pingæ¥å£"></a>æµ‹è¯•Pingæ¥å£</h2><p>Pingæ¥å£çš„é€»è¾‘åœ¨<code>internal/logic/app/pingLogic.go</code>ï¼Œæ‰“å¼€æ–‡ä»¶å¹¶ç¼–è¾‘handlerå‡½æ•°ï¼š</p><pre><code class="go">func (l *PingLogic) Ping(req *types.Empty) (resp *types.BasicResponse, err error) &#123;      return &amp;types.BasicResponse&#123;        StatusCode: 0,        StatusMsg:  &quot;pong&quot;,    &#125;, nil&#125;</code></pre><p>è¿™é‡Œçš„å†™æ³•å’Œrpcå¾®æœåŠ¡æœ‰ç‚¹åŒºåˆ«ã€‚æ³¨æ„åˆ°ä¼ å…¥çš„<code>resp</code>æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥éœ€è¦<strong>æ‰‹åŠ¨åˆ›å»º</strong>ä¸€ä¸ªå“åº”ç»“æ„ä½“å¹¶è®¾ç½®é”®å€¼ã€‚</p><p>è¿™æ ·å°±ç®—å®ŒæˆPingæ¥å£äº†ï¼Œå¯ä»¥è¿è¡ŒæœåŠ¡ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gorm è¿›é˜¶ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/08/30/gorm%E8%BF%9B%E9%98%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/08/30/gorm%E8%BF%9B%E9%98%B6%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="gorm"><a href="#gorm" class="headerlink" title="gorm"></a>gorm</h2><p>å…³äºç®€å•çš„ gorm æ€»ç»“ å¯ä»¥çœ‹ä¸Šä¸€ç¯‡æ–‡ç«   gorm åˆä½“éªŒ ï½œ é’è®­è¥ç¬”è®°</p><h3 id="è½¯åˆ é™¤"><a href="#è½¯åˆ é™¤" class="headerlink" title="è½¯åˆ é™¤"></a>è½¯åˆ é™¤</h3><p><code>Gorm</code>æä¾›äº†è½¯åˆ é™¤çš„èƒ½åŠ›ï¼Œéœ€è¦åœ¨ç»“æ„ä½“ä¸­å®šä¹‰ä¸€ä¸ª<code>Deleted</code>å­—æ®µï¼Œæ­¤æ—¶å†è°ƒç”¨<code>Delete</code>åˆ é™¤å‡½æ•°ï¼Œåˆ™ä¼šç”Ÿæˆ<code>update</code>è¯­å¥ï¼Œå¹¶å°†<code>deleted</code>å­—æ®µèµ‹å€¼ä¸ºå½“å‰åˆ é™¤æ—¶é—´ã€‚</p><pre><code class="go">type Product struct &#123;    ID      uint    Code    string    Price   uint    Deleted gorm.DeletedAt&#125;</code></pre><p>å†æ¬¡æ‰§è¡Œåˆ é™¤æ“ä½œï¼š</p><pre><code class="go">godb.Delete(&amp;Product&#123;&#125;, 1)</code></pre><p>ç”Ÿæˆçš„<code>sql</code>ä¸ºï¼š</p><pre><code class="sql">UPDATE `product` SET `deleted`=&#39;2023-01-30 22:22:22.202&#39; WHERE `product`.`id` = 1 AND `product`.`deleted` IS NULL</code></pre><p>æŸ¥è¯¢è¢«è½¯åˆ é™¤çš„æ“ä½œï¼Œè¦ä½¿ç”¨<code>Unscoped</code>å‡½æ•°ï¼š</p><pre><code class="go">db.Unscoped().First(&amp;product, 2)</code></pre><p>æœ‰äº†<code>DeleteAt</code>å­—æ®µåï¼Œåˆ é™¤æ“ä½œå·²ç»å˜æˆäº†æ›´æ–°æ“ä½œï¼Œé‚£ä¹ˆæƒ³è¦ç‰©ç†åˆ é™¤æ€ä¹ˆåŠï¼Ÿä¹Ÿæ˜¯ä½¿ç”¨<code>Unscoped</code>å‡½æ•°ï¼š</p><pre><code class="go">db.Unscoped().Delete(&amp;Product&#123;&#125;, 1)</code></pre><h2 id="Gormäº‹åŠ¡"><a href="#Gormäº‹åŠ¡" class="headerlink" title="Gormäº‹åŠ¡"></a>Gormäº‹åŠ¡</h2><p><code>Gorm</code>æä¾›äº†<code>Begin</code>ã€<code>Commit</code>ã€<code>Rollback</code>æ–¹æ³•ç”¨äºä½¿ç”¨äº‹åŠ¡ã€‚</p><pre><code class="go">// å¼€å¯äº‹åŠ¡tx := db.Begin()if err := tx.Create(&amp;Product&#123;Code: &quot;D32&quot;, Price: 100&#125;).Error; err != nil &#123;    // å‡ºç°é”™è¯¯å›æ»š    tx.Rollback()    return&#125;if err := tx.Create(&amp;Product&#123;Code: &quot;D33&quot;, Price: 100&#125;).Error; err != nil &#123;    // å‡ºç°é”™è¯¯å›æ»š    tx.Rollback()    return&#125;// æäº¤äº‹åŠ¡tx.Commit()</code></pre><p>åœ¨å¼€å¯äº‹åŠ¡åï¼Œè°ƒç”¨å¢åˆ æ”¹æ“ä½œæ˜¯åº”è¯¥ä½¿ç”¨å¼€å¯äº‹åŠ¡è¿”å›çš„<code>tx</code>è€Œä¸æ˜¯<code>db</code>ã€‚</p><p><code>Gorm</code>è¿˜æä¾›äº†<code>Transaction</code>å‡½æ•°ç”¨äºè‡ªå®šæäº¤äº‹åŠ¡ï¼Œé¿å…ç”¨æˆ·æ¼å†™<code>Commit</code>ã€<code>Rollback</code>ã€‚</p><pre><code class="go">if err = db.Transaction(func(tx *gorm.DB) error &#123;    if err := db.Create(&amp;Product&#123;Code: &quot;D55&quot;, Price: 100&#125;).Error; err != nil &#123;        return err    &#125;    if err := db.Create(&amp;Product&#123;Code: &quot;D56&quot;, Price: 100&#125;).Error; err != nil &#123;        return err    &#125;    return nil&#125;); err != nil &#123;    return&#125;</code></pre><p>è¿™ç§å†™æ³•ï¼Œå½“å‡ºç°é”™è¯¯æ—¶ä¼šè‡ªåŠ¨è¿›è¡Œ<code>Rollback</code>ï¼Œå½“æ­£å¸¸æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨<code>Commit</code>ã€‚</p><h3 id="Hook"><a href="#Hook" class="headerlink" title="Hook"></a>Hook</h3><p>å½“æˆ‘ä»¬æƒ³åœ¨æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œå‰ååšä¸€äº›é¢å¤–çš„æ“ä½œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>Gorm</code>æä¾›çš„<code>Hook</code>èƒ½åŠ›ã€‚</p><p><code>Hook</code>æ˜¯åœ¨åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤ç­‰æ“ä½œä¹‹å‰ã€ä¹‹åè‡ªåŠ¨è°ƒç”¨çš„å‡½æ•°ï¼Œå¦‚æœä»»ä½•<code>Hook</code>è¿”å›é”™è¯¯ï¼Œ<code>Gorm</code>å°†åœæ­¢åç»­çš„æ“ä½œå¹¶å›æ»šäº‹åŠ¡ã€‚</p><p><code>Hook</code>ä¼šå¼€å¯é»˜è®¤äº‹åŠ¡ï¼Œæ‰€ä»¥ä¼šå¸¦æ¥äº†ä¸€äº›æ€§èƒ½æŸå¤±ã€‚</p><h3 id="æ€§èƒ½æé«˜"><a href="#æ€§èƒ½æé«˜" class="headerlink" title="æ€§èƒ½æé«˜"></a>æ€§èƒ½æé«˜</h3><p>å¯¹äºå†™æ“ä½œï¼ˆåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ï¼‰ï¼Œä¸ºäº†ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ï¼Œ<code>Gorm</code>ä¼šå°†ä»–ä»¬å°è£…åœ¨äº‹åŠ¡å†…è¿è¡Œï¼Œä½†æ˜¯è¿™æ ·ä¼šé™ä½æ€§èƒ½ï¼Œå¯ä»¥ä½¿ç”¨<code>SkipDefaultTransaction</code>å…³é—­é»˜è®¤äº‹åŠ¡ã€‚</p><p>ä½¿ç”¨<code>PrepareStmt</code>ç¼“å­˜é¢„ç¼–è¯‘è¯­å¥å¯ä»¥æé«˜åç»­è°ƒç”¨çš„é€Ÿåº¦ã€‚</p><pre><code class="go">db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  SkipDefaultTransaction: true,  PrepareStmt: true,&#125;)</code></pre><h2 id="Gormç”Ÿæ€"><a href="#Gormç”Ÿæ€" class="headerlink" title="Gormç”Ÿæ€"></a>Gormç”Ÿæ€</h2><p>Gormæ‹¥æœ‰éå¸¸ä¸°å¯Œçš„æ‰©å±•ç”Ÿæ€ï¼Œä¸‹é¢åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„æ‰©å±•ã€‚</p><ul><li>ä»£ç ç”Ÿæˆå·¥å…·:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/gen">github.com&#x2F;go-gorm&#x2F;gen</a></li><li>åˆ†ç‰‡åˆ†åº“æ–¹æ¡ˆ:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/sharding">github.com&#x2F;go-gorm&#x2F;shaâ€¦</a></li><li>æ‰‹åŠ¨ç´¢å¼•:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/hints">github.com&#x2F;go-gorm&#x2F;hinâ€¦</a></li><li>ä¹è§‚é”:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/optimisticlock">github.com&#x2F;go-gorm&#x2F;optâ€¦</a></li><li>è¯»å†™åˆ†ç¦»:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/dbresolver">github.com&#x2F;go-gorm&#x2F;dbrâ€¦</a></li><li>OpenTelemetryæ‰©å±•:<a href="https://link.juejin.cn/?target=https://github.com/go-gorm/opentelemetry">github.com&#x2F;go-gorm&#x2F;opeâ€¦</a></li></ul><h2 id="GORM-é…ç½®"><a href="#GORM-é…ç½®" class="headerlink" title="GORM é…ç½®"></a>GORM é…ç½®</h2><p>GORM æä¾›çš„é…ç½®å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨</p><pre><code class="go">type Config struct &#123;  SkipDefaultTransaction   bool  NamingStrategy           schema.Namer  Logger                   logger.Interface  NowFunc                  func() time.Time  DryRun                   bool  PrepareStmt              bool  DisableNestedTransaction bool  AllowGlobalUpdate        bool  DisableAutomaticPing     bool  DisableForeignKeyConstraintWhenMigrating bool&#125;</code></pre><h3 id="è·³è¿‡é»˜è®¤äº‹åŠ¡"><a href="#è·³è¿‡é»˜è®¤äº‹åŠ¡" class="headerlink" title="è·³è¿‡é»˜è®¤äº‹åŠ¡"></a>è·³è¿‡é»˜è®¤äº‹åŠ¡</h3><p>ä¸ºäº†ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ï¼ŒGORM ä¼šåœ¨äº‹åŠ¡é‡Œæ‰§è¡Œå†™å…¥æ“ä½œï¼ˆåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¿™æ–¹é¢çš„è¦æ±‚ï¼Œæ‚¨å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶ç¦ç”¨å®ƒã€‚</p><pre><code class="go">db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  SkipDefaultTransaction: true,&#125;)</code></pre><h3 id="å‘½åç­–ç•¥"><a href="#å‘½åç­–ç•¥" class="headerlink" title="å‘½åç­–ç•¥"></a>å‘½åç­–ç•¥</h3><p>GORM å…è®¸ç”¨æˆ·é€šè¿‡è¦†ç›–é»˜è®¤çš„<code>NamingStrategy</code>æ¥æ›´æ”¹å‘½åçº¦å®šï¼Œè¿™éœ€è¦å®ç°æ¥å£ <code>Namer</code></p><pre><code class="go">type Namer interface &#123;    TableName(table string) string    SchemaName(table string) string    ColumnName(table, column string) string    JoinTableName(table string) string    RelationshipFKName(Relationship) string    CheckerName(table, column string) string    IndexName(table, column string) string&#125;</code></pre><p>é»˜è®¤ <code>NamingStrategy</code> ä¹Ÿæä¾›äº†å‡ ä¸ªé€‰é¡¹ï¼Œå¦‚ï¼š</p><pre><code class="go">db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  NamingStrategy: schema.NamingStrategy&#123;    TablePrefix: &quot;t_&quot;,   // table name prefix, table for `User` would be `t_users`    SingularTable: true, // use singular table name, table for `User` would be `user` with this option enabled    NoLowerCase: true, // skip the snake_casing of names    NameReplacer: strings.NewReplacer(&quot;CID&quot;, &quot;Cid&quot;), // use name replacer to change struct/field name before convert it to db name  &#125;,&#125;)</code></pre><h3 id="NowFunc"><a href="#NowFunc" class="headerlink" title="NowFunc"></a>NowFunc</h3><p>æ›´æ”¹åˆ›å»ºæ—¶é—´ä½¿ç”¨çš„å‡½æ•°</p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  NowFunc: func() time.Time &#123;    return time.Now().Local()  &#125;,&#125;)</code></pre><h3 id="DryRun"><a href="#DryRun" class="headerlink" title="DryRun"></a>DryRun</h3><p>ç”Ÿæˆ <code>SQL</code> ä½†ä¸æ‰§è¡Œï¼Œå¯ä»¥ç”¨äºå‡†å¤‡æˆ–æµ‹è¯•ç”Ÿæˆçš„ SQL</p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  DryRun: false,&#125;)</code></pre><h3 id="PrepareStmt"><a href="#PrepareStmt" class="headerlink" title="PrepareStmt"></a>PrepareStmt</h3><p><code>PreparedStmt</code> åœ¨æ‰§è¡Œä»»ä½• SQL æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ª prepared statement å¹¶å°†å…¶ç¼“å­˜ï¼Œä»¥æé«˜åç»­çš„æ•ˆç‡</p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  PrepareStmt: false,&#125;)</code></pre><h3 id="ç¦ç”¨åµŒå¥—äº‹åŠ¡"><a href="#ç¦ç”¨åµŒå¥—äº‹åŠ¡" class="headerlink" title="ç¦ç”¨åµŒå¥—äº‹åŠ¡"></a>ç¦ç”¨åµŒå¥—äº‹åŠ¡</h3><p>åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ä½¿ç”¨ <code>Transaction</code> æ–¹æ³•ï¼ŒGORM ä¼šä½¿ç”¨ <code>SavePoint(savedPointName)</code>ï¼Œ<code>RollbackTo(savedPointName)</code> ä¸ºä½ æä¾›åµŒå¥—äº‹åŠ¡æ”¯æŒï¼Œä½ å¯ä»¥é€šè¿‡ <code>DisableNestedTransaction</code> é€‰é¡¹å…³é—­å®ƒ</p><h3 id="DisableAutomaticPing"><a href="#DisableAutomaticPing" class="headerlink" title="DisableAutomaticPing"></a>DisableAutomaticPing</h3><p>åœ¨å®Œæˆåˆå§‹åŒ–åï¼ŒGORM ä¼šè‡ªåŠ¨ ping æ•°æ®åº“ä»¥æ£€æŸ¥æ•°æ®åº“çš„å¯ç”¨æ€§ï¼Œè‹¥è¦ç¦ç”¨è¯¥ç‰¹æ€§ï¼Œå¯å°†å…¶è®¾ç½®ä¸º <code>true</code></p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  DisableAutomaticPing: true,&#125;)</code></pre><h3 id="DisableForeignKeyConstraintWhenMigrating"><a href="#DisableForeignKeyConstraintWhenMigrating" class="headerlink" title="DisableForeignKeyConstraintWhenMigrating"></a>DisableForeignKeyConstraintWhenMigrating</h3><p>åœ¨ <code>AutoMigrate</code> æˆ– <code>CreateTable</code> æ—¶ï¼ŒGORM ä¼šè‡ªåŠ¨åˆ›å»ºå¤–é”®çº¦æŸï¼Œè‹¥è¦ç¦ç”¨è¯¥ç‰¹æ€§ï¼Œå¯å°†å…¶è®¾ç½®ä¸º <code>true</code></p><pre><code>db, err := gorm.Open(sqlite.Open(&quot;gorm.db&quot;), &amp;gorm.Config&#123;  DisableForeignKeyConstraintWhenMigrating: true,&#125;)</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goå­—èŠ‚ä¸‰ä»¶å¥— ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/08/28/go%E5%AD%97%E8%8A%82%E4%B8%89%E4%BB%B6%E5%A5%97%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/08/28/go%E5%AD%97%E8%8A%82%E4%B8%89%E4%BB%B6%E5%A5%97%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•"><a href="#Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•" class="headerlink" title="Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•"></a>Gormã€Kitexã€Hertzï¼šä¸‰ä»¶å¥—ä»‹ç»ä¸åŸºæœ¬ç”¨æ³•</h2><h3 id="Gorm"><a href="#Gorm" class="headerlink" title="Gorm"></a>Gorm</h3><p>Gormæ˜¯Golangä¸­å¹¿å—æ¬¢è¿çš„ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ï¼Œå·²ç»å‘å±•æ•°åå¹´ï¼Œå…·æœ‰å¼ºå¤§çš„åŠŸèƒ½å’Œå‡ºè‰²çš„æ€§èƒ½ã€‚</p><p>ORMæ¡†æ¶ç”¨äºå°†é¢å‘å¯¹è±¡çš„æ¦‚å¿µä¸æ•°æ®åº“ä¸­çš„è¡¨ç›¸å¯¹åº”ï¼Œç®€åŒ–æ•°æ®æ“ä½œè¿‡ç¨‹ã€‚åœ¨Golangä¸­ï¼Œè‡ªå®šä¹‰çš„ç»“æ„ä½“ä¸æ•°æ®åº“è¡¨ä¸€ä¸€å¯¹åº”ï¼Œç»“æ„ä½“çš„å®ä¾‹å¯¹åº”è¡¨ä¸­çš„ä¸€æ¡è®°å½•ã€‚</p><p>åŸºæœ¬ç”¨æ³•</p><p>å®šä¹‰ç»“æ„ä½“ï¼šåœ¨Gormä¸­ï¼Œå®šä¹‰ç»“æ„ä½“æ¥æ˜ å°„æ•°æ®åº“è¡¨ã€‚</p><pre><code class="go">type User struct &#123;  ID    uint   `gorm:&quot;primary_key&quot;`  Name  string `gorm:&quot;type:varchar(100)&quot;`  Email string `gorm:&quot;type:varchar(100);uniqueIndex&quot;`&#125;</code></pre><p>å¢åŠ æ•°æ®ï¼šä½¿ç”¨Createæ–¹æ³•æ¥æ–°å¢æ•°æ®æ¡ç›®ã€‚</p><pre><code class="go">db.Create(&amp;User&#123;Name: &quot;John&quot;, Email: &quot;john@example.com&quot;&#125;)</code></pre><p>æŸ¥è¯¢æ•°æ®ï¼šä½¿ç”¨Findè¿›è¡Œæ•°æ®æŸ¥æ‰¾ï¼Œå¯ä»¥é€šè¿‡Whereå’ŒOræ¡ä»¶æ„å»ºæŸ¥è¯¢æ¡ä»¶ã€‚</p><pre><code class="go">var user Userdb.Where(&quot;name = ?&quot;, &quot;John&quot;).First(&amp;user)</code></pre><p>æ›´æ–°æ•°æ®ï¼šä½¿ç”¨Updateè¿›è¡Œæ•°æ®æ›´æ–°ï¼Œå¯ä»¥ä½¿ç”¨Modelç»“åˆUpdateæˆ–Updatesæ–¹æ³•æ¥æ›´æ–°åˆ—ã€‚</p><pre><code class="go">db.Model(&amp;user).Update(&quot;Name&quot;, &quot;John Updated&quot;)</code></pre><p>åˆ é™¤æ•°æ®ï¼šä½¿ç”¨Deleteè¿›è¡Œæ•°æ®åˆ é™¤æ“ä½œï¼Œæ ¹æ®æ˜¯å¦åŒ…å«gorm.deletedatå­—æ®µæ‰§è¡Œç‰©ç†æˆ–é€»è¾‘åˆ é™¤ã€‚</p><pre><code class="go">db.Delete(&amp;user)</code></pre><h3 id="Kitex"><a href="#Kitex" class="headerlink" title="Kitex"></a>Kitex</h3><p><a href="https://www.cloudwego.io/zh/docs/kitex/overview/">https://www.cloudwego.io/zh/docs/kitex/overview/</a></p><p>Kitexæ˜¯å­—èŠ‚å¼€å‘çš„é«˜æ€§èƒ½Golangå¾®æœåŠ¡RPCæ¡†æ¶ï¼Œå…·å¤‡å‡ºè‰²çš„å¯æ‰©å±•æ€§å’Œé«˜æ€§èƒ½ã€‚<br>æœåŠ¡ç«¯</p><pre><code class="go">func main() &#123;  srv := kitex.NewServer(new(YourServiceImpl),                           kitex.WithServiceAddr(&quot;:8888&quot;))  srv.Run()&#125;</code></pre><p>å®¢æˆ·ç«¯</p><pre><code class="go">func main() &#123;  client := NewYourServiceClient(&quot;127.0.0.1:8888&quot;, kitex.WithTransportProtocol(protocol.TRPC))  // è°ƒç”¨RPCæ–¹æ³•&#125;</code></pre><p>é«˜æ€§èƒ½ï¼šKitexå…·æœ‰ä¼˜å¼‚çš„æ€§èƒ½è¡¨ç°ï¼Œé€‚ç”¨äºé«˜è´Ÿè½½çš„å¾®æœåŠ¡åœºæ™¯ã€‚<br>å¯æ‰©å±•ï¼šæ”¯æŒå¤šåè®®ï¼Œå¹¶ä¸”æœ‰ä¸°å¯Œçš„å¼€æºæ‰©å±•åº“ï¼Œå¯ä»¥æ»¡è¶³å„ç§éœ€æ±‚ã€‚</p><h3 id="Hertz"><a href="#Hertz" class="headerlink" title="Hertz"></a>Hertz</h3><p><a href="https://www.cloudwego.io/zh/docs/hertz/overview/">https://www.cloudwego.io/zh/docs/hertz/overview/</a></p><p>Hertzæ˜¯å­—èŠ‚å¼€å‘çš„HTTPæ¡†æ¶ï¼Œç»“åˆäº†å…¶ä»–å¼€æºæ¡†æ¶çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶æ»¡è¶³å­—èŠ‚è·³åŠ¨å†…éƒ¨çš„éœ€æ±‚ï¼Œå…·æœ‰é«˜å¯ç”¨æ€§ã€é«˜æ€§èƒ½å’Œé«˜æ‰©å±•æ€§ã€‚</p><pre><code class="go">package mainimport (    &quot;context&quot;    &quot;github.com/cloudwego/hertz/pkg/app&quot;    &quot;github.com/cloudwego/hertz/pkg/app/server&quot;    &quot;github.com/cloudwego/hertz/pkg/common/utils&quot;    &quot;github.com/cloudwego/hertz/pkg/protocol/consts&quot;)func main() &#123;    h := server.Default()    h.GET(&quot;/ping&quot;, func(c context.Context, ctx *app.RequestContext) &#123;            ctx.JSON(consts.StatusOK, utils.H&#123;&quot;message&quot;: &quot;pong&quot;&#125;)    &#125;)    h.Spin()&#125;</code></pre><p>é«˜å¯ç”¨æ€§ï¼šHertzæ¡†æ¶è¢«è®¾è®¡ä¸ºå…·æœ‰é«˜åº¦çš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡çš„åº”ç”¨åœºæ™¯ã€‚<br>é«˜æ€§èƒ½ï¼šæ¡†æ¶åœ¨æ€§èƒ½æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œé€‚åˆå¤„ç†é«˜å¹¶å‘è¯·æ±‚ã€‚<br>é«˜æ‰©å±•æ€§ï¼šHertzæ¡†æ¶å…è®¸æ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå®šåˆ¶å’Œæ‰©å±•ï¼Œä»¥æ»¡è¶³å¤æ‚åº”ç”¨çš„è¦æ±‚ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç«™å®‰å…¨æ¼æ´ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/08/26/%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/08/26/%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯æ¼æ´"><a href="#ä»€ä¹ˆæ˜¯æ¼æ´" class="headerlink" title="ä»€ä¹ˆæ˜¯æ¼æ´"></a>ä»€ä¹ˆæ˜¯æ¼æ´</h2><p>æ¼æ´æ˜¯æŒ‡åœ¨ç½‘ç«™æˆ–ç½‘ç»œåº”ç”¨ä¸­å­˜åœ¨çš„å®‰å…¨å¼±ç‚¹ï¼Œå®ƒä»¬å¯èƒ½ç”±äºå„ç§åŸå› è€Œäº§ç”Ÿï¼ŒåŒ…æ‹¬ç¼–ç é”™è¯¯ã€é…ç½®ä¸å½“æˆ–ç¬¬ä¸‰æ–¹ç»„ä»¶çš„å®‰å…¨æ€§ä¸è¶³ã€‚äº†è§£ä¸€ä¸ªç½‘ç«™çš„åŸºæœ¬æ„æˆæ˜¯ç†è§£æ¼æ´çš„ç¬¬ä¸€æ­¥ã€‚ç½‘ç«™é€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªå…³é”®ç»„æˆéƒ¨åˆ†æ„æˆï¼Œè€Œæ”»å‡»è€…é€šå¸¸ä¼šå°è¯•ä»è¿™äº›éƒ¨åˆ†æ‰¾å‡ºå¼±ç‚¹è¿›è¡Œæ”»å‡»ï¼š</p><ul><li><strong>å‰ç«¯</strong>ï¼šä½¿ç”¨çš„æŠ€æœ¯å¯èƒ½åŒ…æ‹¬HTMLã€CSSã€JavaScriptã€Vue.jsã€React.jsç­‰ã€‚</li><li><strong>ç½‘å…³</strong>ï¼šä¾‹å¦‚nginxæˆ–Apacheï¼Œè´Ÿè´£å¤„ç†è¿›å‡ºçš„ç½‘ç»œæµé‡ã€‚</li><li><strong>åç«¯</strong>ï¼šå¯èƒ½æ˜¯ç”¨Goã€Javaã€Node.jsã€Pythonç­‰è¯­è¨€ç¼–å†™çš„ã€‚</li><li><strong>å‰åç«¯äº¤äº’</strong>ï¼šé€šå¸¸é€šè¿‡HTTPæˆ–WebSocketè¿›è¡Œã€‚</li></ul><h2 id="å¸¸è§çš„å®‰å…¨äº‹ä»¶"><a href="#å¸¸è§çš„å®‰å…¨äº‹ä»¶" class="headerlink" title="å¸¸è§çš„å®‰å…¨äº‹ä»¶"></a>å¸¸è§çš„å®‰å…¨äº‹ä»¶</h2><p>ç”±å®‰å…¨æ¼æ´å¼•å‘çš„æ”»å‡»äº‹ä»¶ä¸ä»…å¯èƒ½å¯¼è‡´æ•°æ®æ³„éœ²ã€æœåŠ¡ç˜«ç—ªã€æˆæœå¤±çªƒå’Œç³»ç»ŸåŠ«æŒï¼Œè¿˜å¯èƒ½å¸¦æ¥ä»¥ä¸‹æ›´ä¸ºä¸¥é‡çš„åæœï¼š</p><ul><li><strong>æ³•å¾‹è´£ä»»</strong>ï¼šæ³„éœ²ç”¨æˆ·æ•°æ®å¯èƒ½å¯¼è‡´æ³•å¾‹è¯‰è®¼å’Œå·¨é¢ç½šæ¬¾ã€‚</li><li><strong>å“ç‰Œå£°èª‰å—æŸ</strong>ï¼šä¸€æ¬¡ä¸¥é‡çš„å®‰å…¨äº‹ä»¶å¯èƒ½æ°¸ä¹…æ€§åœ°å½±å“å…¬å¸çš„å£°èª‰ã€‚</li><li><strong>ä¸šåŠ¡ä¸­æ–­</strong>ï¼šæœåŠ¡ä¸­æ–­å¯èƒ½å¯¼è‡´ç”¨æˆ·æµå¤±å’Œæ”¶å…¥å‡å°‘ã€‚</li><li><strong>å†…å¤–éƒ¨ä¿¡ä»»åº¦ä¸‹é™</strong>ï¼šå‘˜å·¥å’Œåˆä½œä¼™ä¼´ä¹Ÿå¯èƒ½å› ä¸ºå®‰å…¨äº‹ä»¶è€Œå¯¹ä¼ä¸šå¤±å»ä¿¡ä»»ã€‚</li></ul><h2 id="ç½‘ç«™æ”»å‡»è€…çš„æ„å›¾"><a href="#ç½‘ç«™æ”»å‡»è€…çš„æ„å›¾" class="headerlink" title="ç½‘ç«™æ”»å‡»è€…çš„æ„å›¾"></a>ç½‘ç«™æ”»å‡»è€…çš„æ„å›¾</h2><p>ç¡®åˆ‡åœ°çŸ¥é“æ”»å‡»è€…çš„æ„å›¾å¯ä»¥å¸®åŠ©ä¼ä¸šæ›´æœ‰æ•ˆåœ°é˜²å¾¡å¨èƒã€‚é™¤äº†æ”¿æ²»ã€ç»æµå’Œç«äº‰ç­‰åŸå› å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹å¯èƒ½çš„æ”»å‡»åŠ¨æœºï¼š</p><ul><li><strong>ç¤¾ä¼šå·¥ç¨‹æ”»å‡»</strong>ï¼šé€šè¿‡äººä¸ºæ“ä½œæˆ–æ¬ºéª—ï¼Œä½¿å†…éƒ¨äººå‘˜æ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚</li><li><strong>é»‘å¸½SEO</strong>ï¼šé€šè¿‡å„ç§æ‰‹æ®µæ¥æ“çºµæœç´¢å¼•æ“æ’åã€‚</li><li><strong>èµ„æºå ç”¨</strong>ï¼šæ”»å‡»è€…å¯èƒ½åªæ˜¯ä¸ºäº†æ¶ˆè€—ç›®æ ‡ç½‘ç«™çš„èµ„æºã€‚</li><li><strong>çº¯ç²¹çš„ç ´åæ¬²</strong>ï¼šæœ‰äº›æ”»å‡»è€…å¯èƒ½åªæ˜¯å‡ºäºç ´åçš„ä¹è¶£ã€‚</li></ul><h3 id="çº¢è“å¯¹æŠ—"><a href="#çº¢è“å¯¹æŠ—" class="headerlink" title="çº¢è“å¯¹æŠ—"></a>çº¢è“å¯¹æŠ—</h3><p>çº¢è“å¯¹æŠ—æ˜¯ä¸€ç§æ¨¡æ‹Ÿç°å®ä¸–ç•Œç½‘ç»œæ”»é˜²åœºæ™¯çš„æ–¹æ³•ï¼Œé€šå¸¸ç”¨äºè¯„ä¼°å’Œæå‡ç»„ç»‡çš„å®‰å…¨é˜²æŠ¤èƒ½åŠ›ã€‚åœ¨è¿™ä¸€æ¨¡å¼ä¸­ï¼Œçº¢å†›ï¼ˆRed Teamï¼‰æ¨¡æ‹Ÿæ”»å‡»è€…ï¼Œå¯»æ‰¾ç³»ç»Ÿçš„å¼±ç‚¹å’Œæ¼æ´ï¼›è“å†›ï¼ˆBlue Teamï¼‰åˆ™æ‰®æ¼”é˜²å¾¡æ–¹ï¼Œè´Ÿè´£æ£€æµ‹å’Œé˜»æ­¢è¿™äº›æ”»å‡»ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰æ‰€è°“çš„â€œç´«å†›â€ï¼ˆPurple Teamï¼‰ï¼Œè´Ÿè´£åè°ƒçº¢è“ä¸¤æ–¹ï¼Œä»¥ç¡®ä¿åŒæ–¹éƒ½ä»å¯¹æŠ—ä¸­è·å¾—æœ€å¤§çš„å­¦ä¹ ä»·å€¼ã€‚</p><h3 id="æ”»å‡»æ–¹å¼"><a href="#æ”»å‡»æ–¹å¼" class="headerlink" title="æ”»å‡»æ–¹å¼"></a>æ”»å‡»æ–¹å¼</h3><p>ç½‘ç«™æ”»å‡»é€šå¸¸å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šé’ˆå¯¹å®¢æˆ·ç«¯çš„æ”»å‡»å’Œé’ˆå¯¹æœåŠ¡ç«¯çš„æ”»å‡»ã€‚</p><ul><li><strong>é’ˆå¯¹å®¢æˆ·ç«¯çš„æ”»å‡»</strong>ï¼šè¿™ç±»æ”»å‡»ç›´æ¥å½±å“ç½‘ç«™çš„ç»ˆç«¯ç”¨æˆ·ï¼Œä¾‹å¦‚é€šè¿‡XSSï¼ˆè·¨ç«™è„šæœ¬ï¼‰æˆ–CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰ç­‰æ–¹å¼ã€‚</li><li><strong>é’ˆå¯¹æœåŠ¡ç«¯çš„æ”»å‡»</strong>ï¼šè¿™ç±»æ”»å‡»ç›®æ ‡æ˜¯ç½‘ç«™åç«¯çš„æœåŠ¡å™¨æˆ–æ•°æ®åº“ï¼Œä¾‹å¦‚é€šè¿‡SQLæ³¨å…¥æˆ–å‘½ä»¤æ‰§è¡Œç­‰æ–¹å¼ã€‚ æ¯ä¸€ç§æ”»å‡»éƒ½æœ‰å…¶è‡ªå·±çš„é˜²æŠ¤æœºåˆ¶å’Œä¿®è¡¥æ–¹æ¡ˆï¼Œå› æ­¤å¯¹è¿™äº›æ”»å‡»æ‰‹æ®µæœ‰æ·±å…¥çš„äº†è§£æ˜¯éå¸¸é‡è¦çš„ã€‚</li></ul><h3 id="æœåŠ¡ç«¯æ¼æ´"><a href="#æœåŠ¡ç«¯æ¼æ´" class="headerlink" title="æœåŠ¡ç«¯æ¼æ´"></a>æœåŠ¡ç«¯æ¼æ´</h3><p>æœåŠ¡ç«¯æ¼æ´é€šå¸¸æ¯”å®¢æˆ·ç«¯æ¼æ´æ›´ä¸ºä¸¥é‡ï¼Œå› ä¸ºå®ƒä»¬ç›´æ¥å½±å“åˆ°æ•´ä¸ªç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚å…¶ä¸­ï¼Œç¬¬ä¸‰æ–¹ç»„ä»¶æ¼æ´æ˜¯ä¸€ä¸ªå¸¸è§ä½†ç»å¸¸è¢«å¿½è§†çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œä¸€äº›æµè¡Œçš„å¼€æºåº“æˆ–æ¡†æ¶å¯èƒ½å­˜åœ¨å·²çŸ¥çš„å®‰å…¨é—®é¢˜ï¼Œå¦‚æœå¼€å‘äººå‘˜æ²¡æœ‰åŠæ—¶æ›´æ–°è¿™äº›ç»„ä»¶ï¼Œå°±å¯èƒ½å¯¼è‡´æ•´ä¸ªç³»ç»Ÿçš„å®‰å…¨æ€§å—åˆ°å¨èƒã€‚</p><h3 id="SQLæ³¨å…¥æ¼æ´"><a href="#SQLæ³¨å…¥æ¼æ´" class="headerlink" title="SQLæ³¨å…¥æ¼æ´"></a>SQLæ³¨å…¥æ¼æ´</h3><p>SQLæ³¨å…¥æ˜¯ä¸€ç§å¸¸è§ä½†å±é™©çš„æ”»å‡»æ‰‹æ®µï¼Œå®ƒå‡ºç°åœ¨åº”ç”¨ç¨‹åºæœªèƒ½æ­£ç¡®åœ°å¤„ç†ç”¨æˆ·è¾“å…¥çš„åœºåˆã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œæ”»å‡»è€…é€šè¿‡è¾“å…¥ç‰¹å®šçš„SQLä»£ç ç‰‡æ®µï¼Œä½¿å¾—åŸSQLæŸ¥è¯¢é€»è¾‘è¢«æ”¹å˜ï¼Œä»è€Œè¾¾åˆ°éæ³•è·å–æ•°æ®æˆ–æ‰§è¡Œç‰¹å®šæ“ä½œçš„ç›®çš„ã€‚é˜²èŒƒSQLæ³¨å…¥çš„åŸºç¡€æ˜¯ç¼–ç è§„èŒƒï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä½¿ç”¨é¢„ç¼–è¯‘SQLè¯­å¥ã€å‚æ•°åŒ–æŸ¥è¯¢ï¼Œä»¥åŠè¿›è¡Œä¸¥æ ¼çš„è¾“å…¥éªŒè¯ã€‚</p><h3 id="å‘½ä»¤æ‰§è¡Œ"><a href="#å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å‘½ä»¤æ‰§è¡Œ"></a>å‘½ä»¤æ‰§è¡Œ</h3><p>å‘½ä»¤æ‰§è¡Œæ¼æ´é€šå¸¸å‘ç”Ÿåœ¨åº”ç”¨éœ€è¦ä¸æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’æ—¶ã€‚ä¸SQLæ³¨å…¥ç±»ä¼¼ï¼Œè¿™ä¸€æ¼æ´ä¹Ÿå¸¸å¸¸æ˜¯ç”±äºä¸æ­£ç¡®çš„è¾“å…¥å¤„ç†å¼•èµ·çš„ã€‚æ”»å‡»è€…å¯èƒ½ä¼šå°è¯•æ’å…¥æ¶æ„å‘½ä»¤æˆ–å‚æ•°ï¼Œä»¥æ­¤æ¥æ§åˆ¶æˆ–ç ´åç›®æ ‡ç³»ç»Ÿã€‚é˜²æŠ¤æªæ–½åŒ…æ‹¬ä½¿ç”¨å®‰å…¨çš„APIè¿›è¡Œå‘½ä»¤è°ƒç”¨ã€å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œä¸¥æ ¼çš„éªŒè¯å’Œè¿‡æ»¤ï¼Œä»¥åŠä½¿ç”¨æœ€å°æƒé™åŸåˆ™æ¥é™åˆ¶åº”ç”¨ç¨‹åºå¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®ã€‚</p><h3 id="è¶Šæƒæ¼æ´"><a href="#è¶Šæƒæ¼æ´" class="headerlink" title="è¶Šæƒæ¼æ´"></a>è¶Šæƒæ¼æ´</h3><p>è¶Šæƒæ¼æ´æ˜¯æˆæƒæ§åˆ¶ä¸å½“å¯¼è‡´çš„ä¸€ç±»å®‰å…¨é—®é¢˜ï¼Œå®ƒä»¬é€šå¸¸åˆ†ä¸ºä¸‰ç±»ï¼š</p><ul><li><strong>æœªæˆæƒ</strong>ï¼šç”¨æˆ·æ— éœ€ä»»ä½•æˆæƒå³å¯è®¿é—®å—é™åˆ¶çš„èµ„æºã€‚</li><li><strong>æ°´å¹³è¶Šæƒ</strong>ï¼šç”¨æˆ·è®¿é—®åŒä¸€æƒé™çº§åˆ«ä½†ä¸å±äºè‡ªå·±çš„èµ„æºã€‚</li><li><strong>å‚ç›´è¶Šæƒ</strong>ï¼šä½æƒé™ç”¨æˆ·è®¿é—®é«˜æƒé™ç”¨æˆ·çš„èµ„æºã€‚ è¶Šæƒé—®é¢˜çš„æ ¹æœ¬åœ¨äºä¸æ°å½“çš„æƒé™æ§åˆ¶å’Œä¼šè¯ç®¡ç†ï¼Œå› æ­¤ç›¸åº”çš„é˜²æŠ¤æªæ–½åº”ä»è¿™ä¸¤æ–¹é¢å…¥æ‰‹ã€‚</li></ul><h3 id="SSRFæ”»å‡»"><a href="#SSRFæ”»å‡»" class="headerlink" title="SSRFæ”»å‡»"></a>SSRFæ”»å‡»</h3><p>æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ï¼ˆSSRFï¼‰æ˜¯ä¸€ç§åˆ©ç”¨ç›®æ ‡æœåŠ¡å™¨ä½œä¸ºä¸­é—´äººæ¥å‘èµ·è¯·æ±‚çš„æ”»å‡»ã€‚è¿™æ ·åšå¯èƒ½ä¼šæš´éœ²åŸæœ¬ä¸å¯è¾¾çš„å†…éƒ¨ç½‘ç»œèµ„æºã€‚SSRFé€šå¸¸åˆ©ç”¨çš„æ˜¯åº”ç”¨ç¨‹åºæˆ–æœåŠ¡å™¨é…ç½®ä¸­çš„ä¸å½“è¾“å…¥éªŒè¯æˆ–URLè§£æç¼ºé™·ã€‚é˜²èŒƒæªæ–½åŒ…æ‹¬é™åˆ¶ä»æœåŠ¡å™¨å‘å‡ºçš„è¯·æ±‚ç±»å‹å’Œç›®æ ‡ï¼Œä»¥åŠå¯¹æ‰€æœ‰å¤–éƒ¨è¾“å…¥è¿›è¡Œä¸¥æ ¼çš„éªŒè¯ã€‚</p><h3 id="æ–‡ä»¶ä¸Šä¼ æ¼æ´"><a href="#æ–‡ä»¶ä¸Šä¼ æ¼æ´" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ æ¼æ´"></a>æ–‡ä»¶ä¸Šä¼ æ¼æ´</h3><p>æ–‡ä»¶ä¸Šä¼ æ¼æ´æ˜¯ä¸€ç§å¸¸è§çš„å®‰å…¨é£é™©ï¼Œå°¤å…¶æ˜¯åœ¨å…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„åº”ç”¨ä¸­ã€‚å¦‚æœæ²¡æœ‰é€‚å½“çš„å®‰å…¨æªæ–½ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šä¸Šä¼ å«æœ‰æ¶æ„ä»£ç çš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¸€æ—¦è¢«æ‰§è¡Œï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„å®‰å…¨åæœã€‚å› æ­¤ï¼Œé™¤äº†åŸºæœ¬çš„æ–‡ä»¶ç±»å‹æ£€æµ‹å’Œå¤§å°é™åˆ¶å¤–ï¼Œæ›´é«˜çº§çš„é˜²æŠ¤æªæ–½ï¼Œå¦‚å†…å®¹æ‰«æå’Œå®‰å…¨å­˜å‚¨ç­–ç•¥ï¼Œä¹Ÿæ˜¯éå¸¸å¿…è¦çš„ã€‚</p><h3 id="å®¢æˆ·ç«¯æ¼æ´"><a href="#å®¢æˆ·ç«¯æ¼æ´" class="headerlink" title="å®¢æˆ·ç«¯æ¼æ´"></a>å®¢æˆ·ç«¯æ¼æ´</h3><p>å®¢æˆ·ç«¯æ¼æ´ä¸»è¦å½±å“ç½‘ç«™çš„æœ€ç»ˆç”¨æˆ·ï¼Œè€Œä¸æ˜¯æœåŠ¡å™¨æˆ–æ•°æ®åº“ã€‚è¿™äº›æ¼æ´é€šå¸¸æ¶‰åŠåˆ°å¦‚ä½•å¤„ç†ä»å®¢æˆ·ç«¯ï¼ˆé€šå¸¸æ˜¯Webæµè§ˆå™¨ï¼‰å‘æ¥çš„æ•°æ®å’Œè¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œå¼€æ”¾é‡å®šå‘æ˜¯ä¸€ç§å¸¸è§çš„å®¢æˆ·ç«¯æ¼æ´ï¼Œæ”»å‡»è€…é€šè¿‡è¿™ç§æ¼æ´å¯ä»¥å°†ç”¨æˆ·é‡å®šå‘åˆ°æ¶æ„ç½‘ç«™ã€‚ä¿®å¤è¿™ç±»é—®é¢˜é€šå¸¸éœ€è¦åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½è¿›è¡Œé€‚å½“çš„è¾“å…¥éªŒè¯ã€‚</p><h3 id="è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»"><a href="#è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»" class="headerlink" title="è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»"></a>è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ”»å‡»</h3><p>è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰æ˜¯ä¸€ç§åœ¨ç›®æ ‡ç½‘ç«™ä¸Šæ‰§è¡Œæ¶æ„è„šæœ¬çš„æ”»å‡»æ–¹å¼ã€‚å®ƒåˆ©ç”¨çš„æ˜¯ç½‘ç«™æ²¡æœ‰å¯¹ç”¨æˆ·æäº¤çš„æ•°æ®è¿›è¡Œé€‚å½“çš„è¿‡æ»¤å’Œè½¬ä¹‰ã€‚æ ¹æ®æ”»å‡»çš„å…·ä½“å½¢å¼ï¼ŒXSSæ”»å‡»å¯ä»¥è¿›ä¸€æ­¥åˆ†ä¸ºå­˜å‚¨å‹ã€åå°„å‹å’ŒDOMå‹ä¸‰ç±»ã€‚æ¯ç§ç±»å‹çš„XSSæ”»å‡»éƒ½æœ‰å…¶ç‹¬ç‰¹çš„é˜²å¾¡æ–¹æ³•ï¼Œå¦‚è¾“å…¥è¿‡æ»¤ã€è¾“å‡ºç¼–ç å’Œå†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰ã€‚</p><h3 id="è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰"><a href="#è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰" class="headerlink" title="è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰"></a>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰</h3><p>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰æ˜¯ä¸€ç§æ”»å‡»æ‰‹æ³•ï¼Œæ”»å‡»è€…é€šè¿‡æŸç§æ–¹å¼è¯±å¯¼ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªé“¾æ¥æˆ–æŒ‰é’®ï¼Œä»è€Œåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œä»¥è¯¥ç”¨æˆ·çš„èº«ä»½æ‰§è¡Œéé¢„æœŸçš„æ“ä½œã€‚é˜²å¾¡CSRFæ”»å‡»çš„å¸¸è§æ–¹æ³•åŒ…æ‹¬ä½¿ç”¨CSRFä»¤ç‰Œã€è®¾ç½®SameSiteå±æ€§ç­‰ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬åˆ—ä¸¾äº†ç½‘ç«™å®‰å…¨æ¼æ´çš„å¤šä¸ªæ–¹é¢ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å„ç§ç±»å‹çš„å®‰å…¨æ¼æ´ï¼Œä»¥åŠå¦‚ä½•é˜²èŒƒè¿™äº›æ¼æ´ã€‚é‡è¦çš„æ˜¯ï¼Œæ— è®ºæ˜¯æœåŠ¡ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯ï¼Œå®‰å…¨æ¼æ´éƒ½å¯èƒ½å­˜åœ¨ï¼Œå¹¶ä¸”éƒ½éœ€è¦å¾—åˆ°å¦¥å–„çš„å¤„ç†ã€‚</p><p>ç½‘ç«™å®‰å…¨æ˜¯ä¸€ä¸ªæ¶‰åŠå¤šä¸ªå±‚é¢çš„å¤æ‚é—®é¢˜ï¼Œéœ€è¦å¼€å‘è€…ã€è¿ç»´äººå‘˜ã€ä»¥åŠå®‰å…¨å›¢é˜Ÿå…±åŒåŠªåŠ›æ¥ç»´æŠ¤ã€‚åªæœ‰å…¨æ–¹ä½ã€å¤šå±‚æ¬¡çš„å®‰å…¨é˜²æŠ¤æªæ–½ï¼Œæ‰èƒ½æœ‰æ•ˆåœ°å‡å°‘å®‰å…¨é£é™©ï¼Œä¿æŠ¤ç½‘ç«™å’Œç”¨æˆ·æ•°æ®çš„å®‰å…¨ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goæ¶æ„ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/08/24/go%E6%9E%B6%E6%9E%84%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/08/24/go%E6%9E%B6%E6%9E%84%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯æ¶æ„"><a href="#ä»€ä¹ˆæ˜¯æ¶æ„" class="headerlink" title="ä»€ä¹ˆæ˜¯æ¶æ„"></a>ä»€ä¹ˆæ˜¯æ¶æ„</h2><p>ä¸»è¦é’ˆå¯¹äº’è”ç½‘æœserverç³»ç»Ÿï¼ˆç±»ä¼¼ç½‘ç«™ï¼‰æ¥å®šä¹‰æ¶æ„ï¼šæ¶æ„æ˜¯ç³»ç»Ÿçš„éª¨æ¶ï¼Œæ”¯æ’‘å’Œé“¾æ¥å„ä¸ªéƒ¨åˆ†ï¼ŒåŒ…æ‹¬ç»„ä»¶ã€è¿æ¥ä»¶ã€çº¦æŸè§„èŒƒï¼Œä»¥åŠæŒ‡å¯¼è¿™äº›å†…å®¹è®¾è®¡ä¸æ¼”åŒ–çš„åŸç†ã€‚</p><ul><li><p>ç»„ä»¶ï¼šç±»ä¼¼åº”ç”¨æœåŠ¡ï¼Œç‹¬ç«‹æ¨¡å—ã€æ•°æ®åº“ã€nginxç­‰ç­‰ã€</p></li><li><p>è¿æ¥ä»¶ï¼šåˆ†å¸ƒå¼è°ƒç”¨ã€è¿›ç¨‹é—´è°ƒç”¨ã€è°ƒç”¨ä½¿ç”¨httpåè®®è¿˜æ˜¯tcpåè®®ã€ç»„ä»¶ä¹‹é—´çš„äº¤äº’å…³ç³»ã€</p></li><li><p>çº¦æŸè§„èŒƒï¼š å®šè§„åˆ™åšé™åˆ¶ï¼šä¾‹å¦‚è®¾è®¡åŸåˆ™ã€ç¼–ç è§„èŒƒç­‰ç­‰ã€‚</p></li></ul><h3 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h3><p>ç»„ä»¶æ˜¯æ¶æ„çš„æ„å»ºå—ï¼ŒåŒ…æ‹¬ç‹¬ç«‹æ¨¡å—ã€æ•°æ®åº“ã€Nginxç­‰ã€‚</p><p>ä¾‹å¦‚ï¼ŒGoè¯­è¨€ä¸­å¯ä»¥å®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Œå¦‚ä¸€ä¸ªHTTPæœåŠ¡å™¨ï¼š</p><pre><code class="go">package mainimport (    &quot;net/http&quot;)func main() &#123;    http.HandleFunc(&quot;/&quot;, func(w http.ResponseWriter, r *http.Request) &#123;        w.Write([]byte(&quot;Hello, World!&quot;))    &#125;)    http.ListenAndServe(&quot;:8080&quot;, nil)&#125;</code></pre><h3 id="è¿æ¥ä»¶"><a href="#è¿æ¥ä»¶" class="headerlink" title="è¿æ¥ä»¶"></a>è¿æ¥ä»¶</h3><p>è¿æ¥ä»¶å¤„ç†ç»„ä»¶ä¹‹é—´çš„äº¤äº’å…³ç³»ï¼Œä¾‹å¦‚åˆ†å¸ƒå¼è°ƒç”¨ã€è¿›ç¨‹é—´è°ƒç”¨ã€ä½¿ç”¨çš„åè®®ç­‰ã€‚</p><h3 id="çº¦æŸè§„èŒƒ"><a href="#çº¦æŸè§„èŒƒ" class="headerlink" title="çº¦æŸè§„èŒƒ"></a>çº¦æŸè§„èŒƒ</h3><p>çº¦æŸè§„èŒƒå®šä¹‰äº†æ¶æ„ä¸­çš„è§„åˆ™å’Œé™åˆ¶ï¼Œä¾‹å¦‚è®¾è®¡åŸåˆ™å’Œç¼–ç è§„èŒƒã€‚</p><h2 id="å‡ ç§å…¸å‹æ¶æ„"><a href="#å‡ ç§å…¸å‹æ¶æ„" class="headerlink" title="å‡ ç§å…¸å‹æ¶æ„"></a>å‡ ç§å…¸å‹æ¶æ„</h2><h3 id="å•æœºæ¶æ„"><a href="#å•æœºæ¶æ„" class="headerlink" title="å•æœºæ¶æ„"></a>å•æœºæ¶æ„</h3><p>å•æœºæ¶æ„å°±æ˜¯æŠŠæ‰€æœ‰åŠŸèƒ½éƒ½å®ç°åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œå¹¶éƒ¨ç½²åœ¨ä¸€å°æœºå™¨ä¸Šã€‚</p><p>å•æœºæ¶æ„çš„<strong>ä¼˜ç‚¹</strong>æ˜¯éå¸¸ç®€å•ï¼Œ<strong>ç¼ºç‚¹</strong>æ˜¯ä¼šé‡åˆ°å¹¶å‘å¤„ç†çš„éš¾é¢˜ï¼Œè€Œä¸”è¿ç»´éœ€è¦åœæœã€‚</p><p>å½“æ—¶è®¡ç®—æœºè½¯ç¡¬ä»¶æ€§èƒ½æ¯”è¾ƒåŸºç¡€ï¼Œè¿™ä¸ªé—®é¢˜å¼•èµ·äººä»¬å¯¹ç½‘ç»œå¥—æ¥å­—ä¼˜åŒ–å’ŒæœåŠ¡ç«¯è°ƒåº¦çš„å…³æ³¨ï¼Œè¿™ä¸ªè¯è¯­ä¹Ÿéšç€æ—¶ä»£çš„å‘å±•é€æ¸å˜åŒ–ï¼Œå¦‚<code>C10M</code>ä»£è¡¨çš„æ˜¯å¤„ç†1000ä¸‡ä¸ªå¹¶å‘è¿æ¥ã€‚ç°åœ¨çš„è®¡ç®—æœºå·²ç»æœ‰è¶³å¤Ÿçš„æ€§èƒ½å’Œä¼˜ç§€çš„è½¯ä»¶æ¥æ”¯æ’‘å•æœºæ•°ç™¾ä¸‡è¿æ¥äº†ï¼Œç„¶è€Œå¹¶å‘é—®é¢˜ä»ç„¶æ˜¯åç«¯æ¶æ„è®¾è®¡ä¸­ä¸èƒ½ç•¥è¿‡çš„å…³é”®é—®é¢˜ã€‚</p><h3 id="å•ä½“æ¶æ„"><a href="#å•ä½“æ¶æ„" class="headerlink" title="å•ä½“æ¶æ„"></a>å•ä½“æ¶æ„</h3><p>å•ä½“æ¶æ„æ˜¯å¯¹å•æœºæ¶æ„çš„æ”¹è¿›ã€‚æ—¢ç„¶å•æœºå¤„ç†èƒ½åŠ›æœ‰é™ï¼Œå°±å¯ä»¥é‡‡ç”¨åˆ†å¸ƒå¼éƒ¨ç½²çš„æ¨¡å¼è®¾ç½®å¤šå°å•æœºï¼Œå†è®¾ç½®ä¸€ä¸ªåˆ†æµç¯èŠ‚ï¼Œå°†è¯·æ±‚è½¬å‘ç»™å„ä¸ªå•ä½“æœåŠ¡å™¨æ¥å¤„ç†ã€‚</p><p>å•ä½“æ¶æ„çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å®ç°æ°´å¹³æ‰©å®¹ï¼Œå¤„ç†èƒ½åŠ›ä¸å¤Ÿæ—¶åªéœ€è¦ç®€å•æ·»åŠ æ–°çš„å•æœºå³å¯ï¼›è¿ç»´ä¸éœ€è¦åœæœï¼Œå¯ä»¥é€ä¸ªå¯¹å•æœºç»´æŠ¤ä¸å½±å“å…¶ä»–å•æœºçš„è¿è¡Œã€‚å•ä½“æ¶æ„ä¸‹ï¼Œæ¯å°æœºå™¨çš„åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œå› æ­¤å®ƒæ²¡æœ‰è§£å†³è¿™ä¸¤ä¸ªç¼ºç‚¹ï¼š</p><ol><li>èŒè´£å¤ªå¤šï¼Œå¼€å‘æ•ˆç‡ä½ï¼šæ¯å°æœºå™¨éƒ½è¦å®ç°ç³»ç»Ÿçš„å®Œæ•´åŠŸèƒ½ï¼Œä¸èƒ½ä¸“æ³¨äºæŸä¸ªåŠŸèƒ½çš„å¼€å‘ã€‚</li><li><strong>çˆ†ç‚¸åŠå¾„å¤§</strong>ï¼š çˆ†ç‚¸åŠå¾„æ˜¯æŒ‡çˆ†ç‚¸å¯èƒ½é€ æˆæŸå®³çš„åŒºåŸŸèŒƒå›´ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æŒ‡çš„å°±æ˜¯éƒ¨ç½²çš„æœåŠ¡æ•…éšœæ—¶å¯èƒ½å½±å“çš„è½¯ä»¶åŠŸèƒ½èŒƒå›´ã€‚å•ä½“æ¶æ„ä¸‹æ¯ä¸€ä¸ªå•æœºä¸‹çº¿ï¼Œéƒ½ä¼šé€ æˆæ‰€æœ‰åŠŸèƒ½çš„å¤„ç†æ‰¿è½½é‡ä¸‹é™ï¼Œå› æ­¤çˆ†ç‚¸åŠå¾„è¦†ç›–äº†è½¯ä»¶å¤šæ•°åŠŸèƒ½ã€‚</li></ol><h3 id="å‚ç›´åº”ç”¨æ¶æ„"><a href="#å‚ç›´åº”ç”¨æ¶æ„" class="headerlink" title="å‚ç›´åº”ç”¨æ¶æ„"></a>å‚ç›´åº”ç”¨æ¶æ„</h3><p>ä¸ºäº†è§£å†³å•ä½“æ¶æ„çš„é—®é¢˜ï¼Œå‚ç›´åº”ç”¨æ¶æ„æä¾›äº†ä¸€ç§æ€è·¯ï¼Œå°†ç³»ç»ŸæŒ‰ç…§æœåŠ¡æ‹†åˆ†ä»»åŠ¡ï¼Œåˆ†é…ç»™ä¸åŒçš„æœåŠ¡å™¨ï¼Œä»è€Œå®ç°èŒè´£çš„ç®€å•åˆ’åˆ†ï¼Œä¸€å®šç¨‹åº¦ä¸Šæé«˜å¼€å‘å’Œè¿ç»´çš„æ•ˆç‡ã€‚ä¸è¿‡åœ¨å®è·µä¸­ä¸€ä¸ªæœåŠ¡å¾€å¾€æ˜¯å¤§é‡åŠŸèƒ½ç‚¹çš„é›†åˆï¼Œä»ç„¶å­˜åœ¨åŠŸèƒ½çç¢çš„é—®é¢˜</p><h2 id="æ›´åŠ é«˜çº§çš„æ¶æ„"><a href="#æ›´åŠ é«˜çº§çš„æ¶æ„" class="headerlink" title="æ›´åŠ é«˜çº§çš„æ¶æ„"></a>æ›´åŠ é«˜çº§çš„æ¶æ„</h2><h3 id="SOAã€å¾®æœåŠ¡æ¶æ„"><a href="#SOAã€å¾®æœåŠ¡æ¶æ„" class="headerlink" title="SOAã€å¾®æœåŠ¡æ¶æ„"></a>SOAã€å¾®æœåŠ¡æ¶æ„</h3><p>SOAï¼ˆService-Oriented Architectureï¼‰æ¶æ„å…·æœ‰ä¸¤ä¸ªç‰¹æ€§ï¼š</p><ol><li>å°†åº”ç”¨çš„ä¸åŒåŠŸèƒ½å•å…ƒæŠ½è±¡ä¸ºæœåŠ¡ï¼Œä»è€Œç»†åˆ†èŒè´£</li><li>å®šä¹‰æœåŠ¡ä¹‹é—´çš„é€šä¿¡æ ‡å‡†ï¼Œç¡®ä¿æœåŠ¡ä¹‹é—´çš„æ•°æ®æµé€š</li></ol><p>å¾®æœåŠ¡æ¶æ„åˆ™æ˜¯SOAæ¶æ„å»ä¸­å¿ƒåŒ–çš„æ¼”è¿›æ–¹å‘ï¼Œæ—¨åœ¨å‡å°‘æœåŠ¡ä¹‹é—´çš„æ²Ÿé€šæ¶ˆè€—ï¼Œé¿å…SOAæœåŠ¡å†…éƒ¨é›†ä¸­æ²Ÿé€šå¯¼è‡´çš„è¿‡åº¦ä¸­å¿ƒåŒ–é—®é¢˜ï¼Œä»–å®ç°äº†æ°´å¹³åˆ‡åˆ†ï¼Œå‡å°‘äº†è·¨çº§åˆ«è°ƒç”¨é“¾ï¼Œè®©æ¯ä¸ªæœåŠ¡ç›´æ¥è´Ÿè´£çš„ä¸Šä¸‹çº§å‡å°‘ã€‚</p><p>è¿™ç±»æ¶æ„åœ¨è§£å†³ä¹‹å‰çš„å¼Šç«¯æ—¶ï¼Œä¹Ÿä¼šå¼•å…¥æ–°çš„é—®é¢˜ï¼š</p><ul><li>æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼šä¸åŒæœåŠ¡å¦‚ä½•ç¡®ä¿æ•°æ®åŒæ­¥</li><li>é«˜å¯ç”¨é—®é¢˜ï¼šæœåŠ¡ä¹‹é—´å¦‚ä½•è¿›è¡Œå¯é åˆä½œ</li><li>æ²»ç†é—®é¢˜ï¼šä¸€ä¸ªæœåŠ¡å‡ºç°é—®é¢˜æ—¶ï¼Œè¦å¦‚ä½•å®¹ç¾</li><li>è§£è€¦å’Œè¿‡å¾®é—®é¢˜ï¼šè¿‡åº¦ç»†åˆ†ä¼šå¯¼è‡´è¿ç»´æˆæœ¬æé«˜ï¼Œè¦å¦‚ä½•æƒè¡¡ï¼Ÿ</li></ul><h3 id="äº‹ä»¶é©±åŠ¨æ¶æ„"><a href="#äº‹ä»¶é©±åŠ¨æ¶æ„" class="headerlink" title="äº‹ä»¶é©±åŠ¨æ¶æ„"></a>äº‹ä»¶é©±åŠ¨æ¶æ„</h3><p>äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDAï¼‰æ˜¯ä¸€ç§å¼‚æ­¥æ¶æ„ï¼Œå…¶ä¸­ç”Ÿäº§è€…ç”Ÿæˆäº‹ä»¶ï¼Œå¹¶ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚è¿™å…è®¸è§£è€¦ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œå¹¶å®ç°é«˜åº¦å¯æ‰©å±•å’Œçµæ´»çš„ç³»ç»Ÿã€‚</p><p>Apache Kafka<br>Apache Kafkaæ˜¯ä¸€ç§æµè¡Œçš„äº‹ä»¶æµå¹³å°ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Goç¼–å†™Kafkaçš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚</p><p>å¦‚ä¸‹æ˜¯ç¤ºä¾‹ä»£ç  </p><pre><code class="go">package mainimport (    &quot;github.com/confluentinc/confluent-kafka-go/kafka&quot;)func main() &#123;    producer, err := kafka.NewProducer(&amp;kafka.ConfigMap&#123;&quot;bootstrap.servers&quot;: &quot;localhost&quot;&#125;)    if err != nil &#123;        panic(err)    &#125;    // ç”Ÿäº§æ¶ˆæ¯    producer.Produce(&amp;kafka.Message&#123;        TopicPartition: kafka.TopicPartition&#123;Topic: &amp;topic, Partition: kafka.PartitionAny&#125;,        Value:          []byte(&quot;Message Value&quot;),    &#125;, nil)    // æ¶ˆè´¹æ¶ˆæ¯    consumer, err := kafka.NewConsumer(&amp;kafka.ConfigMap&#123;        &quot;bootstrap.servers&quot;: &quot;localhost&quot;,        &quot;group.id&quot;:          &quot;myGroup&quot;,        &quot;auto.offset.reset&quot;: &quot;earliest&quot;,    &#125;)    consumer.SubscribeTopics([]string&#123;&quot;myTopic&quot;&#125;, nil)    msg, err := consumer.ReadMessage(-1)    if err == nil &#123;        fmt.Printf(&quot;Message on %s: %s\n&quot;, msg.TopicPartition, string(msg.Value))    &#125;&#125;</code></pre><h3 id="äº‘è®¡ç®—"><a href="#äº‘è®¡ç®—" class="headerlink" title="äº‘è®¡ç®—"></a>äº‘è®¡ç®—</h3><p>äº‘è®¡ç®—æ˜¯æŒ‡é€šè¿‡è½¯ä»¶è‡ªåŠ¨åŒ–ç®¡ç†ï¼Œæä¾›è®¡ç®—èµ„æºçš„æœåŠ¡ç½‘ç»œï¼Œæ˜¯ç°åœ¨äº’è”ç½‘å¤§è§„æ¨¡æ•°æ®åˆ†æå’Œå­˜å‚¨çš„åŸºçŸ³ã€‚</p><p>äº‘è®¡ç®—çš„åŸºç¡€æ˜¯è™šæ‹ŸåŒ–æŠ€æœ¯å’Œç¼–æ’æ–¹å¼ï¼Œå…³ç³»åˆ°èµ„æºçš„åˆ†é…å’Œè°ƒåº¦ã€‚</p><p>äº‘è®¡ç®—æä¾›ä¸€ç³»åˆ—ç‰¹æœ‰çš„æ¶æ„ï¼š</p><ul><li>åŸºç¡€è®¾æ–½å³æœåŠ¡IaaSï¼ˆInfrastructure as a Serviceï¼‰ï¼šæœåŠ¡å•†æä¾›äº’è”ç½‘åŸºç¡€è®¾æ–½ï¼Œæ¯”å¦‚ç”¨æˆ·åªéœ€è¦è·å¾—æœåŠ¡å™¨ã€äº‘ç¡¬ç›˜ã€å®½å¸¦ç½‘ç»œï¼Œè€Œä¸ç”¨å…³å¿ƒç‰©ç†çš„æœºæˆ¿ã€æ•°æ®ä¸­å¿ƒã€ç½‘ç»œæ€ä¹ˆå»ºè®¾ã€‚ä½†æ˜¯ï¼Œç”¨æˆ·éœ€è¦è‡ªå·±è¿›è¡ŒæœåŠ¡å™¨ç³»ç»Ÿå®‰è£…ã€ç¯å¢ƒéƒ¨ç½²å’Œè½¯ä»¶é…ç½®ã€‚</li><li>å¹³å°å³æœåŠ¡PaaSï¼ˆPlatform as a Serviceï¼‰ï¼šæœåŠ¡å•†æä¾›åº•å±‚è½¯ä»¶è®¾æ–½ï¼Œæ¯”å¦‚ä¸ºç”¨æˆ·å‡†å¤‡å®‰è£…äº†æŒ‡å®šæ“ä½œç³»ç»Ÿã€æ•°æ®åº“è½¯ä»¶ã€ç¯å¢ƒå¥—ä»¶çš„ä¸»æœºã€‚ç”¨æˆ·éœ€è¦è‡ªå·±æ§åˆ¶ä¸Šå±‚åº”ç”¨çš„éƒ¨ç½²å’Œæ‰˜ç®¡ã€‚</li><li>è½¯ä»¶å³æœåŠ¡Saasï¼ˆSoftware as a Serviceï¼‰ï¼šæœåŠ¡å•†åŠæä¾›åŸºäºè½¯ä»¶çš„è§£å†³æ–¹æ¡ˆæ¥æ»¡è¶³å®¢æˆ·çš„éœ€æ±‚ï¼Œæ¯”å¦‚ç”¨æˆ·æƒ³è¦ä¸€å¥—OAåŠå…¬ç³»ç»Ÿï¼ŒCMSå†…å®¹ç®¡ç†ç³»ç»Ÿï¼ŒHRMäººäº‹ç®¡ç†ç³»ç»Ÿç­‰ï¼Œè€Œä¸ç”¨è‡ªè¡Œæ­å»ºå’Œç»´æŠ¤è¿™æ ·çš„æœåŠ¡ï¼Œèƒ½å¤Ÿç®€åŒ–ç”¨æˆ·çš„å·¥ä½œã€‚</li><li>å‡½æ•°å³æœåŠ¡FaaSï¼ˆFunction as a serviceï¼‰ï¼šæœåŠ¡å•†æä¾›ä¸€ä¸ªå¹³å°ï¼Œå…è®¸å®¢æˆ·å¼€å‘ã€è¿è¡Œå’Œç®¡ç†åº”ç”¨ç¨‹åºåŠŸèƒ½ï¼Œè€Œä¸ç”¨å…³å¿ƒå¦‚ä½•å¯åŠ¨å’Œéƒ¨ç½²è¿™æ ·çš„ç¨‹åºã€‚è¿™ä¸ªæ¨¡å¼æ˜¯â€œæ— æœåŠ¡å™¨â€ä½“ç³»æ¶æ„çš„æ–¹å¼ï¼Œå…·æœ‰çµæ´»æ€§ï¼Œé€‚åˆæ„å»ºå¾®æœåŠ¡åº”ç”¨ç¨‹åºã€‚</li></ul><h3 id="äº‘åŸç”Ÿæ¶æ„"><a href="#äº‘åŸç”Ÿæ¶æ„" class="headerlink" title="äº‘åŸç”Ÿæ¶æ„"></a>äº‘åŸç”Ÿæ¶æ„</h3><p>äº‘åŸç”ŸæŠ€æœ¯ä¸ºå…¬å¸åœ¨å…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€æ··åˆäº‘ç­‰æ–°å‹åŠ¨æ€ç¯å¢ƒä¸­ï¼Œæ„å»ºå’Œè¿è¡Œå¯å¼¹æ€§æ‹“å±•çš„åº”ç”¨æä¾›äº†å¯èƒ½ã€‚</p><p>äº‘åŸç”Ÿä¸ºå…¬å¸æä¾›äº†ä»¥ä¸‹å…³é”®èƒ½åŠ›ï¼š</p><h3 id="å¼¹æ€§èµ„æºè°ƒåº¦"><a href="#å¼¹æ€§èµ„æºè°ƒåº¦" class="headerlink" title="å¼¹æ€§èµ„æºè°ƒåº¦"></a>å¼¹æ€§èµ„æºè°ƒåº¦</h3><ul><li>æœåŠ¡èµ„æºè°ƒåº¦ï¼šåˆ†é…å¾®æœåŠ¡ã€å¤§æœåŠ¡ä½¿ç”¨çš„èµ„æºã€‚</li><li>è®¡ç®—èµ„æºè°ƒåº¦ï¼šåˆ†é…åœ¨çº¿è®¡ç®—ã€ç¦»çº¿è®¡ç®—ä½¿ç”¨çš„èµ„æº</li><li>æ¶ˆæ¯é˜Ÿåˆ—ï¼šå’Œè®¡ç®—èµ„æºè°ƒåº¦ç±»ä¼¼ï¼Œæä¾›æµ·é‡çš„æ•°æ®ååå’Œå¤§æ•°æ®åˆ†æèƒ½åŠ›ã€‚</li></ul><h3 id="å¼¹æ€§å­˜å‚¨èµ„æº"><a href="#å¼¹æ€§å­˜å‚¨èµ„æº" class="headerlink" title="å¼¹æ€§å­˜å‚¨èµ„æº"></a>å¼¹æ€§å­˜å‚¨èµ„æº</h3><p>äº‘åŸç”Ÿè®©ç”¨æˆ·å¯ä»¥å°†å­˜å‚¨èµ„æºçœ‹ä½œæœåŠ¡ï¼Œå¯»æ‰¾å¯¹åº”çš„æœåŠ¡æ¥æ»¡è¶³è‡ªå·±çš„å­˜å‚¨éœ€æ±‚ã€‚</p><ul><li>ç»å…¸å­˜å‚¨ï¼šå¯¹è±¡å­˜å‚¨ã€å¤§æ•°æ®è®°å½•å­˜å‚¨ã€‚</li><li>å…³ç³»å‹æ•°æ®åº“ï¼šä¸šåŠ¡è®°å½•å­˜å‚¨ã€‚</li><li>å…ƒæ•°æ®ï¼šæä¾›æœåŠ¡å‘ç°èƒ½åŠ›</li><li>NoSQLï¼škey-valueå­˜å‚¨ï¼Œå®ç°ç¼“å­˜å’Œåˆ†å¸ƒå¼äº‹åŠ¡ã€‚</li></ul><h3 id="DevOps"><a href="#DevOps" class="headerlink" title="DevOps"></a>DevOps</h3><p>DevOpsè´¯ç©¿æ•´ä¸ªè½¯ä»¶å¼€å‘å‘¨æœŸï¼Œä½¿ç”¨ä¸€ç³»åˆ—è‡ªåŠ¨åŒ–æµç¨‹ï¼Œæé«˜è½¯ä»¶å¼€å‘ã€äº¤ä»˜çš„æ•ˆç‡ã€‚DevOpsæä¾›äº†æ•æ·å¼€å‘ã€æŒç»­é›†æˆ&#x2F;äº¤ä»˜ï¼ˆCI&#x2F;CDï¼‰çš„èƒ½åŠ›ã€‚</p><h3 id="å¾®æœåŠ¡æ¶æ„"><a href="#å¾®æœåŠ¡æ¶æ„" class="headerlink" title="å¾®æœåŠ¡æ¶æ„"></a>å¾®æœåŠ¡æ¶æ„</h3><p>å¾®æœåŠ¡æ¶æ„å®ç°ä¸šåŠ¡åŠŸèƒ½å•å…ƒçš„è§£è€¦ï¼ŒåŒæ—¶æä¾›ä¸€å¥—ç»Ÿä¸€çš„é€šä¿¡æ ‡å‡†ç¡®ä¿æœåŠ¡ä¹‹é—´çš„æ•°æ®æµé€šã€‚</p><p>å¾®æœåŠ¡å¸¸è§çš„é€šä¿¡æ ‡å‡†æ˜¯HTTPï¼ˆRESTful APIï¼‰å’ŒRPCï¼ˆThrift, gRPCï¼‰ï¼Œéœ€è¦ç»“åˆæ€§èƒ½ã€æœåŠ¡æ²»ç†ã€åè®®å¯è§£é‡Šæ€§æ¥é€‰æ‹©ã€‚å®é™…åœºæ™¯ä¸‹ï¼Œå¸¸å¸¸ä½¿ç”¨å¾®æœåŠ¡æ¡†æ¶æä¾›çš„é€šä¿¡èƒ½åŠ›ï¼Œè€Œä¸ç”¨è‡ªå·±ä»å¤´å®ç°ä¸€å¥—ã€‚</p><h3 id="æœåŠ¡ç½‘æ ¼"><a href="#æœåŠ¡ç½‘æ ¼" class="headerlink" title="æœåŠ¡ç½‘æ ¼"></a>æœåŠ¡ç½‘æ ¼</h3><p>æœåŠ¡ç½‘æ ¼å®ç°ä¸šåŠ¡ä¸æ²»ç†çš„ç»“æ„ä»¥åŠå¼‚æ„ç³»ç»Ÿæ²»ç†çš„ç»Ÿä¸€åŒ–ï¼Œä»è€Œæä¾›å¤æ‚çš„æ²»ç†èƒ½åŠ›ã€‚</p><h3 id="æœåŠ¡å‘ç°"><a href="#æœåŠ¡å‘ç°" class="headerlink" title="æœåŠ¡å‘ç°"></a>æœåŠ¡å‘ç°</h3><p>æœåŠ¡æ³¨å†Œä¸å‘ç° Eurekaæˆ–Consulç­‰æœåŠ¡å¯ä»¥ç”¨äºæœåŠ¡å‘ç°ã€‚</p><p>æœåŠ¡æ³¨å†Œä¸å‘ç°ä½¿æœåŠ¡å¯ä»¥åŠ¨æ€åœ°æ‰¾åˆ°å…¶ä»–æœåŠ¡çš„ä½ç½®ã€‚</p><pre><code class="go">// ä½¿ç”¨Consulè¿›è¡ŒæœåŠ¡æ³¨å†ŒconsulConfig := consulapi.DefaultConfig()consulConfig.Address = &quot;localhost:8500&quot;client, err := consulapi.NewClient(consulConfig)if err != nil &#123;    log.Fatal(err)&#125;// åˆ›å»ºæ–°çš„æœåŠ¡registration := new(consulapi.AgentServiceRegistration)registration.ID = &quot;my-service-id&quot;registration.Name = &quot;my-service&quot;registration.Port = 8080registration.Tags = []string&#123;&quot;my-service&quot;&#125;// æ³¨å†ŒæœåŠ¡agent := client.Agent()if err := agent.ServiceRegister(registration); err != nil &#123;    log.Fatal(err)&#125;// æœåŠ¡å‘ç°é€»è¾‘...</code></pre><h3 id="åˆ†å¸ƒå¼æ¶æ„"><a href="#åˆ†å¸ƒå¼æ¶æ„" class="headerlink" title="åˆ†å¸ƒå¼æ¶æ„"></a>åˆ†å¸ƒå¼æ¶æ„</h3><p>åˆ†å¸ƒå¼é”</p><p>åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œåè°ƒå¤šä¸ªèŠ‚ç‚¹çš„è®¿é—®èµ„æºå¯èƒ½ä¼šå˜å¾—å¤æ‚ã€‚åˆ†å¸ƒå¼é”æ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥åœ¨å¤šä¸ªèŠ‚ç‚¹ä¹‹é—´åŒæ­¥è®¿é—®ã€‚</p><p>å¯ä»¥ä½¿ç”¨Goè¯­è¨€å’ŒRedisåˆ›å»ºåˆ†å¸ƒå¼é”ï¼š</p><pre><code class="go">package mainimport (    &quot;fmt&quot;    &quot;github.com/go-redis/redis/v8&quot;    &quot;golang.org/x/net/context&quot;)func main() &#123;    rdb := redis.NewClient(&amp;redis.Options&#123;        Addr: &quot;localhost:6379&quot;,    &#125;)    ctx := context.Background()    lockKey := &quot;lock_key&quot;    // å°è¯•è·å–é”    locked, err := rdb.SetNX(ctx, lockKey, &quot;lock_value&quot;, 0).Result()    if err != nil || !locked &#123;        fmt.Println(&quot;è·å–é”å¤±è´¥&quot;)        return    &#125;    // æ‰§è¡Œä¸šåŠ¡é€»è¾‘...    // é‡Šæ”¾é”    rdb.Del(ctx, lockKey)    fmt.Println(&quot;ä¸šåŠ¡é€»è¾‘æ‰§è¡Œå®Œæ¯•ï¼Œé”å·²é‡Šæ”¾&quot;)&#125;</code></pre><h2 id="ä¼˜åŒ–æ–¹å¼"><a href="#ä¼˜åŒ–æ–¹å¼" class="headerlink" title="ä¼˜åŒ–æ–¹å¼"></a>ä¼˜åŒ–æ–¹å¼</h2><h3 id="ç¦»åœ¨çº¿èµ„æºå¹¶æ± "><a href="#ç¦»åœ¨çº¿èµ„æºå¹¶æ± " class="headerlink" title="ç¦»åœ¨çº¿èµ„æºå¹¶æ± "></a>ç¦»åœ¨çº¿èµ„æºå¹¶æ± </h3><p>åœ¨çº¿ä¸šåŠ¡ä»¥<strong>IOå¯†é›†å‹</strong>ä¸ºä¸»ï¼Œè¦æ±‚è®¡ç®—çš„<strong>å®æ—¶æ€§</strong>ï¼Œä½†æ˜¯å…·æœ‰<strong>æ½®æ±æ€§</strong>ï¼Œä¸åŒæ—¶é—´æ®µçš„å‹åŠ›ä¸åŒã€‚ç¦»çº¿ä¸šåŠ¡ä»¥<strong>è®¡ç®—å¯†é›†å‹</strong>ä¸ºä¸»ï¼Œå¯¹è®¡ç®—å®æ—¶æ€§ä¸é«˜ã€‚</p><p>æŠŠåœ¨çº¿å’Œç¦»çº¿èµ„æºæ”¾å…¥åŒä¸€ä¸ªèµ„æºæ± è¿›è¡Œè°ƒåº¦ï¼Œåˆ©ç”¨åœ¨çº¿ä¸šåŠ¡çš„æ½®æ±æ€§è‡ªåŠ¨æ‰©ç¼©å®¹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé™ä½ç‰©ç†èµ„æºæˆæœ¬ï¼Œæä¾›æ›´å¤šçš„å¼¹æ€§èµ„æºï¼Œå¢åŠ æ”¶ç›Šã€‚</p><h3 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h3><p>ç®€å•çš„httpè´Ÿè½½å‡è¡¡ è½®è¯¢ç®—æ³•</p><pre><code class="go">package mainimport (    &quot;net/http&quot;    &quot;net/http/httputil&quot;    &quot;net/url&quot;)var servers = []string&#123;    &quot;http://localhost:8081&quot;,    &quot;http://localhost:8082&quot;,&#125;var currentServer = 0func nextServer() string &#123;    server := servers[currentServer]    currentServer = (currentServer + 1) % len(servers)    return server&#125;func main() &#123;    http.HandleFunc(&quot;/&quot;, func(w http.ResponseWriter, r *http.Request) &#123;        server := nextServer()        target, _ := url.Parse(server)        proxy := httputil.NewSingleHostReverseProxy(target)        proxy.ServeHTTP(w, r)    &#125;)    http.ListenAndServe(&quot;:8080&quot;, nil)&#125;</code></pre><h3 id="äº²å’Œæ€§éƒ¨ç½²"><a href="#äº²å’Œæ€§éƒ¨ç½²" class="headerlink" title="äº²å’Œæ€§éƒ¨ç½²"></a>äº²å’Œæ€§éƒ¨ç½²</h3><p>å¦‚æœä¸¤ä¸ªå¾®æœåŠ¡ä¹‹é—´é€šä¿¡å¯†åˆ‡ï¼Œåˆ™è¿™ä¸¤ä¸ªæœåŠ¡çš„äº²å’Œæ€§è¾ƒé«˜ã€‚å°†æ»¡è¶³äº²å’Œæ€§æ¡ä»¶çš„å®¹å™¨è°ƒåº¦åˆ°ä¸€å°å®¿ä¸»æœºï¼Œè®©å¾®æœåŠ¡ä¸­é—´ä»¶ä¸æœåŠ¡ç½‘æ ¼é€šè¿‡å…±äº«å†…å­˜é€šä¿¡ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé™ä½é€šä¿¡æˆæœ¬ï¼Œæé«˜æœåŠ¡å¯ç”¨æ€§ã€‚</p><h3 id="æµé‡æ²»ç†"><a href="#æµé‡æ²»ç†" class="headerlink" title="æµé‡æ²»ç†"></a>æµé‡æ²»ç†</h3><p>åŸºäºå¾®æœåŠ¡ä¸­é—´ä»¶å’ŒæœåŠ¡ç½‘æ ¼çš„æµé‡æ²»ç†ï¼Œèµ‹äºˆå¾®æœåŠ¡ç†”æ–­ã€é‡è¯•çš„èƒ½åŠ›ï¼Œæä¾›å¤æ‚ç¯å¢ƒä¸‹çš„æµé‡è°ƒåº¦ï¼Œå¯ä»¥æé«˜å¾®æœåŠ¡è°ƒç”¨å®¹é”™æ€§ï¼Œå¢å¼ºå®¹ç¾èƒ½åŠ›ï¼Œè¿˜èƒ½è¿›ä¸€æ­¥æé«˜å¼€å‘æ•ˆç‡ã€‚</p><h3 id="CPUæ°´ä½è´Ÿè½½å‡è¡¡"><a href="#CPUæ°´ä½è´Ÿè½½å‡è¡¡" class="headerlink" title="CPUæ°´ä½è´Ÿè½½å‡è¡¡"></a>CPUæ°´ä½è´Ÿè½½å‡è¡¡</h3><p>ç»“åˆIaaSæä¾›çš„èµ„æºæ¢é’ˆå’ŒæœåŠ¡ç½‘æ ¼çš„è´Ÿè½½å‡è¡¡èƒ½åŠ›ï¼Œèƒ½å¤Ÿä¸ºè‡ªåŠ¨æ‰©ç¼©å®¹æä¾›åé¦ˆï¼Œæ‰“å¹³å¼‚æ„ç¯å¢ƒä¸‹ç®—åŠ›çš„å·®å¼‚ã€‚</p><h3 id="å®¹å™¨åŒ–ä¸æœåŠ¡ç¼–æ’"><a href="#å®¹å™¨åŒ–ä¸æœåŠ¡ç¼–æ’" class="headerlink" title="å®¹å™¨åŒ–ä¸æœåŠ¡ç¼–æ’"></a>å®¹å™¨åŒ–ä¸æœåŠ¡ç¼–æ’</h3><p>Docker</p><p>å¯ä»¥ä½¿ç”¨Dockerå°†Goåº”ç”¨ç¨‹åºæ‰“åŒ…åˆ°å®¹å™¨ä¸­ï¼Œå¹¶ç¡®ä¿å®ƒåœ¨ä»»ä½•æ”¯æŒDockerçš„å¹³å°ä¸Šä»¥ç›¸åŒçš„æ–¹å¼è¿è¡Œã€‚</p><p>Kubernetes</p><p>Kubernetesæ˜¯ä¸€ç§å¼ºå¤§çš„å®¹å™¨ç¼–æ’å·¥å…·ï¼Œç”¨äºè‡ªåŠ¨éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚Goè¯­è¨€æ˜¯Kubernetesçš„ä¸»è¦å®ç°è¯­è¨€ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç°ä»£è½¯ä»¶æ¶æ„çš„å¤æ‚æ€§å’Œçµæ´»æ€§è¦æ±‚äº†è§£è®¸å¤šæ¦‚å¿µå’ŒæŠ€æœ¯ã€‚ä»å•æœºåˆ°åˆ†å¸ƒå¼ï¼Œä»å•ä½“åˆ°å¾®æœåŠ¡ï¼Œæ¶æ„æ¼”åŒ–ä¸ºæ»¡è¶³ä¸æ–­å¢é•¿çš„éœ€æ±‚ã€‚</p><p>é€šè¿‡ä½¿ç”¨å¼ºå¤§å’Œçµæ´»çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¦‚Goï¼Œæ‚¨å¯ä»¥æ„å»ºç¬¦åˆè¿™äº›éœ€æ±‚çš„è§£å†³æ–¹æ¡ˆã€‚ä»åˆ†å¸ƒå¼é”åˆ°æœåŠ¡å‘ç°ï¼Œä»è´Ÿè½½å‡è¡¡åˆ°å¾®æœåŠ¡é€šä¿¡ï¼ŒGoä¸ºæ„å»ºç°ä»£ã€å¯æ‰©å±•å’Œé«˜æ€§èƒ½çš„ç³»ç»Ÿæä¾›äº†å¼ºå¤§çš„å·¥å…·å’Œåº“ã€‚</p><p>ä¸æ–­å­¦ä¹ å’Œå®è·µè¿™äº›æ¦‚å¿µå’ŒæŠ€æœ¯å°†ä½¿æ‚¨æ›´å¥½åœ°è®¾è®¡å’Œæ„å»ºå¤æ‚çš„ç³»ç»Ÿï¼Œæ»¡è¶³ä¸šåŠ¡ç›®æ ‡ï¼Œå¹¶åº”å¯¹æœªæ¥çš„æŒ‘æˆ˜ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gorm åˆä½“éªŒ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/08/23/gorm%E5%88%9D%E4%BD%93%E9%AA%8C%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/08/23/gorm%E5%88%9D%E4%BD%93%E9%AA%8C%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="gorm"><a href="#gorm" class="headerlink" title="gorm"></a>gorm</h2><p><img src="https://gorm.io/gorm.svg"></p><p>gormæ˜¯Golangè¯­è¨€ä¸­ä¸€æ¬¾æ€§èƒ½æå¥½çš„ORMåº“ï¼Œå¯¹å¼€å‘äººå‘˜ç›¸å¯¹æ˜¯æ¯”è¾ƒå‹å¥½çš„ã€‚æ¥ä¸‹æ¥ä¸»è¦å­¦ä¹ ä¸‹gormåº“çš„ä¸€äº›åŸºæœ¬ä½¿ç”¨ã€‚</p><p>åŠŸèƒ½æ¦‚è§ˆ</p><ul><li>å…¨åŠŸèƒ½ ORM</li><li>å…³è” (Has Oneï¼ŒHas Manyï¼ŒBelongs Toï¼ŒMany To Manyï¼Œå¤šæ€ï¼Œå•è¡¨ç»§æ‰¿)</li><li>Createï¼ŒSaveï¼ŒUpdateï¼ŒDeleteï¼ŒFind ä¸­é’©å­æ–¹æ³•</li><li>æ”¯æŒ Preloadã€Joins çš„é¢„åŠ è½½</li><li>äº‹åŠ¡ï¼ŒåµŒå¥—äº‹åŠ¡ï¼ŒSave Pointï¼ŒRollback To Saved Point</li><li>Contextã€é¢„ç¼–è¯‘æ¨¡å¼ã€DryRun æ¨¡å¼</li><li>æ‰¹é‡æ’å…¥ï¼ŒFindInBatchesï¼ŒFind&#x2F;Create with Mapï¼Œä½¿ç”¨ SQL è¡¨è¾¾å¼ã€Context Valuer è¿›è¡Œ CRUD</li><li>SQL æ„å»ºå™¨ï¼ŒUpsertï¼Œæ•°æ®åº“é”ï¼ŒOptimizer&#x2F;Index&#x2F;Comment Hintï¼Œå‘½åå‚æ•°ï¼Œå­æŸ¥è¯¢<br>å¤åˆä¸»é”®ï¼Œç´¢å¼•ï¼Œçº¦æŸ</li><li>Auto Migration</li><li>è‡ªå®šä¹‰ Logger</li><li>çµæ´»çš„å¯æ‰©å±•æ’ä»¶ APIï¼šDatabase Resolverï¼ˆå¤šæ•°æ®åº“ï¼Œè¯»å†™åˆ†ç¦»ï¼‰ã€Prometheusâ€¦</li><li>æ¯ä¸ªç‰¹æ€§éƒ½ç»è¿‡äº†æµ‹è¯•çš„é‡é‡è€ƒéªŒ</li><li>å¼€å‘è€…å‹å¥½</li></ul><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>å®‰è£…</p><pre><code class="bash">go get -u gorm.io/gormgo get -u gorm.io/driver/sqlite</code></pre><h3 id="æ¨¡å‹å®šä¹‰"><a href="#æ¨¡å‹å®šä¹‰" class="headerlink" title="æ¨¡å‹å®šä¹‰"></a>æ¨¡å‹å®šä¹‰</h3><h4 id="åŸºæœ¬å®šä¹‰"><a href="#åŸºæœ¬å®šä¹‰" class="headerlink" title="åŸºæœ¬å®šä¹‰"></a>åŸºæœ¬å®šä¹‰</h4><p>å› ä¸ºormå¯ä»¥è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“ï¼Œåˆ›å»ºè¡¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç”¨ä¸€ä¸ªçº¦å®šçš„å½¢å¼æ¥æè¿°ä¸€ä¸ªschemaï¼Œä¾¿äºä»–åˆ›å»ºè¡¨ï¼Œä¹Ÿä¾¿äºä»£ç ä¸­è°ƒç”¨</p><p>ä¾‹å¦‚</p><pre><code class="go">type User struct &#123;  Name         string  Email        string  Age          uint8&#125;</code></pre><p>è¿™æ ·çš„ä¸€ä¸ªç»“æ„ä½“å°±å¯ä»¥æè¿°userè¿™ä¸ªè¡¨</p><h4 id="gorm-Model"><a href="#gorm-Model" class="headerlink" title="gorm.Model"></a>gorm.Model</h4><pre><code class="go">// gorm.Model çš„å®šä¹‰type Model struct &#123;  ID        uint           `gorm:&quot;primaryKey&quot;`  CreatedAt time.Time  UpdatedAt time.Time  DeletedAt gorm.DeletedAt `gorm:&quot;index&quot;`&#125;</code></pre><p>è¿™ä¸ªçº¦å®šäº†ä¸€äº›gormçš„æ ‡å‡†é…ç½®ï¼Œç›¸å½“äºimplementäº†è¿™ä¸ªç»“æ„ä½“</p><p>ä¾‹å¦‚</p><pre><code class="go">type User struct &#123;  gorm.Model  Name         string  Email        string  Age          uint8&#125;</code></pre><p>è¿™æ ·è¿™ä¸ªgorm.Modelç›¸å½“äºåœ¨userè¡¨é‡Œæ·»åŠ äº†ä¸€äº›åŸºç¡€çš„å­—æ®µ</p><p>è¿™ä¸ªuseræœ€ç»ˆä¼šå˜æˆ ç›¸å½“äº</p><pre><code class="go">type User struct &#123;  ID        uint           `gorm:&quot;primaryKey&quot;`  CreatedAt time.Time  UpdatedAt time.Time  DeletedAt gorm.DeletedAt `gorm:&quot;index&quot;`  Name         string  Email        string  Age          uint8&#125;</code></pre><h4 id="åµŒå…¥ç»“æ„ä½“"><a href="#åµŒå…¥ç»“æ„ä½“" class="headerlink" title="åµŒå…¥ç»“æ„ä½“"></a>åµŒå…¥ç»“æ„ä½“</h4><p>å¦‚ä¸Šçš„gorm.Modelå°±æ˜¯ä¸€ç§åµŒå…¥ç»“æ„ä½“</p><p>å®˜ç½‘çš„è§£é‡Šæ˜¯ï¼šå¯¹äºåŒ¿åå­—æ®µï¼ŒGORM ä¼šå°†å…¶å­—æ®µåŒ…å«åœ¨çˆ¶ç»“æ„ä½“ä¸­</p><p>å…¶ä»–åµŒå…¥æ–¹æ³•ä¸ºï¼š</p><p>å¯¹äºæ­£å¸¸çš„ç»“æ„ä½“å­—æ®µï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡æ ‡ç­¾ embedded å°†å…¶åµŒå…¥ï¼Œä¾‹å¦‚ï¼š</p><pre><code class="go">type Author struct &#123;    Name  string    Email string&#125;type Blog struct &#123;  ID      int  Author  Author `gorm:&quot;embedded&quot;`  Upvotes int32&#125;</code></pre><pre><code class="go">// å®ƒç­‰æ•ˆäºtype Blog struct &#123;  ID    int64  Name  string  Email string  Upvotes  int32&#125;</code></pre><blockquote><p>å¯ä»¥ä½¿ç”¨æ ‡ç­¾ embeddedPrefix æ¥ä¸º db ä¸­çš„å­—æ®µåæ·»åŠ å‰ç¼€<br>Author  Author &#96;gorm:â€embedded;embeddedPrefix:author_â€</p></blockquote><h4 id="å­—æ®µæ ‡ç­¾"><a href="#å­—æ®µæ ‡ç­¾" class="headerlink" title="å­—æ®µæ ‡ç­¾"></a>å­—æ®µæ ‡ç­¾</h4><p>å£°æ˜ model æ—¶ï¼Œtag æ˜¯å¯é€‰çš„ï¼Œgorm æ”¯æŒä»¥ä¸‹è¿™äº› tagï¼š tag åå¤§å°å†™ä¸æ•æ„Ÿï¼Œä½†æˆ‘ä»¬å†™çš„æ—¶å€™æœ€å¥½ç”¨é©¼å³°å‘½åæ³•ã€‚</p><p>å†™æ³•ä¸º åœ¨å­—æ®µåé¢æ·»åŠ é£˜å·å’Œgorm:</p><p>ä¾‹å¦‚</p><pre>ID        uint           `gorm:"primaryKey"`</pre><table><thead><tr><th align="left">æ ‡ç­¾å</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">column</td><td align="left">æŒ‡å®š database çš„åˆ—å</td></tr><tr><td align="left">type</td><td align="left">åˆ—æ•°æ®ç±»å‹ï¼Œæ¨èä½¿ç”¨å…¼å®¹æ€§å¥½çš„é€šç”¨ç±»å‹ï¼Œä¾‹å¦‚ï¼šæ‰€æœ‰æ•°æ®åº“éƒ½æ”¯æŒ boolã€intã€uintã€floatã€stringã€timeã€bytes å¹¶ä¸”å¯ä»¥å’Œå…¶ä»–æ ‡ç­¾ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š<code>not null</code>ã€<code>size</code>, <code>autoIncrement</code>â€¦ åƒ <code>varbinary(8)</code> è¿™æ ·æŒ‡å®šæ•°æ®åº“æ•°æ®ç±»å‹ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚åœ¨ä½¿ç”¨æŒ‡å®šæ•°æ®åº“æ•°æ®ç±»å‹æ—¶ï¼Œå®ƒéœ€è¦æ˜¯å®Œæ•´çš„æ•°æ®åº“æ•°æ®ç±»å‹ï¼Œå¦‚ï¼š<code>MEDIUMINT UNSIGNED not NULL AUTO_INCREMENT</code></td></tr><tr><td align="left">serializer</td><td align="left">æŒ‡å®šå°†æ•°æ®åºåˆ—åŒ–æˆ–ååºåˆ—åŒ–åˆ°æ•°æ®åº“ä¸­çš„åºåˆ—åŒ–å™¨, ä¾‹å¦‚: <code>serializer:json/gob/unixtime</code></td></tr><tr><td align="left">size</td><td align="left">å®šä¹‰åˆ—æ•°æ®ç±»å‹çš„å¤§å°æˆ–é•¿åº¦ï¼Œä¾‹å¦‚ <code>size: 256</code></td></tr><tr><td align="left">primaryKey</td><td align="left">å°†åˆ—å®šä¹‰ä¸ºä¸»é”®</td></tr><tr><td align="left">unique</td><td align="left">å°†åˆ—å®šä¹‰ä¸ºå”¯ä¸€é”®</td></tr><tr><td align="left">default</td><td align="left">å®šä¹‰åˆ—çš„é»˜è®¤å€¼</td></tr><tr><td align="left">precision</td><td align="left">æŒ‡å®šåˆ—çš„ç²¾åº¦</td></tr><tr><td align="left">scale</td><td align="left">æŒ‡å®šåˆ—å¤§å°</td></tr><tr><td align="left">not null</td><td align="left">æŒ‡å®šåˆ—ä¸º NOT NULL</td></tr><tr><td align="left">autoIncrement</td><td align="left">æŒ‡å®šåˆ—ä¸ºè‡ªåŠ¨å¢é•¿</td></tr><tr><td align="left">autoIncrementIncrement</td><td align="left">è‡ªåŠ¨æ­¥é•¿ï¼Œæ§åˆ¶è¿ç»­è®°å½•ä¹‹é—´çš„é—´éš”</td></tr><tr><td align="left">embedded</td><td align="left">åµŒå¥—å­—æ®µ</td></tr><tr><td align="left">embeddedPrefix</td><td align="left">åµŒå…¥å­—æ®µçš„åˆ—åå‰ç¼€</td></tr><tr><td align="left">autoCreateTime</td><td align="left">åˆ›å»ºæ—¶è¿½è¸ªå½“å‰æ—¶é—´ï¼Œå¯¹äº <code>int</code> å­—æ®µï¼Œå®ƒä¼šè¿½è¸ªæ—¶é—´æˆ³ç§’æ•°ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>nano</code>&#x2F;<code>milli</code> æ¥è¿½è¸ªçº³ç§’ã€æ¯«ç§’æ—¶é—´æˆ³ï¼Œä¾‹å¦‚ï¼š<code>autoCreateTime:nano</code></td></tr><tr><td align="left">autoUpdateTime</td><td align="left">åˆ›å»º&#x2F;æ›´æ–°æ—¶è¿½è¸ªå½“å‰æ—¶é—´ï¼Œå¯¹äº <code>int</code> å­—æ®µï¼Œå®ƒä¼šè¿½è¸ªæ—¶é—´æˆ³ç§’æ•°ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>nano</code>&#x2F;<code>milli</code> æ¥è¿½è¸ªçº³ç§’ã€æ¯«ç§’æ—¶é—´æˆ³ï¼Œä¾‹å¦‚ï¼š<code>autoUpdateTime:milli</code></td></tr><tr><td align="left">index</td><td align="left">æ ¹æ®å‚æ•°åˆ›å»ºç´¢å¼•ï¼Œå¤šä¸ªå­—æ®µä½¿ç”¨ç›¸åŒçš„åç§°åˆ™åˆ›å»ºå¤åˆç´¢å¼•ï¼ŒæŸ¥çœ‹ <a href="https://gorm.io/zh_CN/docs/indexes.html">ç´¢å¼•</a> è·å–è¯¦æƒ…</td></tr><tr><td align="left">uniqueIndex</td><td align="left">ä¸ <code>index</code> ç›¸åŒï¼Œä½†åˆ›å»ºçš„æ˜¯å”¯ä¸€ç´¢å¼•</td></tr><tr><td align="left">check</td><td align="left">åˆ›å»ºæ£€æŸ¥çº¦æŸï¼Œä¾‹å¦‚ <code>check:age &gt; 13</code>ï¼ŒæŸ¥çœ‹ <a href="https://gorm.io/zh_CN/docs/constraints.html">çº¦æŸ</a> è·å–è¯¦æƒ…</td></tr><tr><td align="left">&lt;-</td><td align="left">è®¾ç½®å­—æ®µå†™å…¥çš„æƒé™ï¼Œ <code>&lt;-:create</code> åªåˆ›å»ºã€<code>&lt;-:update</code> åªæ›´æ–°ã€<code>&lt;-:false</code> æ— å†™å…¥æƒé™ã€<code>&lt;-</code> åˆ›å»ºå’Œæ›´æ–°æƒé™</td></tr><tr><td align="left">-&gt;</td><td align="left">è®¾ç½®å­—æ®µè¯»çš„æƒé™ï¼Œ<code>-&gt;:false</code> æ— è¯»æƒé™</td></tr><tr><td align="left">-</td><td align="left">å¿½ç•¥è¯¥å­—æ®µï¼Œ<code>-</code> è¡¨ç¤ºæ— è¯»å†™ï¼Œ<code>-:migration</code> è¡¨ç¤ºæ— è¿ç§»æƒé™ï¼Œ<code>-:all</code> è¡¨ç¤ºæ— è¯»å†™è¿ç§»æƒé™</td></tr><tr><td align="left">comment</td><td align="left">è¿ç§»æ—¶ä¸ºå­—æ®µæ·»åŠ æ³¨é‡Š</td></tr></tbody></table><h3 id="è¿æ¥æ•°æ®åº“"><a href="#è¿æ¥æ•°æ®åº“" class="headerlink" title="è¿æ¥æ•°æ®åº“"></a>è¿æ¥æ•°æ®åº“</h3><p>å®˜æ–¹æä¾›çš„ä»£ç </p><pre><code class="go">import (  &quot;gorm.io/driver/mysql&quot;  &quot;gorm.io/gorm&quot;)func main() &#123;  // å‚è€ƒ https://github.com/go-sql-driver/mysql#dsn-data-source-name è·å–è¯¦æƒ…  dsn := &quot;user:pass@tcp(127.0.0.1:3306)/dbname?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;  db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;&#125;)&#125;</code></pre><p>è¿™é‡Œæˆ‘æä¾›ä¸€ç§å°è£…æ–¹æ¡ˆï¼Œå› ä¸ºä¸€èˆ¬æ•°æ®åº“é…ç½®å†™åœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œé˜²æ­¢æ³„éœ²ä¸ä¸»ä»£ç åˆ†ç¦»â€˜</p><pre><code class="go">import (    &quot;fmt&quot;    &quot;gorm.io/driver/mysql&quot;    &quot;gorm.io/gorm&quot;    &quot;gorm.io/gorm/schema&quot;)type Config struct &#123;    // æ•°æ®åº“é…ç½®    DBList DBListConf&#125;type DBListConf struct &#123;    Mysql MysqlConf&#125;type MysqlConf struct &#123;    Address     string    Username    string    Password    string    DBName      string    TablePrefix string&#125;type ServiceContext struct &#123;    Config Config    DBList *DBList&#125;type DBList struct &#123;    Mysql *gorm.DB&#125;func NewServiceContext(c Config) *ServiceContext &#123;    return &amp;ServiceContext&#123;        Config: c,        DBList: initDB(c),    &#125;&#125;func initDB(c Config) *DBList &#123;    dbList := new(DBList)    dbList.Mysql = initMysql(c)    return dbList&#125;func initMysql(c Config) *gorm.DB &#123;    dsn := fmt.Sprintf(&quot;%s:%s@tcp(%s)/%s?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;,        c.DBList.Mysql.Username,        c.DBList.Mysql.Password,        c.DBList.Mysql.Address,        c.DBList.Mysql.DBName,    )    db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;        NamingStrategy: schema.NamingStrategy&#123;            TablePrefix:   c.DBList.Mysql.TablePrefix, // è¡¨åå‰ç¼€            SingularTable: true,                       // ä½¿ç”¨å•æ•°è¡¨å        &#125;,        DisableForeignKeyConstraintWhenMigrating: true,    &#125;)    if err != nil &#123;        panic(err)    &#125;    // è‡ªåŠ¨å»ºè¡¨    err = db.AutoMigrate(&amp;model.Video&#123;&#125;, &amp;model.Favorite&#123;&#125;, &amp;model.Comment&#123;&#125;)    if err != nil &#123;        panic(err)    &#125;    return db&#125;func main() &#123;    // åˆ›å»ºé…ç½®å®ä¾‹    config := Config&#123;        DBList: DBListConf&#123;            Mysql: MysqlConf&#123;                Address:     &quot;Address&quot;,                Username:    &quot;root&quot;,                Password:    &quot;1111111111111&quot;,                DBName:      &quot;dbname&quot;,                TablePrefix: &quot;Prefix&quot;,            &#125;,        &#125;,    &#125;    // åˆ›å»ºæœåŠ¡ä¸Šä¸‹æ–‡    serviceContext := NewServiceContext(config)        // åœ¨è¿™é‡Œä½ å¯ä»¥ä½¿ç”¨ serviceContext è¿›è¡Œæ“ä½œ    // ...    fmt.Println(&quot;Database initialization and configuration completed.&quot;)&#125;</code></pre><p>è¿™é‡Œå‡ºç°äº†è‡ªåŠ¨å»ºè¡¨çš„æ“ä½œAutoMigrate ä½ éœ€è¦æŠŠä½ æƒ³è¦åˆ›å»ºçš„æ¨¡å‹ä¼ è¿›æ¥è‡ªåŠ¨å»ºè¡¨</p><h2 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h2><h3 id="1-C"><a href="#1-C" class="headerlink" title="1. C"></a>1. C</h3><p>æ¥ä¸‹æ¥å¼€å§‹ crud,</p><p>å‡å¦‚ä½ æœ‰ä¸€ä¸ªuserè¡¨ï¼Œå¯ä»¥ä½¿ç”¨createåˆ›å»ºå¤šä¸ªæ•°æ®</p><pre><code class="go">users := []*User&#123;    User&#123;Name: &quot;Jinzhu&quot;, Age: 18, Birthday: time.Now()&#125;,    User&#123;Name: &quot;Jackson&quot;, Age: 19, Birthday: time.Now()&#125;,&#125;result := db.Create(users) // pass a slice to insert multiple rowresult.Error        // returns errorresult.RowsAffected // returns inserted records count</code></pre><p>Errorç›¸ä¿¡ä½ ä¼šæ¥</p><pre><code class="go">if result.Error != nil &#123;    return exit&#125;</code></pre><p>æˆ–è€…å¯ä»¥ç›´æ¥åœ¨createé‡Œ</p><pre><code class="go">err := db.create().Errorif err != nil &#123;    return exit&#125;</code></pre><h3 id="2-R"><a href="#2-R" class="headerlink" title="2.R"></a>2.R</h3><p>æ ¹æ®ä¸»é”®æ£€ç´¢</p><pre><code class="go">db.First(&amp;user, 10)// SELECT * FROM users WHERE id = 10;db.First(&amp;user, &quot;10&quot;)// SELECT * FROM users WHERE id = 10;db.Find(&amp;users, []int&#123;1,2,3&#125;)// SELECT * FROM users WHERE id IN (1,2,3);</code></pre><p>è¿™é‡Œçš„firstä¸ºæ£€ç´¢ç¬¬ä¸€ä¸ª limitä¸º1</p><p>æ£€ç´¢å…¨éƒ¨å¯¹è±¡</p><pre><code class="go">// Get all recordsresult := db.Find(&amp;users)// SELECT * FROM users;result.RowsAffected // returns found records count, equals `len(users)`result.Error        // returns error</code></pre><p>æ¡ä»¶æ£€ç´¢</p><p>è¿™æ ·ç›¸å½“äºæ‹¼sqlè¯­å¥</p><pre><code class="go">// Get first matched recorddb.Where(&quot;name = ?&quot;, &quot;jinzhu&quot;).First(&amp;user)// SELECT * FROM users WHERE name = &#39;jinzhu&#39; ORDER BY id LIMIT 1;// Get all matched recordsdb.Where(&quot;name &lt;&gt; ?&quot;, &quot;jinzhu&quot;).Find(&amp;users)// SELECT * FROM users WHERE name &lt;&gt; &#39;jinzhu&#39;;// INdb.Where(&quot;name IN ?&quot;, []string&#123;&quot;jinzhu&quot;, &quot;jinzhu 2&quot;&#125;).Find(&amp;users)// SELECT * FROM users WHERE name IN (&#39;jinzhu&#39;,&#39;jinzhu 2&#39;);// LIKEdb.Where(&quot;name LIKE ?&quot;, &quot;%jin%&quot;).Find(&amp;users)// SELECT * FROM users WHERE name LIKE &#39;%jin%&#39;;// ANDdb.Where(&quot;name = ? AND age &gt;= ?&quot;, &quot;jinzhu&quot;, &quot;22&quot;).Find(&amp;users)// SELECT * FROM users WHERE name = &#39;jinzhu&#39; AND age &gt;= 22;// Timedb.Where(&quot;updated_at &gt; ?&quot;, lastWeek).Find(&amp;users)// SELECT * FROM users WHERE updated_at &gt; &#39;2000-01-01 00:00:00&#39;;// BETWEENdb.Where(&quot;created_at BETWEEN ? AND ?&quot;, lastWeek, today).Find(&amp;users)// SELECT * FROM users WHERE created_at BETWEEN &#39;2000-01-01 00:00:00&#39; AND &#39;2000-01-08 00:00:00&#39;;</code></pre><p>é«˜çº§æŸ¥è¯¢ <a href="https://gorm.io/zh_CN/docs/advanced_query.html">https://gorm.io/zh_CN/docs/advanced_query.html</a></p><h3 id="3-U"><a href="#3-U" class="headerlink" title="3.U"></a>3.U</h3><p>æ›´æ–° æ‰€æœ‰å­—æ®µ</p><pre><code class="go">db.Save(&amp;User&#123;Name: &quot;jinzhu&quot;, Age: 100&#125;)// INSERT INTO `users` (`name`,`age`,`birthday`,`update_at`) VALUES (&quot;jinzhu&quot;,100,&quot;0000-00-00 00:00:00&quot;,&quot;0000-00-00 00:00:00&quot;)db.Save(&amp;User&#123;ID: 1, Name: &quot;jinzhu&quot;, Age: 100&#125;)// UPDATE `users` SET `name`=&quot;jinzhu&quot;,`age`=100,`birthday`=&quot;0000-00-00 00:00:00&quot;,`update_at`=&quot;0000-00-00 00:00:00&quot; WHERE `id` = 1</code></pre><p>æ›´å¤šæ›´æ–°æ–¹æ³• <a href="https://gorm.io/zh_CN/docs/update.html">https://gorm.io/zh_CN/docs/update.html</a></p><h3 id="4-D"><a href="#4-D" class="headerlink" title="4.D"></a>4.D</h3><p>åˆ é™¤ä¸€æ¡è®°å½• </p><pre><code class="go">// Email çš„ ID æ˜¯ `10`db.Delete(&amp;email)// DELETE from emails where id = 10;// å¸¦é¢å¤–æ¡ä»¶çš„åˆ é™¤db.Where(&quot;name = ?&quot;, &quot;jinzhu&quot;).Delete(&amp;email)// DELETE from emails where id = 10 AND name = &quot;jinzhu&quot;;</code></pre><p>æ›´å¤šåˆ é™¤æ–¹æ³• <a href="https://gorm.io/zh_CN/docs/delete.html">https://gorm.io/zh_CN/docs/delete.html</a></p><p>å…¶ä¸­çš„è½¯åˆ é™¤æ„Ÿè§‰å¾ˆæœ‰ç”¨</p><blockquote><p>å½“è°ƒç”¨Deleteæ—¶ï¼ŒGORMå¹¶ä¸ä¼šä»æ•°æ®åº“ä¸­åˆ é™¤è¯¥è®°å½•ï¼Œè€Œæ˜¯å°†è¯¥è®°å½•çš„DeleteAtè®¾ç½®ä¸ºå½“å‰æ—¶é—´ï¼Œè€Œåçš„ä¸€èˆ¬æŸ¥è¯¢æ–¹æ³•å°†æ— æ³•æŸ¥æ‰¾åˆ°æ­¤æ¡è®°å½•ã€‚</p></blockquote><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>gormæ˜¯ä¸ªå¾ˆå¥½ç”¨çš„goçš„ormæ¡†æ¶ï¼Œå¯¹å¾ˆå¤šæ•°æ®åº“éƒ½å…¼å®¹</p><p>æ€§èƒ½ä¹Ÿå¾ˆå¥½ï¼Œæ“ä½œèµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goè¯­è¨€ä¸‰ä¸ªå°é¡¹ç›® ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/07/25/go%E8%AF%AD%E8%A8%80%E4%B8%89%E4%B8%AA%E5%B0%8F%E9%A1%B9%E7%9B%AE%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/07/25/go%E8%AF%AD%E8%A8%80%E4%B8%89%E4%B8%AA%E5%B0%8F%E9%A1%B9%E7%9B%AE%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="çŒœæ•°å­—"><a href="#çŒœæ•°å­—" class="headerlink" title="çŒœæ•°å­—"></a>çŒœæ•°å­—</h2><ol><li>çŒœæ•°å­—<br>è¿™ä¸ªé¡¹ç›®éå¸¸ç®€å•ï¼Œå®ƒæ¶‰åŠåˆ°éšæœºæ•°çš„ç”Ÿæˆå’Œç”¨æˆ·è¾“å…¥æ“ä½œã€‚<br>æˆ‘ä»¬ä½¿ç”¨äº†bufioåº“æ¥å¤„ç†è¾“å…¥æ•°æ®ã€‚</li></ol><pre><code class="go">reader := bufio.NewReader(os.Stdin)input, _ := reader.ReadString(&#39;\n&#39;)</code></pre><h2 id="ç®€å•å­—å…¸"><a href="#ç®€å•å­—å…¸" class="headerlink" title="ç®€å•å­—å…¸"></a>ç®€å•å­—å…¸</h2><ol start="2"><li>æ ‡å‡†åº“strconv<br>å®ƒä¸»è¦ç”¨äºå­—ç¬¦å’Œå…¶ä»–ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚</li></ol><pre><code class="go">strconv.Atoi(s string) int </code></pre><ol start="3"><li>æ ‡å‡†åº“strings</li></ol><pre><code class="go">strings.TrimSuffix(s string ,  suffix string) string</code></pre><p>åˆ é™¤æœ«å°¾å­—ç¬¦ï¼Œå¦‚æœæ²¡æœ‰å°±æ­£å¸¸è¿”å›</p><ol start="4"><li>ç½‘ç»œåº“</li></ol><pre><code class="go">client := &amp;http.Client&#123;&#125;</code></pre><p>åˆå§‹åŒ–è¯·æ±‚å®¢æˆ·ç«¯</p><pre><code class="go">req,  err := http.NewRequest(&quot;POST&quot;, &quot;https://api.interpreter.caiyunai.com/v1/dict&quot;,  data)</code></pre><p>æ„é€ å¤´</p><pre><code class="go">req.Header.Set(&quot;authority&quot;,  &quot;api.interpreter.caiyunai.com&quot;)</code></pre><p>è¯·æ±‚</p><pre><code class="go">bodyText,  err := io.ReadAll(resp.Body)err = json.Unmarshal(bodyText,  &amp;dictResponse)</code></pre><ol start="5"><li>osåº“</li></ol><pre><code class="go">word := os.Args[1]</code></pre><p>è·å–ç¯å¢ƒå‚æ•°</p><h2 id="socks5ä»£ç†"><a href="#socks5ä»£ç†" class="headerlink" title="socks5ä»£ç†"></a>socks5ä»£ç†</h2><pre><code class="go">package mainimport (    &quot;context&quot;    &quot;encoding/binary&quot;    &quot;fmt&quot;    &quot;io&quot;    &quot;net&quot;)const (    socks5Ver  = 0x05    atypeIPV4  = 0x01    atypeHOST  = 0x03    cmdConnect = 0x01)func main() &#123;    // å‡è®¾åœ¨è¿™é‡Œå»ºç«‹ä¸€ä¸ª net.Listener ç›‘å¬ Socks5 ä»£ç†è¯·æ±‚    for &#123;        client, err := acceptConnection()        if err != nil &#123;            continue        &#125;        // å¼€å¯ä¸€ä¸ª goroutine å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚        go handleSocks5Client(client)    &#125;&#125;func acceptConnection() (net.Conn, error) &#123;    // å®ç°æ¥æ”¶è¿æ¥è¯·æ±‚çš„é€»è¾‘&#125;func handleSocks5Client(conn net.Conn) &#123;    defer conn.Close()    // é‰´æƒé˜¶æ®µ    if err := auth(conn); err != nil &#123;        fmt.Println(&quot;Authentication error:&quot;, err)        return    &#125;    // é€šè®¯é˜¶æ®µ    addr, err := connect(conn)    if err != nil &#123;        fmt.Println(&quot;Connection error:&quot;, err)        return    &#125;    // ç»™å®¢æˆ·ç«¯å›åŒ…ï¼Œè¡¨ç¤ºè¿æ¥æˆåŠŸ    _, _ = conn.Write([]byte&#123;socks5Ver, 0x00, 0x00, atypeIPV4, 0, 0, 0, 0, 0, 0&#125;)    // å¼€å§‹è¿›è¡Œæ•°æ®è½¬å‘    dest, err := net.Dial(&quot;tcp&quot;, addr)    if err != nil &#123;        fmt.Println(&quot;Failed to connect to destination:&quot;, err)        return    &#125;    defer dest.Close()    ctx, cancel := context.WithCancel(context.Background())    defer cancel()    // ä»å®¢æˆ·ç«¯åˆ°ç›®æ ‡åœ°å€çš„æ•°æ®æ‹·è´    go func() &#123;        _, _ = io.Copy(dest, conn)        cancel()    &#125;()    // ä»ç›®æ ‡åœ°å€åˆ°å®¢æˆ·ç«¯çš„æ•°æ®æ‹·è´    go func() &#123;        _, _ = io.Copy(conn, dest)        cancel()    &#125;()    &lt;-ctx.Done()&#125;func auth(conn net.Conn) error &#123;    buf := make([]byte, 2)    _, err := io.ReadFull(conn, buf)    if err != nil &#123;        return err    &#125;    ver, nmethods := buf[0], buf[1]    methods := make([]byte, nmethods)    _, err = io.ReadFull(conn, methods)    if err != nil &#123;        return err    &#125;    // åœ¨è¿™é‡Œæ ¹æ®æ”¶åˆ°çš„ methods è¿›è¡Œè®¤è¯å¤„ç†    // å‡è®¾è¿™é‡Œé€‰æ‹©ä¸éœ€è¦è®¤è¯ï¼Œå›åŒ…å‘ŠçŸ¥å®¢æˆ·ç«¯ä¸éœ€è¦è®¤è¯    _, err = conn.Write([]byte&#123;socks5Ver, 0x00&#125;)    if err != nil &#123;        return err    &#125;    return nil&#125;func connect(conn net.Conn) (string, error) &#123;    buf := make([]byte, 4)    _, err := io.ReadFull(conn, buf)    if err != nil &#123;        return &quot;&quot;, err    &#125;    ver, cmd, _, atyp := buf[0], buf[1], buf[2], buf[3]    if ver != socks5Ver || cmd != cmdConnect &#123;        return &quot;&quot;, fmt.Errorf(&quot;Unsupported SOCKS5 command&quot;)    &#125;    var addr string    switch atyp &#123;    case atypeIPV4:        buf := make([]byte, 4)        _, err := io.ReadFull(conn, buf)        if err != nil &#123;            return &quot;&quot;, err        &#125;        addr = fmt.Sprintf(&quot;%d.%d.%d.%d&quot;, buf[0], buf[1], buf[2], buf[3])    case atypeHOST:        hostSizeBuf := make([]byte, 1)        _, err := io.ReadFull(conn, hostSizeBuf)        if err != nil &#123;            return &quot;&quot;, err        &#125;        hostSize := int(hostSizeBuf[0])        hostBuf := make([]byte, hostSize)        _, err = io.ReadFull(conn, hostBuf)        if err != nil &#123;            return &quot;&quot;, err        &#125;        addr = string(hostBuf)    &#125;    portBuf := make([]byte, 2)    _, err = io.ReadFull(conn, portBuf)    if err != nil &#123;        return &quot;&quot;, err    &#125;    port := binary.BigEndian.Uint16(portBuf)    return fmt.Sprintf(&quot;%v:%v&quot;, addr, port), nil&#125;</code></pre><p>ä½¿ç”¨ SOCKS5 ä»£ç†çš„å®ç°ï¼Œæ¶µç›–äº†ä»¥ä¸‹ä¸»è¦æ­¥éª¤ï¼š</p><p>é‰´æƒé˜¶æ®µï¼š</p><p>è§£æå®¢æˆ·ç«¯å‘é€çš„ç‰ˆæœ¬å·ã€æ”¯æŒçš„è®¤è¯æ–¹æ³•æ•°é‡å’Œè®¤è¯æ–¹æ³•åˆ—è¡¨ã€‚<br>é’ˆå¯¹æ”¯æŒçš„è®¤è¯æ–¹æ³•è¿›è¡ŒéªŒè¯ï¼Œè¿”å›è®¤è¯æˆåŠŸçš„å›åŒ…ã€‚<br>é€šè®¯é˜¶æ®µï¼š</p><p>è§£æå®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬å·ã€å‘½ä»¤ç±»å‹ã€ç›®æ ‡åœ°å€ç±»å‹ã€ç›®æ ‡åœ°å€ã€ç›®æ ‡ç«¯å£ç­‰ä¿¡æ¯ã€‚<br>æ ¹æ®ç›®æ ‡åœ°å€ç±»å‹å’Œåœ°å€è§£ææ–¹å¼ï¼Œè·å–ç›®æ ‡åœ°å€å’Œç«¯å£å·ã€‚<br>å‘ç›®æ ‡åœ°å€å‘èµ·è¿æ¥è¯·æ±‚ï¼Œå¹¶è¿”å›è¿æ¥æˆåŠŸçš„å›åŒ…ã€‚<br>è¿›ç¨‹ç®¡ç†ï¼š</p><p>ä½¿ç”¨ goroutine åå°å¼€å¯ä¸¤ä¸ªæœåŠ¡å™¨äº¤äº’è¿›ç¨‹ã€‚<br>é€šè¿‡ context åº“è¿›è¡Œè¿›ç¨‹ç®¡ç†ï¼Œç¡®ä¿è¿›ç¨‹åœ¨å¿…è¦æ—¶å¯ä»¥è¢«å…³é—­ã€‚<br>å°†å®¢æˆ·ç«¯å’Œç›®æ ‡ä¹‹é—´çš„æ•°æ®äº’ç›¸æ‹·è´ï¼Œä½¿å¾—æ•°æ®èƒ½å¤Ÿåœ¨ä¸¤è€…ä¹‹é—´ä¼ é€’ã€‚</p><h2 id="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"></a>å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š</h2><p>åœ¨è¿™èŠ‚è¯¾å­¦ä¹ çš„å†…å®¹ä¸­ï¼Œæˆ‘æ”¶è·äº†å¾ˆå¤šå…³äºGoè¯­è¨€ç¼–ç¨‹çš„çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„æ„Ÿæƒ³ï¼š</p><p>Goè¯­è¨€çš„ç®€æ´å’Œé«˜æ•ˆï¼šé€šè¿‡å­¦ä¹ è¿™äº›åŸºç¡€æ ‡å‡†åº“å’Œç›¸å…³åŠŸèƒ½ï¼Œæˆ‘æ·±åˆ»æ„Ÿå—åˆ°Goè¯­è¨€çš„ç®€æ´å’Œé«˜æ•ˆã€‚æ ‡å‡†åº“æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œè®©ç¼–ç¨‹å˜å¾—æ›´åŠ ç®€å•å’Œé«˜æ•ˆã€‚</p><p>æ•°æ®ç±»å‹è½¬æ¢å’Œå­—ç¬¦ä¸²å¤„ç†ï¼šå­¦ä¹ äº†strconvå’ŒstringsåŒ…ï¼Œå¯¹äºæ•°æ®ç±»å‹è½¬æ¢å’Œå­—ç¬¦ä¸²å¤„ç†æœ‰äº†æ›´æ·±å…¥çš„äº†è§£ã€‚è¿™äº›å·¥å…·ä½¿å¾—åœ¨å¤„ç†ç”¨æˆ·è¾“å…¥å’Œæ•°æ®è½¬æ¢æ—¶æ›´åŠ æ–¹ä¾¿ã€‚</p><p>ç½‘ç»œç¼–ç¨‹å’ŒHTTPåº“ï¼šäº†è§£äº†Goè¯­è¨€ä¸­çš„ç½‘ç»œç¼–ç¨‹å’Œnet&#x2F;httpåŒ…ï¼Œæˆ‘ç°åœ¨èƒ½å¤Ÿç¼–å†™ç®€å•çš„HTTPæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼Œè¿™å¯¹äºå¼€å‘ç½‘ç»œåº”ç”¨å’ŒæœåŠ¡ç«¯ç¨‹åºéå¸¸æœ‰ç”¨ã€‚</p><p>æ–‡ä»¶æ“ä½œå’Œç³»ç»Ÿäº¤äº’ï¼šé€šè¿‡osåŒ…çš„å­¦ä¹ ï¼Œæˆ‘å­¦ä¼šäº†å¦‚ä½•åœ¨Goè¯­è¨€ä¸­è¿›è¡Œæ–‡ä»¶æ“ä½œå’Œä¸æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œè¿™å¯¹äºå¤„ç†æ–‡ä»¶å’Œç³»ç»Ÿé…ç½®ååˆ†é‡è¦ã€‚</p><p>ä»£ç†å’Œé‰´æƒï¼šå­¦ä¹ äº†socks5ä»£ç†å’Œé‰´æƒæœºåˆ¶ï¼Œæˆ‘å¯¹ç½‘ç»œä»£ç†å’Œå®‰å…¨è®¤è¯æœ‰äº†æ›´æ·±åˆ»çš„ç†è§£ï¼Œè¿™å¯¹äºå¼€å‘å®‰å…¨æ€§è¾ƒé«˜çš„åº”ç”¨éå¸¸é‡è¦ã€‚</p><p>ä¸Šä¸‹æ–‡å¤„ç†ï¼šcontextåŒ…çš„å­¦ä¹ ä½¿æˆ‘äº†è§£äº†åœ¨Goè¯­è¨€ä¸­å¦‚ä½•ä¼˜é›…åœ°å¤„ç†è¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œæ›´å¥½åœ°æ§åˆ¶è¯·æ±‚çš„æµç¨‹å’Œç”Ÿå‘½å‘¨æœŸã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LINUX æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†</title>
      <link href="/2023/05/08/%E6%8C%91%E6%88%98%EF%BC%9A%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86/"/>
      <url>/2023/05/08/%E6%8C%91%E6%88%98%EF%BC%9A%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="LINUX-æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†"><a href="#LINUX-æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†" class="headerlink" title="LINUX æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†"></a>LINUX æŒ‘æˆ˜ï¼šç”¨æˆ·å’Œç»„ç®¡ç†</h1><ol><li></li></ol><pre><code>wget https://labfile.oss.aliyuncs.com/courses/2585/06.tar.gztar -xzf 06.tar.gzchmod 700 ./06.sh./06.sh</code></pre><ol start="2"><li></li></ol><pre><code>sudo userdel guest2sudo userdel guest3sudo userdel guest4sudo userdel guest5sudo rm -rf /home/guest2sudo rm -rf /home/guest3sudo rm -rf /home/guest4sudo rm -rf /home/guest5sudo groupadd guestmkdir /tmp/tempusersudo usermod -u 2000 -g guest -d /tmp/tempuser guest1 </code></pre><ol start="3"><li></li></ol><pre><code>sudo mkdir /home/vsftpdusersudo useradd vsftpduser -d /home/vsftpduser -s /usr/sbin/nologin sudo chown vsftpduser /home/vsftpdusersudo chgrp vsftpduser /home/vsftpdusersudo chmod 744 /home/vsftpduser</code></pre><ol start="4"><li></li></ol><pre><code>sudo useradd magsudo useradd devsudo useradd testsudo mkdir /srv/projectx/magsudo mkdir /srv/projectx/devsudo mkdir /srv/projectx/testsudo usermod -G dev magsudo chown dev:dev /srv/projectxsudo chmod 751 /srv/projectxsudo chmod o+rx /srv/projectx/devsudo chmod o+rx /srv/projectx/test</code></pre><ol start="5"><li></li></ol><pre><code>cat /etc/passwd | grep bash | cut -d &#39;:&#39; -f 1,3 &gt; users.txt</code></pre><ol start="6"><li></li></ol><pre><code>sudo useradd stusudo passwd stu123456123456sudo visudo:21# æŒ‰iå¾€é‡Œå†™stu ALL=(shiyanlou:shiyanlou) /bin/touch# é€€å‡ºæŒ‰:wq</code></pre><ol start="7"><li></li></ol><pre><code>sudo passwd dev123456123456sudo touch /etc/sudoers.d/devsudo chmod 777 /etc/sudoers.d/devvim /etc/sudoers.d/dev# æŒ‰iå¾€é‡Œå†™dev  ALL=(root:root) /usr/sbin/useradd# é€€å‡ºæŒ‰:wq</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Linuxå®éªŒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web å¼€å‘å®‰å…¨ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/02/08/Web%20%E5%BC%80%E5%8F%91%E5%AE%89%E5%85%A8%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/02/08/Web%20%E5%BC%80%E5%8F%91%E5%AE%89%E5%85%A8%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 17 å¤©</strong></p><h2 id="è¯¾ç¨‹é‡ç‚¹"><a href="#è¯¾ç¨‹é‡ç‚¹" class="headerlink" title="è¯¾ç¨‹é‡ç‚¹"></a>è¯¾ç¨‹é‡ç‚¹</h2><ul><li><p>Web ç›¸å…³çš„æ”»å‡»ä»‹ç»</p></li><li><p>Web ç›¸å…³çš„é˜²å¾¡ä»‹ç»</p></li></ul><h2 id="è¯¦ç»†ä»‹ç»"><a href="#è¯¦ç»†ä»‹ç»" class="headerlink" title="è¯¦ç»†ä»‹ç»"></a>è¯¦ç»†ä»‹ç»</h2><h3 id="XSS-Cross-Site-Scripting"><a href="#XSS-Cross-Site-Scripting" class="headerlink" title="XSS (Cross-Site Scripting)"></a>XSS (Cross-Site Scripting)</h3><p>ä¸»è¦æ˜¯ç”±äºç›²ç›®ä¿¡ä»»ç”¨æˆ·è¾“å…¥ï¼Œç›´æ¥å°†ç”¨æˆ·è¾“å…¥æ¸²æŸ“å‡ºæ¥ï¼Œå¯¼è‡´äº†æ”»å‡»è„šæœ¬çš„æ¤å…¥</p><p>ç‰¹ç‚¹ï¼š</p><ol><li>é€šå¸¸éš¾ä»¥ä» UI ä¸Šæ„ŸçŸ¥</li><li>çªƒå–ç”¨æˆ·ä¿¡æ¯ï¼Œä¾‹å¦‚ cookie å’Œ token</li></ol><p>å¸¸è§çš„ä¼šå¯¼è‡´XSSçš„ä»£ç ï¼š</p><pre><code>document.writeel.innerHTML = anyString</code></pre><p>æ€»ç»“æ¥è¯´ï¼Œæ‰€æœ‰èƒ½å¤Ÿæ¸²æŸ“domç»“æ„çš„å‡½æ•°ï¼Œéƒ½æœ‰å¯èƒ½å¯¼è‡´XSSæ”»å‡»ã€‚</p><p>æ¯”å¦‚è®ºå›åœºæ™¯ä¸­ï¼Œ<strong>ç”¨æˆ·æäº¤çš„å†…å®¹åŒ…å«æ¶æ„scriptæ ‡ç­¾</strong></p><pre><code class="js">fetch(&quot;/submit&quot;, &#123;    body: JSON.stringify(&#123;        id: &quot;1&quot;,        content: `&lt;script&gt;alert(&quot;xss&quot;);&lt;/script&gt;`    &#125;)&#125;)</code></pre><p>å¯¼è‡´ä»£ç è¢«æ’å…¥åˆ°å¸–å­ä¸­ï¼Œæ‰€æœ‰ç”¨æˆ·è®¿é—®é¡µé¢éƒ½ä¼šæ‰§è¡Œæ¶æ„è„šæœ¬</p><p>XSS èƒ½å¤Ÿåˆ†æˆä¸‹é¢å››ç±»</p><p><code>Stored XSS</code> ç›´æ¥å°†æ¶æ„è„šæœ¬å‚¨å­˜åˆ°äº†æ•°æ®åº“ä¸­ï¼Œå¯¼è‡´ä¹‹åçš„æ‰€æœ‰è®¿é—®å‡ä¼šæºå¸¦æ¶æ„è„šæœ¬ï¼Œå±å®³å¾ˆå¤§</p><pre><code>Reflected XSS` åå°„å‹ï¼Œä¸å‚¨å­˜æ•°æ®ï¼Œä»…ä»…ä»URLä¼ å…¥è„šæœ¬å¯¼è‡´æ”»å‡»ï¼Œä¾‹å¦‚ `/path?param=&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt;</code></pre><p><code>DOM-based XSS</code> ä¸ç”±æœåŠ¡å™¨å‚ä¸ï¼Œæ”»å‡»çš„å‘èµ·å’Œæ‰§è¡Œéƒ½åœ¨æµè§ˆå™¨ï¼Œå¸¸è§äºå‰ç«¯æ¡†æ¶ä¸­</p><p><code>Mutation-based XSS</code> åˆ©ç”¨æµè§ˆå™¨çš„ç‰¹æ€§ï¼Œä¸åŒæµè§ˆå™¨ä¼šæœ‰åŒºåˆ«ï¼Œä¾‹å¦‚</p><pre><code>&lt;noscript&gt;&lt;p title=&quot;&lt;/noscript&gt;&lt;img src=x onerror=alert(1)&gt;&quot;&gt;</code></pre><h3 id="CSRF-Cross-site-request-forgery"><a href="#CSRF-Cross-site-request-forgery" class="headerlink" title="CSRF (Cross-site request forgery)"></a>CSRF (Cross-site request forgery)</h3><p>ç‰¹ç‚¹ï¼š</p><ol><li>åœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„å‰æä¸‹</li><li>åˆ©ç”¨ç”¨æˆ·æƒé™ï¼ˆcookieï¼‰</li><li>æ„é€ æŒ‡å®šHTTPè¯·æ±‚ï¼Œçªƒå–æˆ–ä¿®æ”¹ç”¨æˆ·æ•æ„Ÿä¿¡æ¯</li></ol><p>ä¾‹å­ï¼š</p><p>ç”¨æˆ·æ²¡æœ‰è®¿é—®é“¶è¡Œç½‘é¡µï¼Œä½†æ˜¯è®¿é—®äº†ä¸€ä¸ªå¸¦æœ‰æ”»å‡»å†…å®¹çš„ç½‘é¡µï¼Œè¯¥ç½‘é¡µå°è¯•è¯·æ±‚é“¶è¡Œæ¥å£ï¼Œç”±äºç”¨æˆ·ç™»å½•è¿‡é“¶è¡Œï¼Œæ¥å£æºå¸¦cookieï¼Œå¯¼è‡´è¯·æ±‚æˆåŠŸï¼Œä½¿å¾—ç”¨æˆ·å—åˆ°æŸå¤±ã€‚</p><h3 id="SQL-æ³¨å…¥-SQL-Injection"><a href="#SQL-æ³¨å…¥-SQL-Injection" class="headerlink" title="SQL æ³¨å…¥ (SQL Injection)"></a>SQL æ³¨å…¥ (SQL Injection)</h3><p>åœ¨è¯·æ±‚å‚æ•°ä¸­æ„é€ æ¶æ„å­—ç¬¦ä¸²ï¼Œæ‹¼æ¥SQLè¯­å¥ï¼Œå¯¼è‡´æœåŠ¡å™¨æ‰§è¡Œäº†ç‰¹å®šçš„SQLè¯­å¥ï¼Œé€ æˆæ•°æ®åº“å†…å®¹æ³„éœ²</p><p>ä¾‹å­ï¼š</p><pre><code class="js">sql.query(`    SELECT a, b, c FROM table    WHERE username = $&#123;username&#125;    AND form_id = $&#123;form_id&#125;`)</code></pre><p>ä¸Šé¢çš„è¿™æ®µåç«¯ä»£ç ï¼Œæ”»å‡»è€…å°±èƒ½å¤Ÿé€šè¿‡æ„é€ ç‰¹æ®Šçš„ username æˆ– form_idï¼Œä½¿å¾—SQLè¯­å¥çš„æ„ä¹‰è¢«æ”¹å˜</p><p>ä¾‹å¦‚ä¼ å…¥ form_id &#x3D; <code>any; DROP TABLE table;</code></p><p>SQL è¯­å¥æ‹¼æ¥åå˜æˆ <code>SELECT a,b,c FROM table WHERE xxxx AND form_id = any; DROP TABLE table;</code></p><p>å°†å¯¼è‡´æ•°æ®åº“è¢«åˆ é™¤</p><h3 id="SSRF-Server-Side-Request-Forgery"><a href="#SSRF-Server-Side-Request-Forgery" class="headerlink" title="SSRF (Server-Side Request Forgery)"></a>SSRF (Server-Side Request Forgery)</h3><p>æœåŠ¡ç«¯ä¼ªé€ è¯·æ±‚</p><p>ä¾‹å­ï¼š</p><pre><code>ctx.body = await fetch(ctx.query.callback)</code></pre><p>å¯¼è‡´èƒ½å¤Ÿé€šè¿‡ä¼ å…¥çš„å‚æ•°è®¿é—®åˆ°æœåŠ¡å™¨å†…ç½‘çš„ç›¸å…³æœåŠ¡</p><h3 id="DoS-Denial-of-Service"><a href="#DoS-Denial-of-Service" class="headerlink" title="DoS (Denial of Service)"></a>DoS (Denial of Service)</h3><p><code>ã€Œ ä¸æå¤æ‚çš„ ï¼Œ é‡å¤§å°±å®Œäº‹å„¿äº† ã€</code></p><p>é€šè¿‡æ„é€ ç‰¹å®šè¯·æ±‚ï¼Œå¯¼è‡´æœåŠ¡å™¨èµ„æºè¢«æ¶ˆè€—ï¼Œæ¥ä¸åŠå“åº”æ›´å¤šè¯·æ±‚ï¼Œå¼•å‘é›ªå´©æ•ˆåº”</p><p>ä¾‹å¦‚ï¼š</p><ol><li>è€—æ—¶çš„åŒæ­¥æ“ä½œ</li><li>æ–‡ä»¶å¤‡ä»½</li><li>æ•°æ®åº“å†™å…¥</li><li>SQL join</li><li>å¾ªç¯æ‰§è¡Œé€»è¾‘</li></ol><h4 id="DDoS-Distributed-DoS"><a href="#DDoS-Distributed-DoS" class="headerlink" title="DDoS (Distributed DoS)"></a>DDoS (Distributed DoS)</h4><p>æ”»å‡»ç‰¹ç‚¹</p><ul><li>ç›´æ¥è®¿é—® IP</li><li>ä»»æ„ API</li><li>æ¶ˆè€—å¤§é‡å¸¦å®½ ï¼ˆ è€—å°½ ï¼‰</li></ul><p>SYN Flood</p><h2 id="å°¾å£°"><a href="#å°¾å£°" class="headerlink" title="å°¾å£°"></a>å°¾å£°</h2><p>å®‰å…¨æ— å°äº‹<br>ä½¿ç”¨çš„ä¾èµ– npm packageï¼Œç”šè‡³æ˜¯ NodeJS å¯èƒ½æˆä¸ºæœ€è–„å¼±çš„ä¸€ç¯</p><ul><li>ä¿æŒå­¦ä¹ å¿ƒæ€<br>npm install é™¤äº†å¸¦æ¥äº†æœæ´ ï¼Œ è¿˜å¯ä»¥å¸¦æ¥æ¼æ´</li></ul><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p><a href="https://bytedance.feishu.cn/file/boxcn9L4YzmTK3mwE3tIBL2UVme">https://bytedance.feishu.cn/file/boxcn9L4YzmTK3mwE3tIBL2UVme</a></p><p><a href="https://baike.baidu.com/item/XSS%E6%94%BB%E5%87%BB/954065">https://baike.baidu.com/item/XSS%E6%94%BB%E5%87%BB/954065</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NextJs ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/02/01/NextJS%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/02/01/NextJS%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 16 å¤©</strong></p><h2 id="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"><a href="#ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š" class="headerlink" title="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"></a>ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š</h2><ol><li>CSR, SSR, SSG</li><li>ä»€ä¹ˆæ˜¯ Next.js</li><li>Next.js å®¢æˆ·ç«¯å¼€å‘</li><li>Next.jsæœåŠ¡ç«¯å¼€å‘</li><li>æ ¸å¿ƒåŠŸèƒ½</li></ol><h2 id="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"><a href="#äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š" class="headerlink" title="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"></a>äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š</h2><h3 id="1-CSR-SSR-SSG"><a href="#1-CSR-SSR-SSG" class="headerlink" title="1. CSR, SSR, SSG"></a>1. CSR, SSR, SSG</h3><h4 id="1-CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“-Client-Side-Renderï¼‰"><a href="#1-CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“-Client-Side-Renderï¼‰" class="headerlink" title="1. CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“ Client Side Renderï¼‰"></a>1. CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“ Client Side Renderï¼‰</h4><p>å³åœ¨å®¢æˆ·ç«¯æ¸²æŸ“ç½‘é¡µç»“æ„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„ Vueã€React å‡é‡‡ç”¨è¿™ç§æ¨¡å¼ã€‚åœ¨æ„å»ºæ—¶å¹¶ä¸ä¼šç”ŸæˆHTMLç»“æ„ï¼Œä»…ä»…åŒ…å«jsä»£ç çš„å¼•ç”¨ã€‚åœ¨æµè§ˆå™¨ç«¯å°†HTMLç»“æ„æ¸²æŸ“å‡ºæ¥ã€‚å®¢æˆ·ç«¯æ¸²æŸ“ä¼šåœ¨é¡¹ç›®ä½“ç§¯è¾ƒå¤§çš„æ—¶å€™å¯èƒ½ä¼šå¯¼è‡´è¾ƒé•¿çš„é¦–å±åŠ è½½æ—¶é—´ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½ï¼Œä¸”å¯¹äºSSOæ¥è¯´å¹¶ä¸å‹å¥½ã€‚</p><h4 id="2-SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“-Server-Side-Renderï¼‰"><a href="#2-SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“-Server-Side-Renderï¼‰" class="headerlink" title="2. SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ Server Side Renderï¼‰"></a>2. SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ Server Side Renderï¼‰</h4><p>æµè§ˆå™¨è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç›´æ¥ç”ŸæˆHTMLç»“æ„å¹¶è¿”å›ï¼Œè¿™ç§æ¨¡å¼å…¶å®å¹¶ä¸å°‘è§ï¼Œæ›¾ç»çš„<code>php</code>å’Œ<code>jsp</code>éƒ½æ˜¯è¿™ç§æ¨¡å¼ã€‚<code>Vue</code> å’Œ <code>React</code> ä¹Ÿå¯¹è¿™ç§æ¨¡å¼è¿›è¡Œäº†æ”¯æŒï¼Œä¾‹å¦‚ React ä¸‹æœ‰ <code>Vercel</code> ä¸»å¯¼çš„ <code>Next.js</code> æ¡†æ¶æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ï¼ŒVue ä¸‹ä¹Ÿæœ‰ç±»ä¼¼çš„æ¡†æ¶ Nuxt.jsã€‚ä¸å‰è€…çš„åŒºåˆ«æ˜¯ï¼Œ<code>php</code>å’Œ<code>jsp</code>çš„å‰åç«¯ä»£ç å®é™…ä¸Šä»æ˜¯åˆ†ç¦»çš„ï¼Œéœ€è¦åŠ¨æ€äº¤äº’çš„éƒ¨åˆ†è¿˜æ˜¯éœ€è¦<code>js</code>ä»‹å…¥ã€‚è€Œ<code>React</code>å’Œ<code>Vue</code>åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½æ˜¯åŒä¸€å¥—ä»£ç ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´å…¶æ¯”å‰è€…å¤šäº†ä¸€æ­¥æ°´åˆ <code>hydrate</code> (ä¹Ÿç§°æ³¨æ°´) çš„æ“ä½œã€‚</p><p>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡ç«¯åœ¨ç”ŸæˆHTMLçš„åŒæ—¶å¯¹å…¶è¿›è¡Œâ€œè„±æ°´â€ï¼Œå³å°†æ¸²æŸ“ç»“æ„çš„åˆå§‹æ•°æ®åˆ†ç¦»å‡ºæ¥ï¼Œå•ç‹¬å‚¨å­˜ï¼Œä»¥ä¾¿è®©å‰ç«¯è¯»å–ã€‚åœ¨æµè§ˆå™¨æ”¶åˆ°é¡µé¢åï¼Œç›¸å…³çš„ä»£ç è¯»å–è¿™éƒ¨åˆ†å†…å®¹ï¼Œå†å¯¹htmlç»“æ„è¿›è¡Œâ€œæ³¨æ°´â€ï¼ˆæ°´åˆï¼‰ï¼Œä½¿å¾—æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æ•°æ®åŒæ­¥ï¼Œä¸”æµè§ˆå™¨ç«¯çš„å…ƒç´ èƒ½å¤Ÿæ­£å¸¸äº¤äº’ã€‚</p><p>æ¯”èµ·CSRï¼ŒSSRèƒ½å¤Ÿå¤§å¹…ç¼©çŸ­é¦–å±åŠ è½½çš„æ—¶é—´ï¼Œä¸”å¯¹äºSSOå‹å¥½ï¼Œä½†æ˜¯éœ€è¦æœåŠ¡å™¨æ”¯æŒã€‚</p><h4 id="3-SSGï¼ˆé™æ€ç½‘é¡µç”Ÿæˆ-Static-Site-Generationï¼‰"><a href="#3-SSGï¼ˆé™æ€ç½‘é¡µç”Ÿæˆ-Static-Site-Generationï¼‰" class="headerlink" title="3. SSGï¼ˆé™æ€ç½‘é¡µç”Ÿæˆ Static Site Generationï¼‰"></a>3. SSGï¼ˆé™æ€ç½‘é¡µç”Ÿæˆ Static Site Generationï¼‰</h4><p>è¿™ç§å½¢å¼å®é™…ä¸Šå’ŒSSRç±»ä¼¼ï¼Œä½†æ˜¯æ— éœ€è¿è¡Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ŒHTMLç»“æ„åœ¨æ„å»ºæ—¶å°±å·²ç»åˆ›å»ºå®Œäº†ï¼Œç”¨æˆ·è®¿é—®æ—¶ï¼Œä»ç„¶æ˜¯ä¸ªé™æ€é¡µï¼Œå´å…·æœ‰SSRé¦–å±åŠ è½½æ—¶é—´çŸ­çš„ä¼˜åŠ¿ï¼Œé€‚åˆé‚£äº›ä¿®æ”¹ä¸é¢‘ç¹çš„ç«™ç‚¹ï¼Œä¾‹å¦‚ä¸€äº›å¼€å‘æ–‡æ¡£ã€‚</p><h3 id="2-ä»€ä¹ˆæ˜¯-Next-js"><a href="#2-ä»€ä¹ˆæ˜¯-Next-js" class="headerlink" title="2.ä»€ä¹ˆæ˜¯ Next.js"></a>2.ä»€ä¹ˆæ˜¯ Next.js</h3><p>åŸºäº React æä¾›çš„ç›¸å…³æœåŠ¡å™¨ç«¯æ¸²æŸ“ API å®ç° ï¼Œ æ•´ä¸ªè¿‡ç¨‹å®ç°æ¯”è¾ƒç¹çé‡å¤ ï¼Œ ä»é›¶å®ç°å¯¹æ–°ä¸Šæ‰‹åŒå­¦å¾ˆä¸å‹å¥½è¿«åˆ‡éœ€è¦ä¸€ä¸ªå°è£…å¥½çš„é›†åˆæ¥å¿«é€Ÿä¸Šæ‰‹æœåŠ¡å™¨ç«¯æ¸²æŸ“ã€‚</p><p>Next.jsæ˜¯ä¸€ä¸ªæ„å»ºäº Node.jsä¹‹ä¸Šçš„å¼€æº we b å¼€å‘æ¡†æ¶ ï¼Œæ”¯æŒåŸºäº React çš„ web åº”ç”¨ç¨‹åºåŠŸèƒ½ ï¼Œ ä¾‹å¦‚æœåŠ¡ç«¯æ¸²æŸ“å’Œç”Ÿæˆé™æ€ç½‘ç«™ ã€‚ä¸Šæ‰‹å¿« ï¼Œ èƒ½åŠ›é›†å…¨ ï¼Œ è¦†ç›–äº†è¶³å¤Ÿå¤šçš„æ€§èƒ½ä¼˜åŒ–ã€‚</p><p>å¯¹äºæ–°åŒå­¦æŒæ¡å‰åç«¯ä¸€ä½“åŒ–çš„å¼€å‘æ¨¡å¼å¾ˆå‹å¥½ ã€‚</p><h3 id="3-Next-js-å®¢æˆ·ç«¯å¼€å‘"><a href="#3-Next-js-å®¢æˆ·ç«¯å¼€å‘" class="headerlink" title="3. Next.js å®¢æˆ·ç«¯å¼€å‘"></a>3. Next.js å®¢æˆ·ç«¯å¼€å‘</h3><ol><li>Next.js åˆå§‹åŒ–</li><li>æ•°æ®æ³¨å…¥</li><li><code>getlnitiaIProps</code></li><li><code>getServerSideProps</code></li><li><code>getStaticProps</code></li><li>CSS Modules</li><li>Layout</li><li>æ–‡ä»¶å¼è·¯ç”±</li><li>B F F å±‚çš„æ–‡ä»¶å¼è·¯ç”±</li><li>è·¯ç”±è·³è½¬</li><li>header çš„ä¿®æ”¹</li><li>å¤šåª’ä½“é€‚é…â€”â€” CSS é€‚é…</li><li>å¤šåª’ä½“é€‚é…â€”â€” JS é€‚é…</li><li>å¤§å›¾ä¼˜åŒ–â€”â€” webp</li></ol><h3 id="4-Next-jsæœåŠ¡ç«¯å¼€å‘"><a href="#4-Next-jsæœåŠ¡ç«¯å¼€å‘" class="headerlink" title="4. Next.jsæœåŠ¡ç«¯å¼€å‘"></a>4. Next.jsæœåŠ¡ç«¯å¼€å‘</h3><ol><li>BFF å±‚å¼€å‘</li><li>è°ƒè¯•æ–¹å¼</li><li>Strapi â€”â€” headless CMS</li></ol><h3 id="5-æ ¸å¿ƒåŠŸèƒ½"><a href="#5-æ ¸å¿ƒåŠŸèƒ½" class="headerlink" title="5. æ ¸å¿ƒåŠŸèƒ½"></a>5. æ ¸å¿ƒåŠŸèƒ½</h3><h4 id="é¦–é¡µåŠŸèƒ½å®ç°"><a href="#é¦–é¡µåŠŸèƒ½å®ç°" class="headerlink" title="é¦–é¡µåŠŸèƒ½å®ç°"></a>é¦–é¡µåŠŸèƒ½å®ç°</h4><ol><li>é¡µé¢ &amp; åŠ¨ç”» &amp; å¤šåª’ä½“é€‚é…</li><li>BFF</li><li>Strapi</li></ol><h4 id="æ–‡ç« é¡µå®ç°"><a href="#æ–‡ç« é¡µå®ç°" class="headerlink" title="æ–‡ç« é¡µå®ç°"></a>æ–‡ç« é¡µå®ç°</h4><ol><li>é¡µé¢ &amp; åŠ¨ç”» &amp; å¤šåª’ä½“é€‚é…</li><li>BFF</li><li>Strapi åˆ†é¡µ</li><li>å¤šåª’ä½“æ ¼å¼çš„è½¬æ¢<ul><li>markdown è½¬ html</li><li>html è½¬ dom</li><li>å…¬å…±æ ·å¼çš„å®šä¹‰</li></ul></li></ol><h4 id="ä¸»é¢˜åŒ–åŠŸèƒ½å®ç°"><a href="#ä¸»é¢˜åŒ–åŠŸèƒ½å®ç°" class="headerlink" title="ä¸»é¢˜åŒ–åŠŸèƒ½å®ç°"></a>ä¸»é¢˜åŒ–åŠŸèƒ½å®ç°</h4><ol><li>åŸºç¡€æ ·å¼å’ŒèƒŒæ™¯çš„æŠ½ç¦»</li><li>ä¸»é¢˜åŒ– <code>context</code> å…¨å±€æ³¨å…¥</li><li>ä»æ³¨å…¥æ•°æ®ä¸­å–å‡º <code>theme</code> å’Œ <code>setTheme</code></li><li>å¤šè¿›ç¨‹é—´çš„ä¸»é¢˜åŒæ­¥</li></ol><h2 id="ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š"><a href="#ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š" class="headerlink" title="ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š"></a>ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š</h2><h3 id="æ€è€ƒé¢˜-ï¼š-http-localhost-3000-å’Œ-http-127-0-0-1-3000-ä¸»é¢˜å¯ä»¥å…±äº«å—"><a href="#æ€è€ƒé¢˜-ï¼š-http-localhost-3000-å’Œ-http-127-0-0-1-3000-ä¸»é¢˜å¯ä»¥å…±äº«å—" class="headerlink" title="æ€è€ƒé¢˜ ï¼š http://localhost:3000 å’Œ http://127.0.0.1:3000 ä¸»é¢˜å¯ä»¥å…±äº«å—"></a>æ€è€ƒé¢˜ ï¼š <a href="http://localhost:3000/">http://localhost:3000</a> å’Œ <a href="http://127.0.0.1:3000/">http://127.0.0.1:3000</a> ä¸»é¢˜å¯ä»¥å…±äº«å—</h3><p>ç­”æ¡ˆæ˜¯<strong>ä¸èƒ½</strong></p><p>å¦‚æœå­˜åœ¨<code>localstorage</code>é‡Œ</p><p>é‚£ä¹ˆè¿™ä¿©åŸŸåä¸æ˜¯åŒåŸŸå</p><p>ä¸ä¼šå…±äº«</p><h3 id="åˆå§‹åŒ–-Next-js-é¡¹ç›®"><a href="#åˆå§‹åŒ–-Next-js-é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ– Next.js é¡¹ç›®"></a>åˆå§‹åŒ– Next.js é¡¹ç›®</h3><p>Next.js æä¾›äº†ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œç›´æ¥å°±èƒ½å¤Ÿåˆ›å»ºé¡¹ç›®</p><pre><code class="bash">npx create-next-app@latest --typescript</code></pre><p>æ¥ä¸‹æ¥å°±èƒ½å¤Ÿçœ‹åˆ°åˆ›å»ºå®Œæˆçš„é¡¹ç›®ç›®å½•äº†ã€‚å¯èƒ½ä¼šæœ‰ä¸‹é¢è¿™äº›æ–‡ä»¶</p><p><code>.eslintrc.json</code> - eslint çš„é…ç½®æ–‡ä»¶ï¼Œé…ç½®äº†eslintä½¿ç”¨çš„è¯­æ³•è§„åˆ™</p><p><code>.gitignore</code> - git ä»“åº“çš„å¿½ç•¥æ–‡ä»¶</p><p><code>next-env.d.ts</code> - TypeScript çš„ç±»å‹å®šä¹‰ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿å¼•å…¥Nextå£°æ˜çš„ç±»å‹</p><p><code>next.config.js</code> - Next.js çš„é…ç½®æ–‡ä»¶</p><p><code>pages</code> - é¡µé¢ç›®å½•</p><p><code>styles</code> - æ ·å¼ç›®å½•</p><p><code>public</code> - å…¬å…±èµ„æºç›®å½•ï¼Œä¼šåœ¨æ„å»ºæ—¶è¢«åŸæ ·æ‹·è´</p><h2 id="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"></a>å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š</h2><p>æœ¬æ¬¡è¯¾ç¨‹è®²è§£äº† Next.js çš„åŸºç¡€æ¦‚å¿µã€å®¢æˆ·ç«¯å¼€å‘ä»¥åŠæœåŠ¡ç«¯å¼€å‘ï¼Œä»¥åŠæ ¸å¿ƒåŠŸèƒ½çš„å®ç°ï¼Œè®©æˆ‘å¯¹ Next.js æ‹¥æœ‰äº†æ›´å¤šçš„äº†è§£ï¼Œå®ƒçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„å¼€å‘å¯ä»¥è®©æˆ‘ä»¬æ›´æœ‰æ•ˆçš„å®ç°åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨é¡¹ç›®æ„å»ºçš„æ—¶å€™å¯ä»¥åˆ©ç”¨å®ƒçš„è„šæ‰‹æ¶å¿«é€Ÿåˆ›å»ºé¡¹ç›®ï¼Œå®ç°æ›´åŠ é«˜æ•ˆçš„å¼€å‘ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NodeJSåŸºç¡€ ï½œ é’è®­è¥ç¬”è®°.md</title>
      <link href="/2023/01/31/NodeJS%E5%9F%BA%E7%A1%80%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/31/NodeJS%E5%9F%BA%E7%A1%80%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 15 å¤©</strong></p><h2 id="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"><a href="#ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š" class="headerlink" title="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"></a>ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š</h2><ol><li>NodeJS åº”ç”¨åœºæ™¯</li><li>NodeJS è¿è¡Œæ—¶ç»“æ„</li><li>ä½¿ç”¨ NodeJS ç¼–å†™ç®€å•çš„ HTTP Server</li><li>NodeJSå»¶ä¼¸</li></ol><h2 id="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"><a href="#äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š" class="headerlink" title="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"></a>äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š</h2><h3 id="1-NodeJSåº”ç”¨åœºæ™¯"><a href="#1-NodeJSåº”ç”¨åœºæ™¯" class="headerlink" title="1. NodeJSåº”ç”¨åœºæ™¯"></a>1. NodeJSåº”ç”¨åœºæ™¯</h3><p>NodeJSè¢«å¹¿æ³›åº”ç”¨äºå‰ç«¯å·¥ç¨‹åŒ–ï¼ˆ<code>Vue</code>ã€<code>React</code>ã€<code>AngularJS</code>ç­‰ï¼‰ã€</p><p>Web æœåŠ¡ç«¯åº”ç”¨ï¼ˆ<code>Vercel</code>ï¼‰å’Œ è·¨ç«¯æ¡Œé¢åº”ç”¨ï¼ˆ<code>Electron</code>ç­‰ï¼‰åœºæ™¯</p><p>è®¸å¤šç†ŸçŸ¥çš„æ‰“åŒ…æ„å»ºå·¥å…·éƒ½æœ‰NodeJSå‚ä¸ï¼Œä¾‹å¦‚ <code>webpack</code>ã€<code>vite</code>ã€<code>esbuild</code>å’Œ<code>parcel</code>ç­‰ï¼Œä¹Ÿæœ‰ä¾‹å¦‚<code>babel</code>å’Œ<code>TS</code>ç­‰è¯­è¨€è½¬æ¢ç¨‹åºä¹Ÿç”±<code>nodejs</code>ç¼–å†™ã€‚</p><p>åœ¨å‰ç«¯å·¥ç¨‹åŒ–é¢†åŸŸï¼Œ<code>NodeJS</code>ä¹Ÿæœ‰è®¸å¤šä¼˜åŠ¿ï¼Œé¦–å…ˆæ˜¯å­¦ä¹ æ›²çº¿å¹³ç¼“ã€å¼€å‘æ•ˆç‡è¾ƒé«˜ã€å…¶æ¬¡æ˜¯è¿è¡Œæ•ˆç‡è¾ƒé«˜ï¼Œç¤¾åŒºç”Ÿæ€ä¸°å¯Œã€‚ä¸”ç”±äºå…¶è¯­è¨€ä¼˜åŠ¿ï¼Œå’Œå‰ç«¯ç»“åˆæ›´åŠ é¡ºç•…ï¼Œä¾‹å¦‚æŸäº›æœåŠ¡ç«¯æ¸²æŸ“åœºæ™¯ã€‚</p><p>åœ¨è·¨ç«¯åº”ç”¨æ–¹é¢ï¼Œå¾®è½¯çš„<code>VSCode</code>ã€èŠå¤©å·¥å…·<code>Discord</code>éƒ½ç”±<code>Electron</code>å¼€å‘ï¼Œå€¼å¾—åœ¨é¡¹ç›®é€‰å‹æ—¶è€ƒè™‘ã€‚</p><p>éš¾ä»¥æ›¿ä»£</p><p>ä¸å‰ç«¯ç»“åˆçš„åœºæ™¯æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿SSR</p><p>å­—èŠ‚ä½¿ç”¨<code>NodeJS</code>ï¼Œé£ä¹¦å°±æ˜¯<code>electron</code>åº”ç”¨  æ¯å¹´æ–°å¢1000+<code>nodejs</code>åº”ç”¨</p><h3 id="2-NodeJSè¿è¡Œæ—¶ç»“æ„"><a href="#2-NodeJSè¿è¡Œæ—¶ç»“æ„" class="headerlink" title="2.NodeJSè¿è¡Œæ—¶ç»“æ„"></a>2.NodeJSè¿è¡Œæ—¶ç»“æ„</h3><ul><li>ç”¨æˆ·ä»£ç </li><li>npm</li><li>js core</li><li>cpp core</li><li>v8</li><li>openssl</li><li>â€¦</li></ul><p>å¼‚æ­¥ã€å•çº¿ç¨‹ã€è·¨å¹³å°</p><h3 id="3-ä½¿ç”¨-NodeJS-ç¼–å†™ç®€å•çš„-HTTP-Server"><a href="#3-ä½¿ç”¨-NodeJS-ç¼–å†™ç®€å•çš„-HTTP-Server" class="headerlink" title="3. ä½¿ç”¨ NodeJS ç¼–å†™ç®€å•çš„ HTTP Server"></a>3. ä½¿ç”¨ NodeJS ç¼–å†™ç®€å•çš„ HTTP Server</h3><p>0 ï¼ å®‰è£… <code>node.js</code><br>1 .    ç¼–å†™ Http Server + Client, æ”¶å‘ GET, POST è¯·æ±‚<br>2 ï¼ ç¼–å†™é™æ€æ–‡ä»¶æœåŠ¡å™¨<br>3 ï¼ ç¼–å†™ React SSR æœåŠ¡<br>4 ï¼ é€‚ç”¨ inspector è¿›è¡Œè°ƒè¯• ã€ è¯Šæ–­<br>5 ï¼ éƒ¨ç½²ç®€ä»‹</p><h3 id="4-NodeJSå»¶ä¼¸"><a href="#4-NodeJSå»¶ä¼¸" class="headerlink" title="4. NodeJSå»¶ä¼¸"></a>4. NodeJSå»¶ä¼¸</h3><ul><li>ç¼–è¯‘</li><li>è¯Šæ–­è¿½è¸ª</li><li>wasm</li><li>napi</li><li>â€¦</li></ul><h2 id="ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š"><a href="#ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š" class="headerlink" title="ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š"></a>ä¸‰ã€å®è·µç»ƒä¹ ä¾‹å­ï¼š</h2><h3 id="ç®€å•çš„-Hello-World"><a href="#ç®€å•çš„-Hello-World" class="headerlink" title="ç®€å•çš„ Hello World"></a>ç®€å•çš„ Hello World</h3><pre><code class="js">const http = require(&#39;http&#39;)const port = 3000const server = http.createServer((req, res) =&gt; &#123;    res.end(&#39;hello&#39;)&#125;)server.listen(port, () =&gt; &#123;    console.log(`listening port on $&#123;port&#125;`)&#125;)</code></pre><p>ä½¿ç”¨ <code>require(&#39;http&#39;)</code> å¼•ç”¨ NodeJS è‡ªå¸¦çš„ http æ¨¡å—ã€‚</p><p>ä½¿ç”¨ <code>createServer</code> æ–¹æ³•ä¸ºè¯·æ±‚ç»‘å®šå¤„ç†äº‹ä»¶å‡½æ•°ï¼Œ</p><p>ä½¿ç”¨ <code>res.end(&#39;hello&#39;)</code> æ¥ç»“æŸè¯·æ±‚å¹¶è¿”å› <code>hello</code> å­—ç¬¦ä¸²ã€‚</p><p>ä½¿ç”¨ <code>listen</code> å‡½æ•°è®¾ç½®ç›‘å¬çš„ç«¯å£ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç«¯å£å·ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç»‘å®šæˆåŠŸçš„å›è°ƒå‡½æ•°ã€‚</p><p>ç”¨æµè§ˆå™¨è®¿é—®127.0.0.1:3000 ä¼šæ˜¾ç¤ºhello</p><h3 id="ç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡"><a href="#ç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡" class="headerlink" title="ç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡"></a>ç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡</h3><pre><code class="js">const http = require(&#39;http&#39;)const fs = require(&#39;fs&#39;)const path = require(&#39;path&#39;)const url = require(&#39;url&#39;)const port = 3000const server = http.createServer((req, res) =&gt; &#123;    const info = url.parse(req.url)    const file = fs.createReadStream(path.resolve(__dirname, &#39;.&#39; + info.pathname))    file.pipe(res)&#125;)server.listen(port, () =&gt; &#123;    console.log(`listening port on $&#123;port&#125;`)&#125;)</code></pre><p>é€šè¿‡ NodeJS è‡ªå¸¦çš„æ–‡ä»¶æ“ä½œæ¨¡å— <code>fs</code> çš„ <code>createReadStream</code> åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶æµï¼Œ</p><p>é€šè¿‡æµå†…éƒ¨æ–¹æ³•pipeå°†å…¶è¾“å‡ºç»™resï¼ˆå“åº”å¯¹è±¡ï¼‰</p><p>èƒ½å°†å¯¹åº”è·¯å¾„çš„æ–‡ä»¶è¿”å›ç»™æµè§ˆå™¨</p><h2 id="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"></a>å››ã€è¯¾åä¸ªäººæ€»ç»“ï¼š</h2><p>ä»Šå¤©çš„è¯¾ç¨‹ä¸»è¦ä»‹ç»äº†<strong>NodeJS</strong>çš„åº”ç”¨åœºæ™¯ä»¥åŠè¿è¡Œæ—¶ç»“æ„ï¼Œå¹¶ä¸”ç»“åˆå®ä¾‹ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨<strong>NodeJS</strong>ç¼–å†™ç®€å•çš„HTTP Serverã€‚é€šè¿‡ä»Šå¤©çš„å­¦ä¹ ï¼Œæˆ‘æ›´åŠ æ·±å…¥åœ°äº†è§£äº†<strong>NodeJS</strong>ï¼Œå†æ¬¡æ„Ÿå—åˆ°å®ƒçš„å¼ºå¤§ï¼Œå®ƒå¯ä»¥åº”ç”¨äºå‰ç«¯å·¥ç¨‹åŒ–ã€Web æœåŠ¡ç«¯åº”ç”¨ä»¥åŠè·¨ç«¯æ¡Œé¢åº”ç”¨ç­‰å¤šç§åœºæ™¯ï¼Œå®ƒçš„æœªæ¥ä¹Ÿæ˜¯éå¸¸å¯è§‚çš„ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Slidev ç”¨markdownå†™PPTï¼ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/30/Slidev%20%E7%94%A8markdown%E5%86%99PPT%EF%BC%81%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/30/Slidev%20%E7%94%A8markdown%E5%86%99PPT%EF%BC%81%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 14 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><pre><code>æ¬¢è¿ä½¿ç”¨ Slidev!ä¸ºå¼€å‘è€…æ‰“é€ çš„æ¼”ç¤ºæ–‡ç¨¿å·¥å…·</code></pre><p>slidevæ˜¯slidevjså¼€å‘çš„ä¸€æ¬¾å¼€æºçš„ä½¿ç”¨markdownæ¥ç¼–å†™pptæ ·å¼çš„å‰ç«¯åº”ç”¨çš„æ¡†æ¶</p><p>åªéœ€è¦åœ¨å•ä¸€ Markdown æ–‡ä»¶ä¸­ç¼–å†™å¹»ç¯ç‰‡å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªéå¸¸æ¼‚äº®çš„å‰ç«¯pptåº”ç”¨</p><p>è¿™ä¸ªé¡¹ç›®è‡ªä»<code>0.20.0</code>ç‰ˆæœ¬æˆ‘å°±å…³æ³¨æ¥ç€ï¼Œå½“æ—¶å°±è§‰å¾—å¾ˆç‚«å¾ˆå¥½ç”¨</p><p>æ˜¨å¤©çœ‹åˆ°äº†antfuæ›´æ–°è¯´åœ¨æœ€æ–°ç‰ˆæœ¬<code>0.39.0</code>é‡Œæ”¯æŒäº†ç®€å•çš„åŠ¨ç”»åˆ‡æ¢æ•ˆæœ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230130155007.png"></p><p>ğŸ˜‹æ„Ÿè§‰åŠ¨ç”»åˆ‡æ¢æ˜¯pptæœ€é‡è¦çš„ä¸œè¥¿å§ï¼Œå¾ˆå¥½å¾ˆåœ†æ»¡ğŸ˜</p><p>æ¥è¯•è¯•</p><p><img src="https://cn.sli.dev/screenshots/cover.png" alt="img"></p><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ul><li><p><strong>æ”¯æŒ Markdown è¯­æ³•</strong>ï¼šSlidev ä½¿ç”¨ä¸€ç§æ‰©å±•çš„ Markdown æ ¼å¼ï¼Œåœ¨ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ä¸­å­˜å‚¨å’Œç»„ç»‡ä½ çš„å¹»ç¯ç‰‡ã€‚è¿™è®©ä½ ä¸“æ³¨äºåˆ¶ä½œå†…å®¹ã€‚è€Œä¸”ç”±äºå†…å®¹å’Œæ ·å¼æ˜¯åˆ†å¼€çš„ï¼Œè¿™ä¹Ÿä½¿å¾—åœ¨ä¸åŒçš„ä¸»é¢˜ä¹‹é—´åˆ‡æ¢å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p></li><li><p><strong>å¯å®šåˆ¶ä¸»é¢˜</strong>ï¼šSlidev çš„ä¸»é¢˜å¯ä»¥é€šè¿‡ <code>npm</code> åŒ…çš„å½¢å¼æ¥åˆ†äº«å’Œå®‰è£…ã€‚</p></li><li><p><strong>å¯¹å¼€å‘è€…å‹å¥½</strong>ï¼šSlidev ä¸ºå¼€å‘è€…æä¾›äº†ä¸€æµçš„ä»£ç ç‰‡æ®µæ”¯æŒã€‚å®ƒåŒæ—¶æ”¯æŒ <a href="https://prismjs.com/">Prism</a> å’Œ <a href="https://github.com/shikijs/shiki">Shiki</a> ä»¥è·å¾—åƒç´ çº§çš„å®Œç¾è¯­æ³•é«˜äº®ï¼Œå¹¶ä¸”èƒ½å¤Ÿéšæ—¶ä¿®æ”¹ä»£ç ã€‚é€šè¿‡å†…ç½®çš„ <a href="https://microsoft.github.io/monaco-editor/">Monaco ç¼–è¾‘å™¨</a>ï¼Œå®ƒè¿˜èƒ½è®©ä½ åœ¨æ¼”ç¤ºæ–‡ç¨¿ä¸­è¿›è¡Œç°åœºç¼–ç &#x2F;æ¼”ç¤ºï¼Œå¹¶æ”¯æŒè‡ªåŠ¨è¡¥å…¨ã€ç±»å‹æ‚¬åœã€ç”šè‡³æ˜¯ <code>TypeScript</code> ç±»å‹æ£€æŸ¥ã€‚</p></li><li><p><strong>å¿«é€Ÿ</strong>ï¼šSlidev å¾—ç›Šäº <a href="https://vitejs.dev/">Vite</a>ï¼Œ<a href="https://v3.vuejs.org/">Vue 3</a> å’Œ <a href="https://windicss.org/">Windi CSS</a>ï¼Œä¸ºä½ å¸¦æ¥äº†æœ€ç¾å¦™çš„åˆ›ä½œä½“éªŒã€‚ä½ æ‰€åšçš„æ¯ä¸€ä¸ªæ”¹å˜éƒ½ä¼š<strong>ç«‹å³åæ˜ </strong>åˆ°ä½ çš„å¹»ç¯ç‰‡ä¸Šã€‚</p></li><li><p><strong>äº’åŠ¨æ€§ &amp; ç›´è§‚è¡¨è¾¾</strong>ï¼šä½ å¯ä»¥ç¼–å†™è‡ªå®šä¹‰çš„ Vue ç»„ä»¶å¹¶ç›´æ¥åœ¨ä½ çš„ MarkDown æ–‡ä»¶ä¸­ä½¿ç”¨å®ƒä»¬ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨æ¼”ç¤ºæ–‡ç¨¿ä¸­ä¸å®ƒä»¬äº’åŠ¨ï¼Œä»¥æ›´æ·±å…¥å’Œç›´è§‚çš„æ–¹å¼è¡¨è¾¾ä½ çš„æƒ³æ³•ã€‚</p></li><li><p><strong>æ”¯æŒå½•åˆ¶</strong>ï¼šSlidev æä¾›äº†å†…ç½®çš„å½•éŸ³å’Œæ‘„åƒå¤´è§†å›¾ã€‚ä½ å¯ä»¥å°†ä½ çš„æ¼”ç¤ºæ–‡ç¨¿ä¸ä½ çš„ç›¸æœºè§†å›¾ä¸€èµ·åˆ†äº«ï¼Œæˆ–è€…ä¸ºä½ çš„å±å¹•å’Œç›¸æœºåˆ†åˆ«å½•åˆ¶å¹¶ä¿å­˜ã€‚æ‰€æœ‰è¿™äº›éƒ½æ˜¯å†…ç½®çš„ï¼Œä¸éœ€è¦é¢å¤–çš„å·¥å…·ã€‚</p></li><li><p><strong>å¯ç§»æ¤æ€§</strong>ï¼šç”¨ä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥å°†ä½ çš„å¹»ç¯ç‰‡å¯¼å‡ºä¸º PDF æˆ– PNGï¼Œç”šè‡³æ˜¯å¯æ‰˜ç®¡çš„å•é¡µåº”ç”¨ç¨‹åºï¼ˆSPAï¼‰ï¼Œå¹¶åœ¨ä»»ä½•åœ°æ–¹åˆ†äº«å®ƒä»¬ã€‚</p></li><li><p><strong>å¯é…ç½®</strong>ï¼šç”±äº Slidev åŸºäº Web æŠ€æœ¯ï¼Œä»»ä½•å¯ä»¥åœ¨ Web åº”ç”¨ä¸­å®Œæˆçš„äº‹æƒ…ï¼ŒSlidev ä¹Ÿå¯ä»¥åšåˆ°ã€‚ä¾‹å¦‚ï¼Œ<code>WebGL</code>ã€<code>APIè¯·æ±‚</code>ã€<code>iframes</code>ï¼Œç”šè‡³æ˜¯å®æ—¶å…±äº«ã€‚å®Œå…¨å–å†³äºä½ çš„æƒ³è±¡åŠ›!</p></li><li><p><strong>æ¼”è®²è€…æ¨¡å¼</strong>ï¼š å¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªçª—å£ï¼Œç”šè‡³æ˜¯ä½ çš„æ‰‹æœºæ¥æ§åˆ¶å¹»ç¯ç‰‡ã€‚</p></li></ul><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><pre><code>npm init slidev</code></pre><p>åœ¨package.jsoné‡Œé…ç½®</p><pre><code>&#123;  &quot;scripts&quot;: &#123;    &quot;dev&quot;: &quot;slidev&quot;, //  å¯åŠ¨ dev server    &quot;build&quot;: &quot;slidev build&quot;, // æ„å»ºç”Ÿäº§ç¯å¢ƒçš„å•é¡µé¢åº”ç”¨    &quot;export&quot;: &quot;slidev export&quot; // å°†å¹»ç¯ç‰‡å¯¼å‡ºä¸º pdf æ ¼å¼  &#125;&#125;</code></pre><p>æ‰§è¡Œ <code>npx slidev --help</code> å‘½ä»¤è·å–æ›´å¤šé€‰é¡¹çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>è¿™æ ·å°±å®‰è£…å®Œæˆäº†ï¼Œä½ åªéœ€è¦åœ¨<code>./slides.md</code>é‡Œç¼–å†™ä½ æƒ³è¦çš„å†…å®¹å°±è¡ŒğŸ˜</p><h2 id="æ¨èçš„ç›®å½•ç»“æ„"><a href="#æ¨èçš„ç›®å½•ç»“æ„" class="headerlink" title="æ¨èçš„ç›®å½•ç»“æ„"></a>æ¨èçš„ç›®å½•ç»“æ„</h2><pre><code>your-slidev/  â”œâ”€â”€ components/       # è‡ªå®šä¹‰ç»„ä»¶  â”œâ”€â”€ layouts/          # è‡ªå®šä¹‰å¸ƒå±€  â”œâ”€â”€ public/           # é™æ€èµ„æº  â”œâ”€â”€ setup/            # è‡ªå®šä¹‰ setup / hooks  â”œâ”€â”€ styles/           # è‡ªå®šä¹‰æ ·å¼  â”œâ”€â”€ index.html        # æ³¨å…¥çš„ index.html  â”œâ”€â”€ slides.md         # å¹»ç¯ç‰‡ä¸»å…¥å£  â””â”€â”€ vite.config.ts    # æ‰©å±• vite é…ç½®</code></pre><h2 id="Markdown-è¯­æ³•"><a href="#Markdown-è¯­æ³•" class="headerlink" title="Markdown è¯­æ³•"></a>Markdown è¯­æ³•</h2><h4 id="åˆ†éš”ç¬¦"><a href="#åˆ†éš”ç¬¦" class="headerlink" title="åˆ†éš”ç¬¦"></a>åˆ†éš”ç¬¦</h4><p>ä½¿ç”¨ <code>---</code> æ·»åŠ åˆ†éš”ç¬¦æ¥åˆ†éš”ä½ çš„å¹»ç¯ç‰‡ã€‚</p><p>æ³¨æ„ è¿™ä¸ªåˆ†éš”ç¬¦æœ€å¥½ä¸Šä¸‹ç©ºä¸¤è¡Œ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230130162517.png"></p><p>åƒè¿™æ · </p><p>ä½ å¯ä»¥å®‰è£…ä¸€ä¸ªVSCodeæ’ä»¶ åå«slidev æ¥è·å¾—æ›´å¥½çš„ä½“éªŒï¼Œ<a href="https://marketplace.visualstudio.com/items?itemName=antfu.slidev">https://marketplace.visualstudio.com/items?itemName=antfu.slidev</a></p><p>è¿™ä¸ª#2æ˜¯æ’ä»¶å‘Šè¯‰ä½ è¿™ä¸‹é¢æ˜¯ç¬¬å‡ å¼ å¹»ç¯ç‰‡</p><pre><code># SlidevHello, World!---# Page 2Directly use code blocks for highlighting```tsconsole.log(&#39;Hello, World!&#39;)```---# Page 3You can directly use Windi CSS and Vue components to style and enrich your slides.&lt;div class=&quot;p-3&quot;&gt;  &lt;Tweet id=&quot;20&quot; /&gt;&lt;/div&gt;</code></pre><p>åƒè¿™æ ·å°±åˆ›å»ºäº†ä¸‰å¼ å¹»ç¯ç‰‡</p><h4 id="æ‰‰é¡µåŠå¸ƒå±€"><a href="#æ‰‰é¡µåŠå¸ƒå±€" class="headerlink" title="æ‰‰é¡µåŠå¸ƒå±€"></a>æ‰‰é¡µåŠå¸ƒå±€</h4><p>ç”¨ä¸¤ä¸ªåˆ†éš”ç¬¦æ¥è¡¨ç¤ºä¸€ä¸ªæ‰‰é¡µå—</p><pre><code>---layout: cover---</code></pre><p>ä¸¤ä¸ªåˆ†éš”ç¬¦é‡Œæ˜¯<code>yaml</code>æ ¼å¼çš„å¯¹è±¡</p><p>å…·ä½“çš„è¯­æ³•å¦‚ä¸‹</p><pre><code>---# ä¸»é¢˜id æˆ– ä¸»é¢˜åŒ…åç§°# äº†è§£æ›´å¤šï¼šhttps://sli.dev/themes/use.htmltheme: &#39;default&#39;# å¹»ç¯ç‰‡çš„æ€»æ ‡é¢˜ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé‚£ä¹ˆå°†ä»¥ç¬¬ä¸€å¼ æ‹¥æœ‰æ ‡é¢˜çš„å¹»ç¯ç‰‡çš„æ ‡é¢˜ä½œä¸ºæ€»æ ‡é¢˜title: &#39;Slidev&#39;# titleTemplate for the webpage, `%s` will be replaced by the page&#39;s titletitleTemplate: &#39;%s - Slidev&#39;# information for your slides, can be a markdown stringinfo: false# åœ¨å•é¡µï¼ˆSPAï¼‰æ„å»ºä¸­å¯ç”¨ pdf ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰ urldownload: false# è¦å¯¼å‡ºæ–‡ä»¶çš„æ–‡ä»¶åç§°exportFilename: &#39;slidev-exported.pdf&#39;# è¯­æ³•é«˜äº®è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨ &#39;prism&#39; æˆ– &#39;shiki&#39; æ–¹æ¡ˆhighlighter: &#39;prism&#39;# åœ¨ä»£ç å—ä¸­æ˜¾ç¤ºè¡Œå·lineNumbers: false# å¯ç”¨ monaco ç¼–è¾‘å™¨ï¼Œå¯ä»¥æ˜¯ booleanï¼Œ&#39;dev&#39; æˆ–è€… &#39;build&#39;monaco: &#39;dev&#39;# ä½¿ç”¨ vite-plugin-remote-assets åœ¨æœ¬åœ°ä¸‹è½½è¿œç¨‹èµ„æºï¼Œå¯ä»¥æ˜¯ booleanï¼Œ&#39;dev&#39; æˆ–è€… &#39;build&#39;remoteAssets: false# æ§åˆ¶å¹»ç¯ç‰‡ä¸­çš„æ–‡æœ¬æ˜¯å¦å¯ä»¥é€‰æ‹©selectable: true# å¯ç”¨å¹»ç¯ç‰‡å½•åˆ¶ï¼Œå¯ä»¥æ˜¯ booleanï¼Œ&#39;dev&#39; æˆ–è€… &#39;build&#39;record: &#39;dev&#39;# å¹»ç¯ç‰‡çš„é…è‰²æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç”¨ &#39;auto&#39;ï¼Œ&#39;light&#39; æˆ–è€… &#39;dark&#39;colorSchema: &#39;auto&#39;# vue-router æ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨ &#39;history&#39; æˆ– &#39;hash&#39; æ¨¡å¼routerMode: &#39;history&#39;# å¹»ç¯ç‰‡çš„é•¿å®½æ¯”aspectRatio: &#39;16/9&#39;# canvas çš„çœŸå®å®½åº¦ï¼Œå•ä½ä¸º pxcanvasWidth: 980# ç”¨äºä¸»é¢˜å®šåˆ¶ï¼Œä¼šå°†å±æ€§ `x` æ³¨å…¥æ ¹æ ·å¼ `--slidev-theme-x`themeConfig:  primary: &#39;#5d8392&#39;# favicon å¯ä»¥æ˜¯æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª URLfavicon: &#39;https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png&#39;# ç”¨äºæ¸²æŸ“å›¾è¡¨çš„ PlantUML æœåŠ¡å™¨çš„ URLplantUmlServer: &#39;https://www.plantuml.com/plantuml&#39;# å­—ä½“å°†ä» Google å­—ä½“è‡ªåŠ¨å¯¼å…¥# äº†è§£æ›´å¤šï¼šhttps://sli.dev/custom/fontsfonts:  sans: &#39;Roboto&#39;  serif: &#39;Roboto Slab&#39;  mono: &#39;Fira Code&#39;# ä¸ºæ‰€æœ‰å¹»ç¯ç‰‡æ·»åŠ é»˜è®¤çš„ frontmatterdefaults:  layout: &#39;default&#39;  # ...# ç»˜åˆ¶é€‰é¡¹# äº†è§£æ›´å¤šï¼šhttps://sli.dev/guide/drawing.htmldrawings:  enabled: true  persist: false  presenterOnly: false  syncAll: true---</code></pre><h4 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h4><p>å¯ä»¥é€šè¿‡&#96;&#96;&#96;æ¥åˆ›å»ºä¸€ä¸ªä»£ç å—</p><pre><code>```tsconsole.log(&#39;Hello, World!&#39;)```</code></pre><p>å¯ä»¥é€šè¿‡åœ¨è¯­è¨€ååå†™å¤§æ‹¬å·çš„å½¢å¼æ¥æŒ‡å®šç‰¹å®šè¡Œé«˜äº®<code>&#123;&#125;</code></p><p>æ³¨æ„ï¼šè¡Œå·ä» 1 å¼€å§‹è®¡ç®—ã€‚</p><pre><code>```ts &#123;2-3|5|all&#125;function add(  a: Ref&lt;number&gt; | number,  b: Ref&lt;number&gt; | number) &#123;  return computed(() =&gt; unref(a) + unref(b))&#125;```</code></pre><p>è¿™æ®µä»£ç çš„æ„æ€æ˜¯ ç‚¹è¿›æ¥å…ˆæ˜¯2åˆ°3è¡Œé«˜äº®ï¼Œå†ç‚¹ä¸€ä¸‹2åˆ°3ä¸äº®ç¬¬5è¡Œäº®ï¼Œå†ç‚¹ä¸€ä¸‹æ•´ä¸ªéƒ½äº®</p><h4 id="Monaco-ç¼–è¾‘å™¨"><a href="#Monaco-ç¼–è¾‘å™¨" class="headerlink" title="Monaco ç¼–è¾‘å™¨"></a>Monaco ç¼–è¾‘å™¨</h4><p>åªéœ€åœ¨è¯­è¨€ id åæ·»åŠ  <code>&#123;monaco&#125;</code> å°±å¯ä»¥å¯ç”¨monaco</p><p>ä»€ä¹ˆæ˜¯monacoå‘¢ï¼Œå¯ä»¥ç†è§£ä¸ºç½‘é¡µç‰ˆçš„vscodeé‚£æ ·çš„ï¼Œå¯ä»¥åœ¨çº¿ç¼–è¾‘çš„</p><pre><code>```ts &#123;monaco&#125;console.log(&#39;HelloWorld&#39;)```</code></pre><h4 id="å†…è”æ ·å¼"><a href="#å†…è”æ ·å¼" class="headerlink" title="å†…è”æ ·å¼"></a>å†…è”æ ·å¼</h4><p>ä½ å¯ä»¥åœ¨ Markdown ä¸­ç›´æ¥ä½¿ç”¨ <code>&lt;style&gt;</code> æ ‡ç­¾æ¥è¦†ç›–<strong>å½“å‰å¹»ç¯ç‰‡</strong>çš„æ ·å¼ã€‚</p><p>Slidevæ”¯æŒwindicssçš„åŸå­åŒ–å†™æ³•å’ŒæŒ‡ä»¤é›† ä¾‹å¦‚<code>@apply</code></p><pre><code># Slidev&gt; Hello `world`&lt;style&gt;blockquote &#123;  code &#123;    @apply text-teal-500 dark:text-teal-400;  &#125;&#125;&lt;/style&gt;</code></pre><h4 id="é™æ€èµ„æº"><a href="#é™æ€èµ„æº" class="headerlink" title="é™æ€èµ„æº"></a>é™æ€èµ„æº</h4><p>å’Œç¼–å†™ Markdown çš„æ–¹å¼ä¸€æ ·ï¼Œä½ å¯ä»¥ä½¿ç”¨æœ¬åœ°æˆ–è¿œç¨‹çš„ URL çš„å›¾ç‰‡ã€‚</p><p>è¿œç¨‹èµ„æºä¼šç¼“å­˜</p><p>æœ¬åœ°èµ„æºè¯·æ”¾åˆ°publicæ–‡ä»¶å¤¹</p><h4 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="headerlink" title="å¤‡æ³¨"></a>å¤‡æ³¨</h4><p>ä½ ä¹Ÿå¯ä»¥ä¸ºæ¯å¼ å¹»ç¯ç‰‡ç¼–å†™å¤‡æ³¨ã€‚å®ƒä»¬å°†å±•ç¤ºåœ¨ <a href="https://cn.sli.dev/guide/presenter-mode.html">æ¼”è®²è€…æ¨¡å¼</a> ä¸­ï¼Œä¾›ä½ åœ¨æ¼”ç¤ºæ—¶å‚è€ƒã€‚</p><p>åœ¨æ¯ä¸€é¡µå¹»ç¯ç‰‡å†…å®¹æœ€å</p><p>æ·»åŠ æ³¨é‡Šå³å¯</p><pre><code>---layout: cover---# ç¬¬ 1 é¡µThis is the cover page.&lt;!-- è¿™æ˜¯ä¸€æ¡å¤‡æ³¨ --&gt;---# ç¬¬ 2 é¡µ&lt;!-- è¿™ä¸æ˜¯ä¸€æ¡å¤‡æ³¨ï¼Œå› ä¸ºå®ƒåœ¨å¹»ç¯ç‰‡å†…å®¹å‰ --&gt;The second page&lt;!--è¿™æ˜¯å¦ä¸€æ¡å¤‡æ³¨--&gt;</code></pre><h4 id="iconå›¾æ ‡"><a href="#iconå›¾æ ‡" class="headerlink" title="iconå›¾æ ‡"></a>iconå›¾æ ‡</h4><p>å¾ˆå–œæ¬¢çš„åŠŸèƒ½</p><p>Slidev å…è®¸ä½ åœ¨ Markdown ä¸­<strong>ç›´æ¥</strong>è®¿é—®å‡ ä¹æ‰€æœ‰çš„å¼€æºçš„å›¾æ ‡é›†ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡ <a href="https://icones.js.org/">IcÃ´nes</a> æ¥æµè§ˆè®¿é—®æ‰€æœ‰å¯ç”¨çš„å›¾æ ‡ã€‚</p><p>æ›´è¯¦ç»†çš„è¯·çœ‹<a href="https://cn.sli.dev/guide/syntax.html#icons">https://cn.sli.dev/guide/syntax.html#icons</a></p><h4 id="LaTeX"><a href="#LaTeX" class="headerlink" title="LaTeX"></a>LaTeX</h4><p>è¿™ä¸ªä¸æ˜¯å¾ˆç†Ÿå•Š</p><p><a href="https://demo.sli.dev/starter/8">https://demo.sli.dev/starter/8</a></p><p>å¯ä»¥çœ‹ä¸‹ç¤ºä¾‹ å’Œ æ–‡æ¡£</p><p><a href="https://katex.org/">https://katex.org/</a></p><h4 id="å›¾æ ‡"><a href="#å›¾æ ‡" class="headerlink" title="å›¾æ ‡"></a>å›¾æ ‡</h4><p>è¿™ä¸ªä¸œè¥¿ä¹Ÿæ²¡æ€ä¹ˆç”¨è¿‡ï¼ŒåªçŸ¥é“githubä»€ä¹ˆçš„æ”¯æŒè¿™ç§è¯­æ³• åŸºäº<a href="https://github.com/mermaid-js/mermaid">https://github.com/mermaid-js/mermaid</a></p><p>è¢«æ ‡è®°ä¸º <code>mermaid</code> çš„ä»£ç å—å°†è¢«è½¬æ¢ä¸ºå›¾å½¢ï¼Œä¾‹å¦‚ï¼š</p><pre><code>```mermaidsequenceDiagram  Alice-&gt;John: Hello John, how are you?  Note over Alice,John: A typical interaction```</code></pre><pre><code class="mermaid">sequenceDiagram  Alice-&gt;John: Hello John, how are you?  Note over Alice,John: A typical interaction</code></pre><p>æˆ‘åœ¨typoraä¹Ÿå¯ä»¥åˆ›å»ºè¿™ä¸ªå›¾è¡¨ï¼Œæ„Ÿè§‰å¾ˆå¥½ç”¨</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230130170429.png"></p><h2 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h2><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230130170544.png"></p><p>å¯¼èˆªæ é»˜è®¤åœ¨å·¦ä¸‹è§’ï¼Œé¼ æ ‡ç§»åŠ¨ä¸Šå»æ˜¾ç¤º</p><p>å¯ä»¥ç”¨<code>right / space</code>æ¥åˆ‡æ¢ä¸‹ä¸€å¼ å¹»ç¯ç‰‡</p><p>æŒ‰<code>g</code>è·³å‡ºä¸€ä¸ªæ ï¼Œè¾“å…¥é¡µç å¯ä»¥è·³è½¬</p><p>æ›´å¤šå¿«æ·é”®è¯¦è§<a href="https://cn.sli.dev/guide/navigation.html#navigation-bar">https://cn.sli.dev/guide/navigation.html#navigation-bar</a></p><h2 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h2><p>é‡å¤´æˆ</p><p>è¿™ä¸ªç‰ˆæœ¬å°±æ›´æ–°äº†è¿™ä¸ª</p><h4 id="ç‚¹å‡»åŠ¨ç”»"><a href="#ç‚¹å‡»åŠ¨ç”»" class="headerlink" title="ç‚¹å‡»åŠ¨ç”»"></a>ç‚¹å‡»åŠ¨ç”»</h4><p><code>v-click</code> å¯ä»¥ç”¨<code>&lt;v-click&gt;&lt;/v-click&gt;</code>æ ‡ç­¾æˆ–åœ¨æ ‡ç­¾å†…å†™<code>&lt;div v-click class=&quot;text-xl p-2&quot;&gt;</code>è¿™æ ·çš„æŒ‡ä»¤</p><p>ä»¥ä¸‹æŒ‡ä»¤å†™æ³•åŒç†</p><p><code>v-after</code> å’Œ<code>v-click</code>ç»‘å®šï¼Œè¿™ä¿©ä¼šä¸€èµ·æ˜¾ç¤º</p><p><code>v-click-hide</code>ç‚¹å‡»åä¸å¯è§</p><p><code>v-clicks</code> åªèƒ½ä½¿ç”¨æ ‡ç­¾å†™æ³• å¯ä»¥æ–¹ä¾¿çš„å±•ç¤ºä¸€ä¸ªåˆ—è¡¨</p><pre><code>&lt;v-clicks&gt;- Item 1- Item 2- Item 3- Item 4&lt;/v-clicks&gt;</code></pre><p>ä½ è¿˜å¯ä»¥æ‰‹åŠ¨æŒ‡å®šè¿‡æ¸¡åŠ¨ç”» è¦†å†™ä¸¤ä¸ªç±»çš„åŠ¨ç”»</p><pre><code>// the default.slidev-vclick-target &#123;  transition: opacity 100ms ease;&#125;.slidev-vclick-hidden &#123;  opacity: 0;  pointer-events: none;&#125;</code></pre><h4 id="è¿åŠ¨"><a href="#è¿åŠ¨" class="headerlink" title="è¿åŠ¨"></a>è¿åŠ¨</h4><p><a href="https://vueuse.org/functions.html#category=%40Motion">https://vueuse.org/functions.html#category=%40Motion</a></p><p>å†…ç½®äº†vueuseçš„motionåŠŸèƒ½</p><p>ä½ å¯ä»¥å¯¹ä»»ä½•å…ƒç´ åº”ç”¨ <code>v-motion</code> æŒ‡ä»¤ï¼Œä»¥å¯¹å®ƒä»¬æ–½åŠ è¿åŠ¨æ•ˆæœã€‚ä¾‹å¦‚ï¼š</p><pre><code>&lt;div  v-motion  :initial=&quot;&#123; x: -80 &#125;&quot;  :enter=&quot;&#123; x: 0 &#125;&quot;&gt;  Slidev&lt;/div&gt;</code></pre><p>æ–‡æœ¬ <code>Slidev</code> å°†ä»å…¶åˆå§‹åŒ–ä½ç½® <code>-80px</code> ç§»è‡³å…¶åŸå§‹ä½ç½®ã€‚</p><h4 id="é¡µé¢è¿‡æ¸¡"><a href="#é¡µé¢è¿‡æ¸¡" class="headerlink" title="é¡µé¢è¿‡æ¸¡"></a>é¡µé¢è¿‡æ¸¡</h4><p>ğŸ¤©æ–°åŠŸèƒ½ï¼</p><p>å¯ä»¥åœ¨æ‰‰é¡µä¸­å¡«å†™</p><pre><code>---transition: slide-left---</code></pre><p>è¿™å°†ç»™ä½ ä¸€ä¸ªå¾ˆå¥½çš„æ»‘åŠ¨æ•ˆæœã€‚å°†å…¶è®¾ç½®åœ¨é¦–é¡µï¼Œå°†é€‚ç”¨äºæ‰€æœ‰çš„å¹»ç¯ç‰‡ã€‚æ‚¨è¿˜å¯ä»¥ä¸ºæ¯å¼ å¹»ç¯ç‰‡è®¾ç½®ä¸åŒçš„è¿‡æ¸¡ã€‚</p><p>è‡ªå¸¦çš„è¿‡æ¸¡æ•ˆæœ</p><pre><code>fade - Crossfade in/outfade-out - Fade out and then fade inslide-left - Slides to the left, slide to right when going backslide-right - Slides to the right, slide to left when going backslide-top - Slides to the top, slide to bottom when going backslide-bottom - Slides to the bottom, slide to top when going back</code></pre><p>è¿˜å¯ä»¥è‡ªå®šä¹‰è¿‡æ¸¡æ•ˆæœ</p><pre><code>---transition: my-transition---</code></pre><pre><code>.my-transition-enter-active,.my-transition-leave-active &#123;  transition: opacity 0.5s ease;&#125;.my-transition-enter-from,.my-transition-leave-to &#123;  opacity: 0;&#125;</code></pre><h2 id="å¯¼å‡º"><a href="#å¯¼å‡º" class="headerlink" title="å¯¼å‡º"></a>å¯¼å‡º</h2><p>å¯¼å‡ºä¸ºpdf ä¾èµ–äºå¾®è½¯å¼€æºçš„playwrightæ¡†æ¶</p><p><a href="https://playwright.dev/docs/installation#download-single-browser-binary"><code>playwright-chromium</code></a></p><p>éœ€è¦å…ˆå®‰è£…</p><pre><code>npm i -D playwright-chromium</code></pre><p>ä½¿ç”¨</p><pre><code>slidev export</code></pre><p>å¯å¯¼å‡ºpdfæ ¼å¼</p><pre><code>slidev export --format png</code></pre><p>å¯å¯¼å‡ºpngæ ¼å¼</p><h2 id="é™æ€éƒ¨ç½²"><a href="#é™æ€éƒ¨ç½²" class="headerlink" title="é™æ€éƒ¨ç½²"></a>é™æ€éƒ¨ç½²</h2><pre><code>slidev build</code></pre><p>ç¼–è¯‘å½“å‰å¹»ç¯ç‰‡ç”Ÿæˆåœ¨<code>dist/</code>ç›®å½•ä¸‹ï¼Œå¯ä»¥éƒ¨ç½²åˆ°é™æ€æ‰˜ç®¡å¹³å°</p><h4 id="æä¾›å¯ä¸‹è½½çš„-PDF"><a href="#æä¾›å¯ä¸‹è½½çš„-PDF" class="headerlink" title="æä¾›å¯ä¸‹è½½çš„ PDF"></a>æä¾›å¯ä¸‹è½½çš„ PDF</h4><p>åœ¨æ‰‰é¡µä¸­è®¾ç½®</p><pre><code>---download: true---</code></pre><p>ä¼šåœ¨å•é¡µåº”ç”¨ä¸­å±•ç¤ºä¸‹è½½æŒ‰é’®</p><p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰url</p><pre><code>---download: &#39;https://myside.com/my-talk.pdf&#39;---</code></pre><h4 id="éƒ¨ç½²åˆ°netlify"><a href="#éƒ¨ç½²åˆ°netlify" class="headerlink" title="éƒ¨ç½²åˆ°netlify"></a>éƒ¨ç½²åˆ°netlify</h4><p>åˆ›å»º<code>netlify.toml</code>æ–‡ä»¶ é…ç½®</p><pre><code>[build.environment]  NODE_VERSION = &quot;14&quot;[build]  publish = &quot;dist&quot;  command = &quot;npm run build&quot;[[redirects]]  from = &quot;/*&quot;  to = &quot;/index.html&quot;  status = 200</code></pre><h4 id="éƒ¨ç½²åˆ°vercel"><a href="#éƒ¨ç½²åˆ°vercel" class="headerlink" title="éƒ¨ç½²åˆ°vercel"></a>éƒ¨ç½²åˆ°vercel</h4><p>åˆ›å»º<code>vercel.json</code>æ–‡ä»¶ é…ç½®</p><pre><code>&#123;  &quot;rewrites&quot;: [    &#123; &quot;source&quot;: &quot;/(.*)&quot;, &quot;destination&quot;: &quot;/index.html&quot; &#125;  ]&#125;</code></pre><h2 id="æ¼”è®²å½•åˆ¶"><a href="#æ¼”è®²å½•åˆ¶" class="headerlink" title="æ¼”è®²å½•åˆ¶"></a>æ¼”è®²å½•åˆ¶</h2><h4 id="æ‘„åƒå¤´"><a href="#æ‘„åƒå¤´" class="headerlink" title="æ‘„åƒå¤´"></a>æ‘„åƒå¤´</h4><p>å¯¼èˆªé¢æ¿çš„å°äººæŒ‰é’®å¯ä»¥å¼€å¯æ‘„åƒå¤´</p><p>ä½ å¯ä»¥æ‹–åŠ¨å®ƒï¼Œå¹¶ä½¿ç”¨å³ä¸‹è§’çš„æŠŠæ‰‹æ¥è°ƒæ•´å¤§å°ã€‚å°ºå¯¸å’Œä½ç½®å°†æŒä¹…åŒ–å­˜å‚¨åœ¨ <code>localStorage</code> ä¸­ï¼Œå› æ­¤ï¼Œå¯ä»¥ä¿è¯å¤šæ¬¡åˆ·æ–°åçš„å±•ç¤ºä¸€è‡´ï¼Œæ— éœ€æ‹…å¿ƒä½ç½®å’Œå¤§å°ä¸¢å¤±çš„é—®é¢˜ã€‚</p><h4 id="å½•åˆ¶"><a href="#å½•åˆ¶" class="headerlink" title="å½•åˆ¶"></a>å½•åˆ¶</h4><p>å¯¼èˆªé¢æ¿çš„æ‘„åƒæœºæŒ‰é’®</p><p>å¯ä»¥å½•åˆ¶éº¦å…‹é£å’Œæ‘„åƒå¤´</p><h2 id="æ¼”è®²è€…æ¨¡å¼"><a href="#æ¼”è®²è€…æ¨¡å¼" class="headerlink" title="æ¼”è®²è€…æ¨¡å¼"></a>æ¼”è®²è€…æ¨¡å¼</h2><p>ç‚¹å‡»å°äººå¸¦éº¦å…‹é£çš„æŒ‰é’®</p><p>å¯ä»¥è¿›å…¥æ¼”è®²è€…æ¨¡å¼</p><p>éœ€è¦åŒç«¯åœ¨åŒä¸€ç½‘ç»œä¸‹</p><p>å…¶ä»–é¡µé¢çš„å®ä¾‹ä¼šè‡ªåŠ¨å’Œæ¼”è®²è€…çš„é¡µé¢åŒæ­¥</p><h2 id="ç»˜å›¾"><a href="#ç»˜å›¾" class="headerlink" title="ç»˜å›¾"></a>ç»˜å›¾</h2><p>å¯ä»¥åœ¨é¡µé¢ä¸Šç”»ç”»</p><p>å¯ä»¥åœ¨æ¼”è®²è€…æ¨¡å¼ä¸­å¯ç”¨ï¼Œä¼šå®æ—¶è‡ªåŠ¨åŒæ­¥</p><p>æ”¯æŒè§¦æ§ç¬”å‹æ„Ÿ</p><h2 id="ç¼–è¾‘å™¨æ•´åˆ"><a href="#ç¼–è¾‘å™¨æ•´åˆ" class="headerlink" title="ç¼–è¾‘å™¨æ•´åˆ"></a>ç¼–è¾‘å™¨æ•´åˆ</h2><p>ä½ å¯ä»¥åœ¨è¿è¡Œä¸­åœ¨ç½‘é¡µä¸Šæ›´æ”¹ä½ çš„æºç ï¼Œä»–ä¼šè‡ªåŠ¨åŒæ­¥åˆ°slide.mdé‡Œ</p><h2 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h2><p>åœ¨è¿™é‡Œæµè§ˆä¸»é¢˜å¹¶åº”ç”¨åˆ°ä½ çš„å®ä¾‹ä¸­</p><p><a href="https://cn.sli.dev/themes/gallery.html">https://cn.sli.dev/themes/gallery.html</a></p><h2 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h2><p><a href="https://cn.sli.dev/builtin/layouts.html">https://cn.sli.dev/builtin/layouts.html</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ç¯‡å†™äº†ä¸å°‘ï¼Œè¯¦ç»†çš„å†™äº†æˆ‘æ¯”è¾ƒå–œæ¬¢çš„pptæ¡†æ¶</p><p>æˆ‘æœ‰ä¸€ä¸ªéƒ¨ç½²çš„ç‰ˆæœ¬ï¼Œåœ°å€åœ¨ <a href="https://botppt.netlify.app/">https://botppt.netlify.app/</a></p><p>æ˜¯å¾ˆä¹…ä¹‹å‰å†™çš„è¾£ï¼Œç‰ˆæœ¬è¿˜æ˜¯å¾ˆè€çš„ï¼Œæœ‰æ—¶é—´ä¼šæ›´æ–°ä¸€ä¸‹</p><p>ğŸ˜</p><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p><a href="https://botppt.netlify.app/1">https://botppt.netlify.app/1</a></p><p><a href="https://cn.sli.dev/showcases.html">https://cn.sli.dev/showcases.html</a></p><p><a href="https://cn.sli.dev/">https://cn.sli.dev/</a></p><p><a href="https://github.com/slidevjs/slidev">https://github.com/slidevjs/slidev</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nuxt3ä¸æœåŠ¡ç«¯æ¸²æŸ“SSRï¼ˆé«˜çº§ç¯‡ï¼‰ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/29/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E9%AB%98%E7%BA%A7%E7%AF%87%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/29/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E9%AB%98%E7%BA%A7%E7%AF%87%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 13 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‰ä¸¤ç¯‡å†™äº†ä¸€äº›nuxt3å’ŒSSRçš„åŸºç¡€</p><p>è¿™ä¸€ç¯‡è®²è®²nuxt3æ¯”è¾ƒè¿›é˜¶çš„éƒ¨åˆ†</p><h2 id="è‡ªåŠ¨å¼•å…¥"><a href="#è‡ªåŠ¨å¼•å…¥" class="headerlink" title="è‡ªåŠ¨å¼•å…¥"></a>è‡ªåŠ¨å¼•å…¥</h2><h4 id="nuxt3è‡ªå¸¦è‡ªåŠ¨å¼•å…¥"><a href="#nuxt3è‡ªå¸¦è‡ªåŠ¨å¼•å…¥" class="headerlink" title="nuxt3è‡ªå¸¦è‡ªåŠ¨å¼•å…¥"></a>nuxt3è‡ªå¸¦è‡ªåŠ¨å¼•å…¥</h4><p>åŒ…æ‹¬ä¸€äº›nuxt3çš„apiéƒ½æ˜¯ä¸ç”¨å¯¼å…¥çš„ç›´æ¥å°±å¯ä»¥ç”¨</p><p>ä¾‹å¦‚</p><ul><li><p>æ•°æ®è·å–çš„å‡½æ•°<code>useFetch</code> <code>useAsyncData</code> </p></li><li><p>çŠ¶æ€ç®¡ç†å‡½æ•°<code>useState</code> </p></li><li><p>è¿è¡Œå˜é‡è·å–å‡½æ•° <code>useRuntimeConfig</code></p></li><li><p>è¿è¡Œæ—¶ä¸Šä¸‹æ–‡è·å–å‡½æ•° <code>useNuxtApp</code></p></li></ul><h4 id="è¿˜æœ‰ä¸€äº›Vueçš„api"><a href="#è¿˜æœ‰ä¸€äº›Vueçš„api" class="headerlink" title="è¿˜æœ‰ä¸€äº›Vueçš„api"></a>è¿˜æœ‰ä¸€äº›Vueçš„api</h4><p>ä¾‹å¦‚</p><ul><li><p>å“åº”å¼çš„å‡½æ•°<code>ref</code></p></li><li><p>è®¡ç®—å±æ€§ <code>computed</code></p></li></ul><h4 id="æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹è‡ªåŠ¨å¼•å…¥"><a href="#æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹è‡ªåŠ¨å¼•å…¥" class="headerlink" title="æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹è‡ªåŠ¨å¼•å…¥"></a>æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹è‡ªåŠ¨å¼•å…¥</h4><p>ä¾‹å¦‚</p><ul><li><code>components/</code>æ–‡ä»¶å¤¹ä¸‹çš„ç»„ä»¶</li><li><code>composables/</code>æ–‡ä»¶å¤¹ä¸‹çš„å“åº”å¼å‡½æ•°</li><li><code>utils/</code>æ–‡ä»¶å¤¹ä¸‹çš„å·¥å…·å‡½æ•°</li></ul><h4 id="å¯ä»¥ä½¿ç”¨-importsæ¥ä½¿å¯¼å…¥æ˜ç¡®"><a href="#å¯ä»¥ä½¿ç”¨-importsæ¥ä½¿å¯¼å…¥æ˜ç¡®" class="headerlink" title="å¯ä»¥ä½¿ç”¨#importsæ¥ä½¿å¯¼å…¥æ˜ç¡®"></a>å¯ä»¥ä½¿ç”¨<code>#imports</code>æ¥ä½¿å¯¼å…¥æ˜ç¡®</h4><pre><code>&lt;script setup&gt;  import &#123; ref, computed &#125; from &#39;#imports&#39;  const count = ref(1)  const double = computed(() =&gt; count.value * 2)&lt;/script&gt;</code></pre><h4 id="å…³é—­è‡ªåŠ¨å¼•å…¥"><a href="#å…³é—­è‡ªåŠ¨å¼•å…¥" class="headerlink" title="å…³é—­è‡ªåŠ¨å¼•å…¥"></a>å…³é—­è‡ªåŠ¨å¼•å…¥</h4><p>åœ¨<code>nuxtconfig</code>é‡ŒåŠ å…¥</p><pre><code>export default defineNuxtConfig(&#123;  imports: &#123;    autoImport: false  &#125;&#125;)</code></pre><p>ï¼ˆğŸ˜¡è°ä¼šè¿™ä¹ˆåš</p><h2 id="è‡ªåŠ¨å¼•å…¥çš„ç»„ä»¶"><a href="#è‡ªåŠ¨å¼•å…¥çš„ç»„ä»¶" class="headerlink" title="è‡ªåŠ¨å¼•å…¥çš„ç»„ä»¶"></a>è‡ªåŠ¨å¼•å…¥çš„ç»„ä»¶</h2><p>å‡è®¾ç›®å½•å¦‚ä¸‹</p><pre><code>| components/--| base/----| foo/------| Button.vue</code></pre><p>æ­¤æ—¶å¯ä»¥ä½¿ç”¨<code>&lt;BaseFooButton /&gt;</code>æ ‡ç­¾å¼•å…¥è¿™ä¸ªbuttonç»„ä»¶</p><p>å¦å¤–ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªLazyå‰ç¼€æ¥æ‡’åŠ è½½ç»„ä»¶</p><p>ä¾‹å¦‚</p><pre><code>&lt;template&gt;  &lt;div&gt;    &lt;h1&gt;Mountains&lt;/h1&gt;    &lt;LazyMountainsList v-if=&quot;show&quot; /&gt;    &lt;button v-if=&quot;!show&quot; @click=&quot;show = true&quot;&gt;Show List&lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123;  data() &#123;    return &#123;      show: false    &#125;  &#125;&#125;&lt;/script&gt;</code></pre><p>è¿™æ ·å¯ä»¥å‡å°‘æ‰“åŒ…å¤§å°ï¼Œå¢åŠ æ€§èƒ½</p><h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><p>å†™åœ¨<code>pages/</code>é‡Œçš„ç»„ä»¶ä¼šè‡ªåŠ¨å†™å…¥è·¯ç”±</p><p><code>pages/index.vue</code>ä¼šåŒ¹é…è·¯ç”±<code>/</code></p><p>åªéœ€è¦åœ¨<code>app.vue</code>é‡Œæ·»åŠ </p><p><code>&lt;NuxtPage /&gt;</code>æ ‡ç­¾</p><p>å¯ä»¥é€šè¿‡æ’æ§½å†™æ³•ä¾‹å¦‚å†™<code>[id].vue</code>æ¥åŒ¹é…è·¯ç”±å†…çš„å‚æ•°</p><p>ä¾‹å¦‚å¦‚ä¸‹æ–‡ä»¶æ ‘</p><pre><code>-| pages/---| index.vue---| users-[group]/-----| [id].vue</code></pre><p>åœ¨<code>[id].vue</code>é‡Œå†™ä¸‹</p><pre><code>&lt;template&gt;  &lt;p&gt;&#123;&#123; $route.params.group &#125;&#125; - &#123;&#123; $route.params.id &#125;&#125;&lt;/p&gt;&lt;/template&gt;</code></pre><p>è¯»å–groupå‚æ•°å’Œidå‚æ•°</p><p>è®¿é—®è·¯ç”±<code>/users-admins/123</code>ä¼šæ¸²æŸ“æˆ</p><pre><code>&lt;p&gt;admins - 123&lt;/p&gt;</code></pre><h2 id="æ¸²æŸ“æ¨¡å¼"><a href="#æ¸²æŸ“æ¨¡å¼" class="headerlink" title="æ¸²æŸ“æ¨¡å¼"></a>æ¸²æŸ“æ¨¡å¼</h2><h4 id="ä¼ ç»Ÿçš„Vueé¡¹ç›®æ¸²æŸ“æ–¹å¼ä¸º-å®¢æˆ·ç«¯æ¸²æŸ“"><a href="#ä¼ ç»Ÿçš„Vueé¡¹ç›®æ¸²æŸ“æ–¹å¼ä¸º-å®¢æˆ·ç«¯æ¸²æŸ“" class="headerlink" title="ä¼ ç»Ÿçš„Vueé¡¹ç›®æ¸²æŸ“æ–¹å¼ä¸º  å®¢æˆ·ç«¯æ¸²æŸ“"></a>ä¼ ç»Ÿçš„Vueé¡¹ç›®æ¸²æŸ“æ–¹å¼ä¸º  <code>å®¢æˆ·ç«¯æ¸²æŸ“</code></h4><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230129144946.png"></p><p>æµè§ˆå™¨ä¼šå…ˆä¸‹è½½åˆ°ç©ºçš„htmlæ–‡ä»¶â†’ä¸‹è½½jsâ†’æ¸²æŸ“å‡ºæ¥</p><p>è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯ï¼š</p><ul><li><p>å¼€å‘é€Ÿåº¦å¿«ï¼šå½“å®Œå…¨åœ¨å®¢æˆ·ç«¯ä¸Šå·¥ä½œæ—¶ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒä»£ç çš„æœåŠ¡å™¨å…¼å®¹æ€§ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨åƒwindowsè¿™æ ·çš„æµè§ˆå™¨apiã€‚ </p></li><li><p>æ›´ä¾¿å®œçš„æœåŠ¡å™¨æˆæœ¬ï¼šè¿è¡Œä¸€ä¸ªæœåŠ¡å™¨ä¼šå¢åŠ ä¸€ä¸ªåŸºç¡€è®¾æ–½çš„æˆæœ¬ï¼Œå› ä¸ºæ‚¨éœ€è¦åœ¨ä¸€ä¸ªæ”¯æŒJavaScriptçš„å¹³å°ä¸Šè¿è¡Œã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•å…·æœ‰HTMLã€CSSå’ŒJavaScriptæ–‡ä»¶çš„é™æ€æœåŠ¡å™¨ä¸Šæ‰˜ç®¡ä»…é™å®¢æˆ·ç«¯çš„åº”ç”¨ç¨‹åºã€‚ </p></li><li><p>ä¸‹è½½å¥½åç¦»çº¿ï¼šå› ä¸ºä»£ç å®Œå…¨åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œæ‰€ä»¥å®ƒå¯ä»¥å¾ˆå¥½åœ°åœ¨äº’è”ç½‘ä¸å¯ç”¨æ—¶å¾ˆå¥½åœ°ä¿æŒå·¥ä½œã€‚</p></li></ul><p>ç¼ºç‚¹ä¸ºï¼š</p><ul><li>æ€§èƒ½ä¸å¥½ï¼šç”¨æˆ·å¿…é¡»ç­‰å¾…æµè§ˆå™¨ä¸‹è½½ã€è§£æå’Œè¿è¡ŒJavaScriptæ–‡ä»¶ã€‚æ ¹æ®ä¸‹è½½éƒ¨åˆ†çš„ç½‘ç»œå’Œç”¨æˆ·çš„è§£æå’Œæ‰§è¡Œè®¾å¤‡ï¼Œè¿™å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå¹¶å½±å“ç”¨æˆ·çš„ä½“éªŒã€‚</li><li>ä¸å‹å¥½çš„æœç´¢å¼•æ“ä¼˜åŒ–ï¼šç´¢å¼•å’Œæ›´æ–°é€šè¿‡å®¢æˆ·ç«¯å‘ˆç°äº¤ä»˜çš„å†…å®¹æ¯”ä½¿ç”¨æœåŠ¡å™¨å‘ˆç°çš„HTMLæ–‡æ¡£éœ€è¦æ›´å¤šçš„æ—¶é—´ã€‚</li></ul><h4 id="nuxt3çš„æœåŠ¡ç«¯æ¸²æŸ“"><a href="#nuxt3çš„æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="nuxt3çš„æœåŠ¡ç«¯æ¸²æŸ“"></a>nuxt3çš„<code>æœåŠ¡ç«¯æ¸²æŸ“</code></h4><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230129145732.png"></p><p>æœ‰å†…å®¹çš„htmlæ–‡ä»¶ä¼šä¸‹è½½åˆ°æµè§ˆå™¨â†’ç”¨æˆ·åœ¨æ­¤æ—¶å¯ä»¥ç‚¹å‡»å’Œæµè§ˆé¡µé¢ä¸Šçš„å†…å®¹ï¼ˆéƒ¨åˆ†åŠŸèƒ½ï¼‰â†’éœ€è¦çš„ç»„ä»¶æ¸²æŸ“å®Œæˆã€æ­¤æ—¶çš„é¡µé¢æœ‰å…¨éƒ¨åŠŸèƒ½</p><p>è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯ï¼š</p><ul><li>æ€§èƒ½å¥½ï¼šç”¨æˆ·å¯ä»¥ç«‹å³è®¿é—®é¡µé¢çš„å†…å®¹ï¼Œå› ä¸ºæµè§ˆå™¨æ˜¾ç¤ºé™æ€å†…å®¹çš„é€Ÿåº¦æ¯”<code>javascript</code>ç”Ÿæˆçš„é™æ€å†…å®¹è¦å¿«å¾—å¤šã€‚</li><li>æœç´¢å¼•æ“ä¼˜åŒ–ï¼šé€šç”¨å‘ˆç°å°†é¡µé¢çš„æ•´ä¸ªHTMLå†…å®¹ä½œä¸ºä¸€ä¸ªç»å…¸çš„æœåŠ¡å™¨åº”ç”¨ç¨‹åºä¼ é€’åˆ°æµè§ˆå™¨ã€‚Webçˆ¬è™«å¯ä»¥ç›´æ¥ç´¢å¼•é¡µé¢çš„å†…å®¹ã€‚</li></ul><p>ç¼ºç‚¹æ˜¯ï¼š</p><ul><li>å¼€å‘çº¦æŸï¼šæœåŠ¡å™¨å’Œæµè§ˆå™¨ç¯å¢ƒä¸æä¾›ç›¸åŒçš„apiï¼Œè€Œä¸”ç¼–å†™å¯ä»¥åœ¨ä¸¤è¾¹æ— ç¼è¿è¡Œçš„ä»£ç å¯èƒ½ä¼šå¾ˆæ£˜æ‰‹ã€‚å¹¸è¿çš„æ˜¯ï¼ŒNuxtæä¾›äº†ç‰¹å®šçš„å˜é‡æ¥åŒæ­¥è¿™äº›ã€‚</li><li>æˆæœ¬é«˜ï¼šæœåŠ¡å™¨éœ€è¦è¿è¡Œï¼Œæ‰èƒ½åŠ¨æ€åœ°å‘ˆç°é¡µé¢ã€‚è¿™å°±åƒä»»ä½•ä¼ ç»ŸæœåŠ¡å™¨ä¸€æ ·ï¼Œå¢åŠ äº†æ¯æœˆçš„æˆæœ¬ã€‚ä½†æ˜¯ï¼Œç”±äºæµè§ˆå™¨æ¥ç®¡äº†å®¢æˆ·ç«¯å¯¼èˆªçš„é€šç”¨æ¸²æŸ“ï¼ŒæœåŠ¡å™¨è°ƒç”¨å¤§å¤§å‡å°‘äº†ã€‚</li></ul><h2 id="ç±»å‹æ£€æŸ¥"><a href="#ç±»å‹æ£€æŸ¥" class="headerlink" title="ç±»å‹æ£€æŸ¥"></a>ç±»å‹æ£€æŸ¥</h2><p>ä½¿ç”¨ <code>TypeScript</code> åå¯ä»¥ä½¿ç”¨nuxiå¸¦çš„è¯­æ³•æ£€æŸ¥</p><pre><code>yarn nuxi typecheck</code></pre><p>nuxtä¹Ÿä¼šè‡ªåŠ¨ç”Ÿæˆç±»å‹</p><p>åœ¨<a href="https://nuxt.com/docs/guide/concepts/typescript#nuxtnuxtdts"><code>.nuxt/nuxt.d.ts</code></a>ç›®å½•ä¸‹</p><h2 id="æ–‡ä»¶ç›®å½•"><a href="#æ–‡ä»¶ç›®å½•" class="headerlink" title="æ–‡ä»¶ç›®å½•"></a>æ–‡ä»¶ç›®å½•</h2><p>ä¸€ä¸ªå®Œæ•´çš„nuxt3é¡¹ç›®æ–‡ä»¶ç›®å½•åº”è¯¥åŒ…å«ä»¥ä¸‹æ–‡ä»¶å¤¹å’Œæ–‡ä»¶</p><pre><code>.nuxt                      nuxtç”Ÿæˆçš„æ–‡ä»¶ç›®å½•é‡Œé¢æœ‰ è¿è¡Œçš„ç±»å‹ç­‰.output                    buildäº§ç‰©æ–‡ä»¶å¤¹assets                     cssæ–‡ä»¶ã€å­—ä½“æ–‡ä»¶ã€å›¾ç‰‡æ–‡ä»¶components                 ç»„ä»¶ç›®å½•composables                å“åº”å¼å‡½æ•°çš„æ–‡ä»¶å¤¹content                    åŸºäºæ–‡ä»¶çš„cmsçš„æ–‡ä»¶å¤¹layouts                    å¸ƒå±€ç»„ä»¶çš„æ–‡ä»¶å¤¹middleware                 ä¸­é—´ä»¶æ–‡ä»¶å¤¹node_modules               ä¾èµ–æ–‡ä»¶å¤¹pages                      è·¯ç”±çš„é¡µé¢plugins                    nuxtæ’ä»¶public                     å…¬å…±æ–‡ä»¶æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ”¾icoå›¾æ ‡ï¼Œå›¾ç‰‡server                     æœåŠ¡ç«¯apiæ–‡ä»¶å¤¹utils                      å·¥å…·å‡½æ•°æ–‡ä»¶å¤¹.gitignore                 gitå¿½ç•¥æ–‡ä»¶.nuxtignore                ä¸åŠ å…¥nuxtç¼–è¯‘çš„å¿½ç•¥æ–‡ä»¶app.config.ts              configæ–‡ä»¶ å¯ä»¥ä½¿ç”¨useAppConfigè¯»å–app.vue                    vueå…¥å£ nuxt.config.ts             nuxté…ç½®æ–‡ä»¶package.json               ä¾èµ–æè¿°æ–‡ä»¶tsconfig.json              tsæ£€æŸ¥é…ç½®æ–‡ä»¶</code></pre><p><a href="https://nuxt.com/docs/guide/directory-structure/nuxt">https://nuxt.com/docs/guide/directory-structure/nuxt</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬ç¯‡æ–‡ç« ä»‹ç»äº†nuxt3çš„é«˜çº§ç”¨æ³•</p><p>æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨nuxt3æ¥å¼€å‘é¡¹ç›®</p><p>è¸©åˆ°çš„å‘è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œé¢„è®¡å¯ä»¥å†™ä¸€ç¯‡è¸©å‘è®°å½•</p><p>ğŸ˜ğŸ¥°</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://nuxt.com/docs/guide/concepts/auto-imports">https://nuxt.com/docs/guide/concepts/auto-imports</a></p><p><a href="https://nuxt.com/docs/guide/directory-structure/composables">https://nuxt.com/docs/guide/directory-structure/composables</a></p><p><a href="https://nuxt.com/docs/guide/directory-structure/components">https://nuxt.com/docs/guide/directory-structure/components</a></p><p><a href="https://github.com/unjs/nitro">https://github.com/unjs/nitro</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é’è®­è¥ä»»åŠ¡-æˆ‘çš„åç‰‡-å¯çˆ±æâ˜º</title>
      <link href="/2023/01/28/%E3%80%8C%E9%9D%92%E8%AE%AD%E8%90%A5%20X%20%E7%A0%81%E4%B8%8A%E6%8E%98%E9%87%91%E3%80%8D%E4%B8%BB%E9%A2%98%201%E2%80%94%E2%80%94%E6%88%91%E7%9A%84%E5%90%8D%E7%89%87/"/>
      <url>/2023/01/28/%E3%80%8C%E9%9D%92%E8%AE%AD%E8%90%A5%20X%20%E7%A0%81%E4%B8%8A%E6%8E%98%E9%87%91%E3%80%8D%E4%B8%BB%E9%A2%98%201%E2%80%94%E2%80%94%E6%88%91%E7%9A%84%E5%90%8D%E7%89%87/</url>
      
        <content type="html"><![CDATA[<p><strong>å½“é’è®­è¥é‡ä¸Šç ä¸Šæ˜é‡‘</strong></p><h2 id="ä¸»é¢˜ä»‹ç»"><a href="#ä¸»é¢˜ä»‹ç»" class="headerlink" title="ä¸»é¢˜ä»‹ç»"></a>ä¸»é¢˜ä»‹ç»</h2><ul><li><h4 id="ä¸»é¢˜-1ï¼šæˆ‘çš„åç‰‡"><a href="#ä¸»é¢˜-1ï¼šæˆ‘çš„åç‰‡" class="headerlink" title="ä¸»é¢˜ 1ï¼šæˆ‘çš„åç‰‡"></a>ä¸»é¢˜ 1ï¼šæˆ‘çš„åç‰‡</h4>åç‰‡æ˜¯å‘äººä»‹ç»è‡ªæˆ‘çš„é‡è¦å·¥å…·ï¼Œä½œä¸ºä¸€åç¨‹åºå‘˜ç”¨ä»£ç åšè‡ªæˆ‘ä»‹ç»æ˜¯ä¸€ä»¶éå¸¸é…·ç‚«çš„äº‹æƒ…ã€‚è¯·å¤§å®¶å›´ç»•â€œæˆ‘çš„åç‰‡â€è¿™ä¸ªä¸»é¢˜è¿›è¡Œä»£ç åˆ›ä½œã€‚</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ—¢ç„¶è¯´æ•´ä¸ªé…·ç‚«çš„</p><p>ç›´æ¥ä¸Šæ¡†æ¶</p><p><a href="https://github.com/antfu/vitesse-webext">https://github.com/antfu/vitesse-webext</a></p><p>è¿™ä¸ªæ¨¡æ¿æ˜¯åŸºäºVueçš„webextï¼ˆæµè§ˆå™¨æ’ä»¶æ‰‹è„šæ¶ï¼‰</p><p>webextæ˜¯ä¸€ä¸ªå¯ä»¥å¸®åŠ©æ„å»ºã€è¿è¡Œå’Œæµ‹è¯•Webæ‰©å±•çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p><p><a href="https://wiki.mozilla.org/WebExtensions">https://wiki.mozilla.org/WebExtensions</a></p><p>webextçš„ç›®æ ‡æ˜¯ä»¥ä¸€ç§æ ‡å‡†çš„ã€å¯ç§»æ¤ã€è·¨å¹³å°çš„æ–¹å¼æ”¯æŒæµè§ˆå™¨æ‰©å±•ã€‚æœ€åˆï¼Œå®ƒå°†ä¸ºå¼€å‘ç«ç‹æ‰©å±•æä¾›ä¸€ä¸ªç®€åŒ–çš„ä½“éªŒã€‚</p><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å®ç°ä¸€ä¸ªæµè§ˆå™¨æ‰©å±•ç±»å‹çš„åç‰‡</p><h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><ul><li>âš¡ï¸ Vite å¿«é€Ÿæ„å»º</li><li>ğŸ¥ Vue 3 -ç»„åˆå¼api 3.2+setupè¯­æ³•</li><li>ğŸ’¬<a href="https://github.com/antfu/webext-bridge"><code>webext-bridge</code></a> çš„local storage å’Œ <a href="https://github.com/antfu/vueuse">VueUse</a> çš„ä½¿ç”¨ç»“åˆ</li><li>ğŸŒˆ <a href="https://github.com/unocss/unocss">UnoCSS</a> - åŸå­åŒ–CSSå¼•æ“</li><li>ğŸ¦¾ <a href="https://www.typescriptlang.org/">TypeScript</a> è¯­æ³•æ”¯æŒ</li><li>ğŸ“¦ <a href="https://github.com/antfu/vitesse-webext/blob/main/src/components">Components auto importing</a> è‡ªåŠ¨å¼•å…¥</li><li>ğŸŒ WebExtension - æ ‡å‡†æµè§ˆå™¨æ‰©å±•æ‰‹è„šæ¶ å¯ä»¥ä¸€é”®ç”Ÿæˆchromiumã€Firefoxé€‚é…çš„æ‰©å±•</li><li>ğŸ˜´ mv3 - manifest v3</li></ul><h2 id="å‘"><a href="#å‘" class="headerlink" title="å‘"></a>å‘</h2><p>æœ¬èº«è¿™ä¸ªé¡¹ç›®æ²¡ä»€ä¹ˆå‘çš„ã€åªæ˜¯</p><p>ğŸ˜¡</p><p>æµè§ˆå™¨åœ¨2023å¹´æŠ›å¼ƒmanifest v2</p><p>æ‰€ä»¥ä½¿ç”¨manifest v2æ‰“åŒ…åçš„æµè§ˆå™¨æ‰©å±•æµè§ˆå™¨ä¸è®¤</p><p>ä¼šæ˜¾ç¤º</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128210235.png"></p><p>ğŸ˜±</p><p>è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯æœ¬èº«ä¸å¤ªä¼šCSS</p><p>è°ƒCSSèŠ±äº†å¾ˆé•¿æ—¶é—´</p><p>ä½†æ˜¯unocssè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><pre><code class="vue">&lt;script setup&gt;import &#123; useImage &#125; from &#39;@vueuse/core&#39;const avatarUrl = &#39;https://s1.ax1x.com/2023/01/23/pSYuIYD.png&#39;const waka = &#39;https://wakatime.com/badge/user/84476697-3421-4720-bcdc-efb5c0fbc1b8.svg?style=flat-square&#39;const kita = &#39;https://www.z4a.net/images/2023/01/28/kita.gif&#39;const &#123; isLoading &#125; = useImage(&#123; src: avatarUrl &#125;)const &#123; isLoading_waka &#125; = useImage(&#123; src: waka &#125;)const &#123; isLoading_kita &#125; = useImage(&#123; src: kita &#125;)const to_left = () =&gt; &#123;  document.getElementsByClassName(&#39;img&#39;)[0].classList.remove(&#39;to_right&#39;)  document.getElementsByClassName(&#39;right_text&#39;)[0].classList.remove(&#39;to_right_text&#39;)  document.getElementsByClassName(&#39;right_block&#39;)[0].classList.remove(&#39;to_right_block&#39;)  document.getElementsByClassName(&#39;left_block&#39;)[0].classList.remove(&#39;to_left_block&#39;)  document.getElementsByClassName(&#39;left_img&#39;)[0].classList.remove(&#39;to_left_img&#39;)&#125;const to_right = () =&gt; &#123;  document.getElementsByClassName(&#39;img&#39;)[0].classList.add(&#39;to_right&#39;)  document.getElementsByClassName(&#39;right_text&#39;)[0].classList.add(&#39;to_right_text&#39;)  document.getElementsByClassName(&#39;right_block&#39;)[0].classList.add(&#39;to_right_block&#39;)  document.getElementsByClassName(&#39;left_block&#39;)[0].classList.add(&#39;to_left_block&#39;)  document.getElementsByClassName(&#39;left_img&#39;)[0].classList.add(&#39;to_left_img&#39;)&#125;&lt;/script&gt;&lt;template&gt;  &lt;main class=&quot;w-[384px] h-[256px] text-center text-light-700 bg-[#f69db2] font-sans&quot;&gt;    &lt;div class=&quot;h-100% w-100% flex flex-row justify-between p-5 items-center gap-5&quot;&gt;      &lt;div class=&quot;absolute left-0 top-0 translate-x-[-100%]&quot;&gt;        &lt;div class=&quot;flex flex-col justify-end left_block duration-700 &quot;&gt;          &lt;div class=&quot;bg-[#60c5e7] p-5&quot; /&gt;          &lt;div class=&quot;bg-[#f3d263] p-5&quot; /&gt;        &lt;/div&gt;      &lt;/div&gt;      &lt;div class=&quot;absolute left-0 top-0 translate-x-[-100%]&quot;&gt;        &lt;span v-if=&quot;isLoading&quot; class=&quot;animate-pulse bg-[#0A4445] px-11.5 py-16 text-center font-black&quot;&gt;Loading&lt;/span&gt;        &lt;img v-else :src=&quot;kita&quot; class=&quot;left_img duration-400&quot;&gt;      &lt;/div&gt;      &lt;span v-if=&quot;isLoading&quot; class=&quot;animate-pulse bg-[#0A4445] px-11.5 py-16 text-center font-black&quot;&gt;Loading&lt;/span&gt;      &lt;img v-else :src=&quot;avatarUrl&quot; class=&quot;w-35 h-35 img duration-700&quot;&gt;      &lt;div class=&quot;flex flex-col gap-5 h-119%&quot;&gt;        &lt;div class=&quot;flex flex-row justify-end translate-x-4.9 right_block duration-700 &quot;&gt;          &lt;div class=&quot;bg-[#60c5e7] p-5&quot; /&gt;          &lt;div class=&quot;bg-[#f3d263] p-5&quot; /&gt;        &lt;/div&gt;        &lt;div class=&quot;flex flex-col gap-5 pt-8 right_text duration-700 &quot;&gt;          &lt;div class=&quot;text-center font-bold text-lg text-[#df4b57]&quot;&gt;            ğŸ‘‹  Hi, Iâ€™m  @camera-2018          &lt;/div&gt;          &lt;span v-if=&quot;isLoading&quot; class=&quot;animate-pulse bg-[#0A4445] px-15 text-center font-black&quot;&gt;Loading&lt;/span&gt;          &lt;a v-else href=&quot;https://wakatime.com/@84476697-3421-4720-bcdc-efb5c0fbc1b8&quot;&gt;&lt;img :src=&quot;waka&quot; alt=&quot;Total time coded since May 9 2022&quot;&gt;&lt;/a&gt;        &lt;/div&gt;      &lt;/div&gt;    &lt;/div&gt;    &lt;footer class=&quot;bg-[#f69db2] &quot;&gt;      &lt;button class=&quot;i-carbon-caret-left hover:bg-[#1DCED1] bg-light-50&quot; @click=&quot;to_left&quot; /&gt;      &lt;button class=&quot;i-carbon-caret-right hover:bg-[#1DCED1] bg-light-50&quot; @click=&quot;to_right&quot; /&gt;    &lt;/footer&gt;  &lt;/main&gt;&lt;/template&gt;&lt;style&gt;.to_right&#123;  @apply translate-x-142% transition&#125;.to_right_text &#123;  @apply translate-x-190% transition&#125;.to_right_block &#123;  @apply translate-y-[-120%] transition&#125;.to_left_block &#123;  @apply translate-x-100% transition&#125;.to_left_img &#123;  @apply translate-x-90% transition&#125;&lt;/style&gt;</code></pre><p>ä¸»è¦çš„ä»£ç å°±è¿™ä¹ˆå¤š</p><h3 id="å¤§æ¦‚æ€è·¯æ˜¯"><a href="#å¤§æ¦‚æ€è·¯æ˜¯" class="headerlink" title="å¤§æ¦‚æ€è·¯æ˜¯"></a>å¤§æ¦‚æ€è·¯æ˜¯</h3><ol><li><p>é€šè¿‡unocssçš„é¢„è®¾æ·»åŠ ä½¿ç”¨@applyçš„æ ·å¼</p></li><li><p>å†é€šè¿‡jsæ·»åŠ æ ·å¼åˆ°å…ƒç´ ä¸Š</p></li><li><p>ä½¿ç”¨è¿‡æ¸¡æ•ˆæœ æ·»åŠ è¿‡æ¸¡æ—¶é—´</p></li><li><p>å›¾ç‰‡åŠ è½½éƒ¨åˆ†ä½¿ç”¨vueuseçš„useImage æ²¡åŠ è½½å‡ºæ¥ä¹‹å‰æ˜¯æœ‰ä¸ªloadingçš„ç•Œé¢</p></li><li><p>ä½¿ç”¨äº†ä¸€ä¸ªwakatimeçš„svgå±•ç¤ºæœ€è¿‘æ•²ä»£ç æ—¶é—´ç‚¹å‡»å¯çœ‹</p></li></ol><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/GIF%202023-1-28%2020-45-47.gif"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128213920.png"></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128214002.png"></p><h2 id="çµæ„Ÿ"><a href="#çµæ„Ÿ" class="headerlink" title="çµæ„Ÿ"></a>çµæ„Ÿ</h2><p><a href="https://mzh.moegirl.org.cn/%E5%90%8E%E8%97%A4%E4%B8%80%E9%87%8C">https://mzh.moegirl.org.cn/%E5%90%8E%E8%97%A4%E4%B8%80%E9%87%8C</a></p><p>å¤åˆ»äº†å­¤ç‹¬æ‘‡æ»š åè—¤ä¸€é‡Œ çš„é…è‰² å³ä¸Šè§’æˆ–å·¦ä¸Šè§’çš„æ–¹å—ä¸ºæ³¢å¥‡é…±çš„å‘é¥°</p><h2 id="æºä»£ç "><a href="#æºä»£ç " class="headerlink" title="æºä»£ç "></a>æºä»£ç </h2><p>ä»£ç å¼€æºäº</p><p><a href="https://github.com/camera-2018/business-card-mv3">https://github.com/camera-2018/business-card-mv3</a></p><p>å¯ä»¥åœ¨<a href="https://github.com/camera-2018/business-card-mv3/releases">Releases</a>ä¸­ä¸‹è½½ç¼–è¯‘å¥½çš„æ‰©å±• è§£å‹ç„¶åç‚¹å‡»æµè§ˆå™¨çš„æ‰©å±•ç¨‹åºé€‰é¡¹å¡ <code>chrome://extensions/</code></p><p>è®°å¾—è¦å¼€å³ä¸Šè§’çš„å¼€å‘è€…æ¨¡å¼å“¦</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128212633.png"></p><p>ç„¶ååŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºå°±å¯ä»¥äº†</p><h2 id="popupéƒ¨åˆ†ä»£ç "><a href="#popupéƒ¨åˆ†ä»£ç " class="headerlink" title="popupéƒ¨åˆ†ä»£ç "></a>popupéƒ¨åˆ†ä»£ç </h2><p><a href="https://github.com/camera-2018/business-card-mv3/tree/refactor/mv3/src/popup">popup</a>éƒ¨åˆ†ä»£ç æ”¾åœ¨ç ä¸Šæ˜é‡‘ä¸Š</p><p><a href="https://code.juejin.cn/api/raw/7193666089241772090?id=7193666089241821242">https://code.juejin.cn/api/raw/7193666089241772090?id=7193666089241821242</a></p><p>ç”±äºä¾èµ–æ¯”è¾ƒå¤šï¼Œè€Œç ä¸Šæ˜é‡‘æ‹‰ä¸åˆ°cdnjsdelivrçš„æ•°æ®</p><p>æ‰€ä»¥åœ¨ç ä¸Šæ˜é‡‘ä¸Šæ˜¯æ— æ³•æ­£å¸¸æ˜¾ç¤ºçš„ğŸ˜¥ æƒ³è¯•è¯•çš„è¯è¯·å»<a href="https://github.com/camera-2018/business-card-mv3%E6%BA%90%E7%A0%81">https://github.com/camera-2018/business-card-mv3æºç </a></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230128213154.png"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://code.juejin.cn/pen/7193666089241772090">https://code.juejin.cn/pen/7193666089241772090</a></p><p><a href="https://juejin.cn/post/7187753682421678137">https://juejin.cn/post/7187753682421678137</a></p><p><a href="https://mzh.moegirl.org.cn/%E5%90%8E%E8%97%A4%E4%B8%80%E9%87%8C">https://mzh.moegirl.org.cn/%E5%90%8E%E8%97%A4%E4%B8%80%E9%87%8C</a></p><p><a href="https://github.com/antfu/vitesse-webext">https://github.com/antfu/vitesse-webext</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Nuxt3ä¸æœåŠ¡ç«¯æ¸²æŸ“SSRï¼ˆä¸‹ï¼‰ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/28/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8B%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0%20-%20%E5%89%AF%E6%9C%AC/"/>
      <url>/2023/01/28/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8B%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0%20-%20%E5%89%AF%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 12 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†å¤§æ¦‚ä¸€åŠçš„nuxt3ç‰¹æ€§ï¼Œè¿™ä¸€ç¯‡ä¼šä»‹ç»å¦å¤–ä¸€åŠ</p><p>æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨nuxt3æ¥å¼€å‘é¡¹ç›®</p><p>è¸©åˆ°çš„å‘è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œé¢„è®¡å¯ä»¥å†™ä¸€ç¯‡è¸©å‘è®°å½•</p><h2 id="è¿‡æ¸¡"><a href="#è¿‡æ¸¡" class="headerlink" title="è¿‡æ¸¡"></a>è¿‡æ¸¡</h2><p>Nuxtåˆ©ç”¨Vueçš„ <a href="https://vuejs.org/guide/built-ins/transition.html#the-transition-component"><code>&lt;Transition&gt;</code></a>ç»„ä»¶æ¥åº”ç”¨é¡µé¢å’Œå¸ƒå±€ä¹‹é—´çš„è½¬æ¢ã€‚</p><p>åªéœ€è¦åœ¨nuxt configé‡Œè®¾ç½®</p><pre><code class="js">export default defineNuxtConfig(&#123;  app: &#123;    pageTransition: &#123; name: &#39;page&#39;, mode: &#39;out-in&#39; &#125;  &#125;,&#125;)</code></pre><p>ç„¶ååœ¨<code>app.vue</code>é‡Œè®¾ç½®ä½ æƒ³è¦çš„è¿‡æ¸¡åŠ¨ç”»</p><pre><code class="vue">&lt;template&gt;  &lt;NuxtPage /&gt;&lt;/template&gt;&lt;style&gt;.page-enter-active,.page-leave-active &#123;  transition: all 0.4s;&#125;.page-enter-from,.page-leave-to &#123;  opacity: 0;  filter: blur(1rem);&#125;&lt;/style&gt;</code></pre><p>ç±»åå¿…é¡»æ˜¯è¿™å‡ ä¸ª</p><p>å°±å¯ä»¥å®ç°ä¸€ä¸ªåˆ‡æ¢é¡µé¢æœ‰è™šåŒ–æ•ˆæœçš„åŠ¨ç”»</p><p>æ›´é«˜çº§çš„ç”¨æ³•è¯¦è§å®˜æ–¹æ–‡æ¡£</p><p><a href="https://nuxt.com/docs/getting-started/transitions">https://nuxt.com/docs/getting-started/transitions</a></p><h2 id="ä½¿ç”¨Apiè·å–æ•°æ®"><a href="#ä½¿ç”¨Apiè·å–æ•°æ®" class="headerlink" title="ä½¿ç”¨Apiè·å–æ•°æ®"></a>ä½¿ç”¨Apiè·å–æ•°æ®</h2><p>nuxt3è‡ªå¸¦ä¸€ä¸ª<code>vueuse</code>é‡Œçš„ <code>useFetch</code> api</p><p>ä½¿ç”¨æ–¹æ³•ä¸º</p><pre><code>&lt;script setup&gt;const &#123; data: count &#125; = await useFetch(&#39;/api/count&#39;)&lt;/script&gt;&lt;template&gt;  Page visits: &#123;&#123; count &#125;&#125;&lt;/template&gt;</code></pre><p>å¯ä»¥ä½¿ç”¨<code>useAsyncData</code>æ¥å¼‚æ­¥è·å–æ•°æ®</p><pre><code>&lt;script setup&gt;const &#123; data &#125; = await useAsyncData(&#39;count&#39;, () =&gt; $fetch(&#39;/api/count&#39;))&lt;/script&gt;&lt;template&gt;  Page visits: &#123;&#123; data &#125;&#125;&lt;/template&gt;</code></pre><p>æ›´é«˜çº§çš„ç”¨æ³•è¯¦è§å®˜æ–¹æ–‡æ¡£</p><p><a href="https://nuxt.com/docs/getting-started/data-fetching">https://nuxt.com/docs/getting-started/data-fetching</a></p><h2 id="çŠ¶æ€ç®¡ç†"><a href="#çŠ¶æ€ç®¡ç†" class="headerlink" title="çŠ¶æ€ç®¡ç†"></a>çŠ¶æ€ç®¡ç†</h2><p>nuxt3æä¾›äº†<code>vueuse</code>çš„ä¸€ä¸ªapiå«<code>useState</code>æ¥å®ç°å…¨å±€çŠ¶æ€ç®¡ç†</p><p>æ— éœ€åˆ›å»ºstateæ–‡ä»¶</p><p>ç›´æ¥ä½¿ç”¨</p><pre><code>&lt;script setup&gt;const counter = useState(&#39;counter&#39;, () =&gt; Math.round(Math.random() * 1000))&lt;/script&gt;&lt;template&gt;  &lt;div&gt;    Counter: &#123;&#123; counter &#125;&#125;    &lt;button @click=&quot;counter++&quot;&gt;      +    &lt;/button&gt;    &lt;button @click=&quot;counter--&quot;&gt;      -    &lt;/button&gt;  &lt;/div&gt;&lt;/template&gt;</code></pre><p>è¿™ä¸ªä¾‹å­åˆ›å»ºäº†ä¸€ä¸ªstateå«counter é‡Œé¢é»˜è®¤è®°å½•äº†ä¸€ä¸ªéšæœºæ•°</p><p>ç‚¹å‡»æŒ‰é’®ä¼šè®©éšæœºæ•°è¿›è¡ŒåŠ å‡</p><p><code>useState</code>é»˜è®¤ä¸ºå“åº”å¼ å¾ˆæ–¹ä¾¿</p><p>nuxt3çš„auto importç‰¹æ€§å¯ä»¥ä½¿stateç®€å†™ä¸º</p><pre><code>const counter = useCounter() // Same as useState(&#39;counter&#39;)</code></pre><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><p>nuxtæä¾›äº†å¾ˆå¤šé«˜çº§çš„é”™è¯¯å¤„ç†æ–¹å¼</p><p>ä¸€ä¸ªæœ€ç®€å•çš„apiæ˜¯<code>useError</code></p><pre><code>const error = useError()</code></pre><p>è¿™å¥ä»£ç å¯ä»¥å¿«é€Ÿçš„æŠ›å‡ºä¸€æ¡é”™è¯¯</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>createError</code>æ–¹æ³•</p><pre><code>&lt;script setup&gt;const route = useRoute()const &#123; data &#125; = await useFetch(`/api/movies/$&#123;route.params.slug&#125;`)if (!data.value) &#123;  throw createError(&#123; statusCode: 404, statusMessage: &#39;Page Not Found&#39; &#125;)&#125;&lt;/script&gt;</code></pre><h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><p>æ­£å¸¸çš„ä½¿ç”¨<code>nuxt build</code>å‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªåœ¨nodeç¯å¢ƒä¸­è¿è¡Œçš„è¿è¡Œæ—¶</p><p><code>.mjsæ–‡ä»¶</code></p><pre><code class="sh">node .output/server/index.mjs</code></pre><p>å³å¯è¿è¡Œ</p><pre><code class="bash">$ node .output/server/index.mjsListening on http://localhost:3000</code></pre><p>å¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ä¾‹å¦‚</p><pre><code>PORT=3001 node .output/server/index.mjs</code></pre><p>åœ¨3001ç«¯å£è¿è¡Œ</p><p>åœ¨ <code>nuxt.config</code> é‡Œæ·»åŠ </p><pre><code>export default &#123;  nitro: &#123;    preset: &#39;node-server&#39;  &#125;&#125;</code></pre><p>æˆ–è€…<code>NITRO_PRESET=node-server nuxt build</code></p><p>presetå­—æ®µå¯ä»¥æ›´æ”¹ç”Ÿæˆçš„ä»£ç çš„ä¾èµ–å¹³å°</p><p>æ”¯æŒçš„å¹³å°æœ‰</p><ul><li><a href="https://nitro.unjs.io/deploy/providers/aws">AWS</a></li><li><a href="https://nitro.unjs.io/deploy/providers/azure">Azure</a></li><li><a href="https://nitro.unjs.io/deploy/providers/cleavr">Cleavr</a></li><li><a href="https://nitro.unjs.io/deploy/providers/cloudflare">CloudFlare</a></li><li><a href="https://nitro.unjs.io/deploy/providers/digitalocean">Digital Ocean</a></li><li><a href="https://nitro.unjs.io/deploy/providers/firebase">Firebase</a></li><li><a href="https://nitro.unjs.io/deploy/providers/heroku">heroku</a></li><li><a href="https://nitro.unjs.io/deploy/providers/edgio">Edgio</a></li><li><a href="https://nitro.unjs.io/deploy/providers/netlify">Netlify</a></li><li><a href="https://nitro.unjs.io/deploy/providers/render">Render</a></li><li><a href="https://nitro.unjs.io/deploy/providers/stormkit">Stormkit</a></li><li><a href="https://nitro.unjs.io/deploy/providers/vercel">Vercel</a></li></ul><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>å¯ä»¥æ·»åŠ viteståº“æ¥è¿›è¡Œæµ‹è¯•</p><pre><code>yarn add --dev @nuxt/test-utils vitest</code></pre><p>æ–¹æ³•å¦‚ä¸‹</p><p>æ–°å»ºtestç›®å½• åˆ›å»ºæ–‡ä»¶ <code>demo.test.ts</code></p><pre><code class="ts">import &#123; describe, test &#125; from &#39;vitest&#39;import &#123; setup, $fetch &#125; from &#39;@nuxt/test-utils&#39;describe(&#39;My test&#39;, async () =&gt; &#123;  await setup(&#123;    // test context options  &#125;)  test(&#39;my test&#39;, () =&gt; &#123;    // ...  &#125;)&#125;)</code></pre><p>è¿è¡Œvitestå³å¯è·å¾—é€šè¿‡æˆ–ä¸é€šè¿‡æç¤º</p><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>åˆ°è¿™é‡Œnuxt3åŸºç¡€å°±å‡ ä¹ç»“æŸäº†</p><p>è¿˜æœ‰ä¸€äº›æ›´é«˜çº§çš„ç”¨æ³•æ²¡æœ‰è®²ï¼Œä¾‹å¦‚ç”Ÿå‘½å‘¨æœŸå•Šï¼Œnuxt-kitå•Šï¼Œè‡ªåŠ¨å¯¼å…¥å•Š</p><p>æœ‰æœºä¼šå¯ä»¥å†™ä¸€ç¯‡é«˜çº§æ•™ç¨‹</p><p>ğŸ˜‹ğŸ˜</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://nuxt.com/docs/getting-started/state-management">https://nuxt.com/docs/getting-started/state-management</a></p><p><a href="https://nuxt.com/docs/api/composables/use-state">https://nuxt.com/docs/api/composables/use-state</a></p><p><a href="https://juejin.cn/post/7193305766692913189">https://juejin.cn/post/7193305766692913189</a></p><p><a href="https://vueuse.org/">https://vueuse.org/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nuxt3ä¸æœåŠ¡ç«¯æ¸²æŸ“SSRï¼ˆä¸Šï¼‰ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/27/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8A%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/27/Nuxt3%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93SSR%EF%BC%88%E4%B8%8A%EF%BC%89%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 11 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>NuxtåŒæ—¶æä¾›äº†å‰ç«¯å’Œåç«¯åŠŸèƒ½ï¼Œå› æ­¤æ‚¨å¯ä»¥ä¸“æ³¨äºé‡è¦çš„äº‹æƒ…ï¼šåˆ›å»ºwebåº”ç”¨ç¨‹åºã€‚</p><p><a href="https://nuxt.com/docs">Nuxt3</a> æ˜¯åŸºäº <code>Vite</code>ã€<code>Vue3</code> å’Œ <code>Nitro</code> çš„ <code>Nuxt</code> æ¡†æ¶çš„é‡æ„ï¼Œå…·æœ‰ä¸€æµçš„ <code>Typescript</code> æ”¯æŒï¼Œä¸”è¿™æ¬¡æ›´æ–°å¯¹å†…æ ¸è¿›è¡Œäº†ç²¾ç®€ï¼Œä½¿ä¹‹é€Ÿåº¦æ›´å¿«ï¼Œä½“éªŒæ›´å¥½ã€‚</p><h2 id="äº†è§£-SSR"><a href="#äº†è§£-SSR" class="headerlink" title="äº†è§£ SSR"></a>äº†è§£ <code>SSR</code></h2><p><code>Nuxt</code> æ˜¯ä¸€ä¸ªåŸºäº <code>Vue.js</code> çš„æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨æ¡†æ¶</p><h3 id="ä»€ä¹ˆæ˜¯-SSR"><a href="#ä»€ä¹ˆæ˜¯-SSR" class="headerlink" title="ä»€ä¹ˆæ˜¯ SSR"></a>ä»€ä¹ˆæ˜¯ <code>SSR</code></h3><p><code>æœåŠ¡å™¨ç«¯æ¸²æŸ“</code>ï¼ˆServer-Side Renderingï¼‰æ˜¯æŒ‡ç”±æœåŠ¡ç«¯å®Œæˆé¡µé¢çš„ HTML ç»“æ„æ‹¼æ¥çš„é¡µé¢å¤„ç†æŠ€æœ¯ï¼Œå‘é€åˆ°æµè§ˆå™¨ï¼Œç„¶åä¸ºå…¶ç»‘å®šçŠ¶æ€ä¸äº‹ä»¶ï¼Œæˆä¸ºå®Œå…¨å¯äº¤äº’é¡µé¢çš„è¿‡ç¨‹ã€‚</p><p>ç®€å•ç†è§£å°±æ˜¯htmlæ˜¯ç”±æœåŠ¡ç«¯å†™å‡ºï¼Œå¯ä»¥åŠ¨æ€æ”¹å˜é¡µé¢å†…å®¹ï¼Œå³æ‰€è°“çš„åŠ¨æ€é¡µé¢ã€‚æ—©å¹´çš„ php ã€ asp ã€ jsp  è¿™äº› Server page éƒ½æ˜¯ SSR çš„ã€‚</p><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨-SSR"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨-SSR" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨ SSR"></a>ä¸ºä»€ä¹ˆä½¿ç”¨ <code>SSR</code></h3><ul><li>ç½‘é¡µå†…å®¹åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“å®Œæˆï¼Œä¸€æ¬¡æ€§ä¼ è¾“åˆ°æµè§ˆå™¨ï¼Œæ‰€ä»¥ <code>é¦–å±åŠ è½½é€Ÿåº¦éå¸¸å¿«</code>ï¼›</li><li><code>æœ‰åˆ©äºSEO</code>ï¼Œå› ä¸ºæœåŠ¡å™¨è¿”å›çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„ htmlï¼Œåœ¨æµè§ˆå™¨å¯ä»¥çœ‹åˆ°å®Œæ•´çš„ domï¼Œå¯¹äºçˆ¬è™«ã€ç™¾åº¦æœç´¢ç­‰å¼•æ“å°±æ¯”è¾ƒå‹å¥½ï¼›</li></ul><h2 id="Nuxt-3"><a href="#Nuxt-3" class="headerlink" title="Nuxt 3"></a>Nuxt 3</h2><p><code>Nuxt</code> æ˜¯ä¸€ä¸ªåŸºäº <code>Vue.js</code> çš„æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨æ¡†æ¶ï¼Œ</p><p>åˆšå»æŸ¥äº†ä¸€ä¸‹ nuxt3åœ¨1æœˆ23æ—¥å˜æˆäº†é»˜è®¤ç‰ˆæœ¬</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125003129.png"></p><p>åœ¨1æœˆ25æ—¥å‘å¸ƒäº†3.1.0ç‰ˆæœ¬</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230127185726.png"></p><ul><li><p>å®éªŒç»„ä»¶ç¾¤å²› å‡†å¤‡å°±ç»ª</p></li><li><p>æ–°çš„api</p></li><li><p>Nitro v2 ï¼Œvite 4 ï¼Œrollup3</p></li><li><p>æ€§èƒ½æ”¹è¿›</p></li></ul><h2 id="ä»€ä¹ˆæ˜¯Nuxtï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Nuxtï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Nuxtï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Nuxtï¼Ÿ</h2><p>è¦ç†è§£Nuxtæ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£åˆ›å»ºä¸€ä¸ªç°ä»£åº”ç”¨ç¨‹åºéœ€è¦ä»€ä¹ˆï¼š</p><ul><li>JavaScriptæ¡†æ¶ï¼š ä¸€ä¸ªå¸¦æ¥JavaScriptç»„ä»¶çš„JavaScriptæ¡†æ¶ï¼Œæ”¯æŒVue.jsã€‚</li><li>æ‰“åŒ…å·¥å…·ï¼šæ”¯æŒå¼€å‘ä¸­çš„çƒ­æ¨¡å—æ›¿æ¢å’Œç”Ÿäº§ä»£ç ï¼Œæ”¯æŒwebpack 5å’ŒViteã€‚</li><li>æœ€æ–°JavaScriptè¯­æ³•ï¼šåœ¨æ”¯æŒé—ç•™æµè§ˆå™¨çš„åŒæ—¶ç¼–å†™æœ€æ–°çš„JavaScriptè¯­æ³•çš„è½¬æ¢å™¨ï¼Œæ”¯æŒesbuildã€‚</li><li>æœåŠ¡å™¨ç«¯ï¼šNuxtæ˜¯ä¸€ä¸ªåœ¨å¼€å‘ä¸­æœåŠ¡äºåº”ç”¨ç¨‹åºçš„æœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒæœåŠ¡å™¨ç«¯å‘ˆç°æˆ–APIè·¯ç”±ï¼Œå®ƒä½¿ç”¨h3è¿›è¡Œéƒ¨ç½²çš„å¤šåŠŸèƒ½æ€§ï¼Œå¦‚serverless, workers, Node.jså’Œæ— ä¸ä¼¦æ¯”çš„æ€§èƒ½ã€‚</li><li>è·¯ç”±ï¼šä¸€ä¸ªå¤„ç†å®¢æˆ·ç«¯å¯¼èˆªçš„è·¯ç”±åº“ï¼Œæ”¯æŒ <a href="https://router.vuejs.org/">vue-router</a>.ã€‚</li></ul><h2 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p><a href="https://nuxt.com/docs/getting-started/installation#prerequisites">https://nuxt.com/docs/getting-started/installation#prerequisites</a></p><pre><code class="bash">pnpm dlx nuxi init &lt;project-name&gt;</code></pre><pre><code class="bash">code &lt;project-name&gt;</code></pre><pre><code class="bash"># Make sure you have `shamefully-hoist=true` in `.npmrc` before running pnpm installpnpm install</code></pre><p><strong>æ³¨æ„ï¼š</strong> å¦‚æœä½ ç”¨ <code>pnpm</code> å®‰è£…ä¾èµ–ï¼Œè¯·åˆ›å»ºä¸€ä¸ª <code>.npmrc</code> æ–‡ä»¶ï¼Œä¸”è®¾ç½®:</p><pre><code class="ini">shamefully-hoist=true</code></pre><p>å®‰è£…å®ŒæˆğŸ˜‹</p><h2 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h2><pre><code class="bash">pnpm dev -o</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230127193306.png"></p><p>çœ‹ä¸€çœ¼æ–‡ä»¶æ ‘</p><p>æŠ›å¼€ç¼–è¯‘ç»“æœ<code>.nuxt</code>æ–‡ä»¶å¤¹ä¸è°ˆ å°±åªæœ‰ä¸€ä¸ª<code>app.vue</code> å’Œ<code>nuxt.config.ts</code></p><p>å¾ˆç®€é™‹ æ€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èˆ¬å†™çš„vueæ¡†æ¶ä¹Ÿä¸æ˜¯è¿™æ ·çš„å•Š</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230127193603.png"></p><h2 id="åˆ›å»ºç›®å½•"><a href="#åˆ›å»ºç›®å½•" class="headerlink" title="åˆ›å»ºç›®å½•"></a>åˆ›å»ºç›®å½•</h2><p>åˆ›å»º <code>components/</code> <code>pages/</code></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230127200417.png"></p><p>å…·ä½“æ“ä½œè§å®˜æ–¹æ–‡æ¡£</p><p><a href="https://nuxt.com/docs/getting-started/views">https://nuxt.com/docs/getting-started/views</a></p><p>ä¹Ÿå¯ä»¥æ–°å»º<code>src</code>ç›®å½• æŠŠ <code>components/</code> <code>pages/</code>ç›®å½•æ”¾åˆ°<code>src</code>é‡Œ</p><p>åœ¨nuxté‡Œç»„ä»¶æ˜¯è‡ªåŠ¨å¯¼å…¥çš„ï¼Œä¸ç”¨é…ç½®</p><h2 id="è·¯ç”±è·³è½¬"><a href="#è·¯ç”±è·³è½¬" class="headerlink" title="è·¯ç”±è·³è½¬"></a>è·¯ç”±è·³è½¬</h2><p>è·¯ç”±æ˜¯è‡ªåŠ¨åˆ›å»ºçš„</p><pre><code class="html">&lt;NuxtLink to=&quot;/about&quot;&gt;About&lt;/NuxtLink&gt;</code></pre><p>ä»¥ä¸Šçš„ä»£ç ç‚¹å‡»ä¼šè‡ªåŠ¨è·³åˆ°<code>page/about.vue</code></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨è·¯ç”±</p><pre><code class="vue">&lt;script setup&gt;const route = useRoute()// When accessing /posts/1, route.params.id will be 1console.log(route.params.id)&lt;/script&gt;</code></pre><p><code>/posts/1</code>æ˜¯åˆ›å»ºçš„<code>/posts/[id].vue</code>è¿™æ ·idä¼šè¢«å½“åšpropsä¼ å…¥</p><h2 id="SEOä¼˜åŒ–"><a href="#SEOä¼˜åŒ–" class="headerlink" title="SEOä¼˜åŒ–"></a>SEOä¼˜åŒ–</h2><p>nuxtæœåŠ¡ç«¯æ¸²æŸ“æœ€é‡è¦çš„å°±æ˜¯æœç´¢å¼•æ“ä¼˜åŒ–</p><p>å¯ä»¥è¢«æ‹‰å–åˆ°å¸¦å†…å®¹çš„html</p><p>è€Œä¸æ˜¯ä¸€èˆ¬vueé¡¹ç›®çš„ç©ºhtml</p><pre><code class="js">export default defineNuxtConfig(&#123;  app: &#123;    head: &#123;      charset: &#39;utf-16&#39;,      viewport: &#39;width=500, initial-scale=1&#39;,      title: &#39;My App&#39;,      meta: [        // &lt;meta name=&quot;description&quot; content=&quot;My amazing site&quot;&gt;        &#123; name: &#39;description&#39;, content: &#39;My amazing site.&#39; &#125;      ],    &#125;  &#125;&#125;)</code></pre><p>åœ¨<code>nuxt.config.ts</code>é…ç½®å¦‚ä¸Šå†…å®¹</p><p>æˆ–è€…åœ¨<code>app.vue</code>é‡Œæ·»åŠ </p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;useHead(&#123;  title: &#39;My App&#39;,  meta: [    &#123; name: &#39;description&#39;, content: &#39;My amazing site.&#39; &#125;  ],  bodyAttrs: &#123;    class: &#39;test&#39;  &#125;,  script: [ &#123; children: &#39;console.log(\&#39;Hello world\&#39;)&#39; &#125; ]&#125;)useServerSeoMeta(&#123;  title: &#39;My Amazing Site&#39;,  ogTitle: &#39;My Amazing Site&#39;,  description: &#39;This is my amazing site, let me tell you all about it.&#39;,  ogDescription: &#39;This is my amazing site, let me tell you all about it.&#39;,  ogImage: &#39;https://example.com/image.png&#39;,  twitterCard: &#39;summary_large_image&#39;,&#125;)&lt;/script&gt;</code></pre><p>è¿™å‡ ä¸ªå‡½æ•°å¯ä»¥æ·»åŠ metaå¤´</p><p>è¿˜æœ‰ä¸€äº›è®¾ç½®å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ <a href="https://nuxt.com/docs/getting-started/seo-meta">https://nuxt.com/docs/getting-started/seo-meta</a></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <a href="https://nuxt.com/modules/seo-kit">https://nuxt.com/modules/seo-kit</a></p><p>è¿™ä¸ªæ¨¡å—æ¥é…ç½®SEO</p><p>å¾ˆæ–¹ä¾¿ğŸ˜</p><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>æœ¬ç¯‡æ–‡ç« ä»‹ç»äº†å¤§æ¦‚ä¸€åŠçš„nuxt3ç‰¹æ€§ï¼Œä¸‹ä¸€ç¯‡ä¼šä»‹ç»å¦å¤–ä¸€åŠ</p><p>æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨nuxt3æ¥å¼€å‘é¡¹ç›®</p><p>è¸©åˆ°çš„å‘è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œé¢„è®¡å¯ä»¥å†™ä¸€ç¯‡è¸©å‘è®°å½•</p><p>ğŸ˜</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://nuxt.com/modules/seo-kit">https://nuxt.com/modules/seo-kit</a></p><p><a href="https://nuxt.com/docs/getting-started/seo-meta">https://nuxt.com/docs/getting-started/seo-meta</a></p><p><a href="https://nuxt.com/docs/getting-started/views">https://nuxt.com/docs/getting-started/views</a></p><p><a href="https://nuxt.com/docs">https://nuxt.com/docs</a></p><p><a href="https://juejin.cn/post/7170746000112353293">https://juejin.cn/post/7170746000112353293</a></p><p><a href="https://juejin.cn/post/7037336504418435103">https://juejin.cn/post/7037336504418435103</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UnoCSSå®æˆ˜ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/26/UnoCSS%E5%AE%9E%E6%88%98%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/26/UnoCSS%E5%AE%9E%E6%88%98%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 10 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åŸå­åŒ–cssä½“éªŒ</p><p><a href="https://link.juejin.cn/?target=https://antfu.me/posts/reimagine-atomic-css-zh">é‡æ–°æ„æƒ³åŸå­åŒ– CSS (antfu.me)</a></p><p>æœ¬ç¯‡ä»‹ç»ä¸€ä¸‹å¦‚ä½•é…ç½®UnoCSSã€UnoCSSæ€ä¹ˆä½¿ç”¨</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>å…ˆåˆ›å»ºä¸€ä¸ªviteæ¨¡æ¿   <a href="https://cn.vitejs.dev/guide/#scaffolding-your-first-vite-project">https://cn.vitejs.dev/guide/#scaffolding-your-first-vite-project</a></p><p>è¿™é‡Œä½¿ç”¨pnpm</p><pre><code class="bash">pnpm create vite</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126210343.png"></p><p>é€‰æ‹©vueã€typescript</p><pre><code class="bash">cd vite-projectpnpm installpnpm run dev</code></pre><p>è¿è¡Œä¸€ä¸‹</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126210518.png"></p><p>åˆå§‹åŒ–æˆåŠŸäº†ï¼Œæ¥ä¸‹æ¥å®‰è£…unocss  <a href="https://github.com/unocss/unocss/tree/main/packages/vite">https://github.com/unocss/unocss/tree/main/packages/vite</a></p><p>ä½¿ç”¨æ–‡æ¡£ç»™çš„viteå®‰è£…æ–¹å¼</p><pre><code class="bash">pnpm i -D unocss</code></pre><p>åœ¨vite configé‡Œå†™ä¸Š</p><pre><code class="ts">// vite.config.tsimport UnoCSS from &#39;unocss/vite&#39;export default &#123;  plugins: [    UnoCSS(&#123; /* options */ &#125;),  ],&#125;</code></pre><p>é…ç½®å®Œå…¨çš„vite configæ˜¯è¿™æ ·çš„</p><pre><code class="ts">// vite.config.tsimport &#123; defineConfig &#125; from &#39;vite&#39;import vue from &#39;@vitejs/plugin-vue&#39;import UnoCSS from &#39;unocss/vite&#39;import &#123; presetUno &#125; from &#39;unocss&#39;// https://vitejs.dev/config/export default defineConfig(&#123;  plugins: [    vue(),    UnoCSS(&#123;      presets: [        presetUno(),      ],    &#125;),  ],&#125;)</code></pre><p>ç„¶ååœ¨<code>main.ts</code>é‡ŒåŠ å…¥</p><pre><code class="ts">// main.tsimport &#39;uno.css&#39;</code></pre><p>è¿™é‡Œæ²¡æœ‰eslintè¿˜æ˜¯å¾ˆä¸èˆ’æœçš„ï¼Œæ¨èä¸€ä¸ªantfuçš„eslinté…ç½®ï¼Œæ¥å®‰è£…ä¸€ä¸‹eslint</p><p><a href="https://github.com/antfu/eslint-config">https://github.com/antfu/eslint-config</a></p><pre><code class="bash">pnpm add -D eslint @antfu/eslint-config</code></pre><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126211558.png"></p><p>åˆ›å»º<code>.eslintrc</code>å†™å…¥</p><pre><code>&#123;  &quot;extends&quot;: &quot;@antfu&quot;&#125;</code></pre><p>åœ¨package jsoné‡ŒåŠ å…¥</p><pre><code class="json">&#123;  &quot;scripts&quot;: &#123;    &quot;lint&quot;: &quot;eslint .&quot;,    &quot;lint:fix&quot;: &quot;eslint . --fix&quot;  &#125;&#125;</code></pre><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯VSCode ä¸‹è½½ <a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint">VS Code ESLint extension</a> ç„¶åç¼–è¾‘ <code>.vscode/settings.json</code></p><pre><code class="json">&#123;  &quot;prettier.enable&quot;: false,  &quot;editor.formatOnSave&quot;: false,  &quot;editor.codeActionsOnSave&quot;: &#123;    &quot;source.fixAll.eslint&quot;: true  &#125;&#125;</code></pre><p>ä¹‹åé‡å¯vscode</p><p>å®‰è£…å®ŒæˆğŸ˜</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>æˆ‘ä»¬æ¥å†™ä¸€ä¸ªå°demo</p><p>å°±æŠŠåŸæœ¬çš„é»˜è®¤ç•Œé¢æ”¹æˆunocsså¥½äº†</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126212340.png"></p><p>å…ˆçœ‹app.vue</p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;import HelloWorld from &#39;./components/HelloWorld.vue&#39;&lt;/script&gt;&lt;template&gt;  &lt;div&gt;    &lt;a href=&quot;https://vitejs.dev&quot; target=&quot;_blank&quot;&gt;      &lt;img src=&quot;/vite.svg&quot; class=&quot;logo&quot; alt=&quot;Vite logo&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://vuejs.org/&quot; target=&quot;_blank&quot;&gt;      &lt;img src=&quot;./assets/vue.svg&quot; class=&quot;logo vue&quot; alt=&quot;Vue logo&quot;&gt;    &lt;/a&gt;  &lt;/div&gt;  &lt;HelloWorld msg=&quot;Vite + Vue&quot; /&gt;&lt;/template&gt;&lt;style scoped&gt;.logo &#123;  height: 6em;  padding: 1.5em;  will-change: filter;&#125;.logo:hover &#123;  filter: drop-shadow(0 0 2em #646cffaa);&#125;.logo.vue:hover &#123;  filter: drop-shadow(0 0 2em #42b883aa);&#125;&lt;/style&gt;</code></pre><p>æ”¹æˆåŸå­åŒ–cssçš„å½¢å¼</p><p>è¿™é‡Œæœ€å¥½å…ˆé…ç½®ä¸€ä¸‹vite config å¤šåŠ ä¸€ç‚¹é¢„è®¾</p><pre><code class="ts">// vite.config.tsimport &#123; defineConfig &#125; from &#39;vite&#39;import vue from &#39;@vitejs/plugin-vue&#39;import UnoCSS from &#39;unocss/vite&#39;import &#123; presetAttributify, presetIcons, presetTypography, presetUno, presetWebFonts, transformerDirectives, transformerVariantGroup &#125; from &#39;unocss&#39;// https://vitejs.dev/config/export default defineConfig(&#123;  plugins: [    vue(),    UnoCSS(      &#123;        presets: [          presetUno(),          presetAttributify(),          presetIcons(&#123;            scale: 1.2,          &#125;),          presetTypography(),          presetWebFonts(&#123;            fonts: &#123;              sans: &#39;DM Sans&#39;,              serif: &#39;DM Serif Display&#39;,              mono: &#39;DM Mono&#39;,            &#125;,          &#125;),        ],        transformers: [          transformerDirectives(),          transformerVariantGroup(),        ],      &#125;,    ),  ],&#125;)</code></pre><p>æˆ‘ä»¬å…ˆç”¨@applyå°†cssæ”¹ä¸€ä¸‹ <code>&lt;style scoped&gt;</code></p><pre><code class="css">.logo &#123;  height: 6em;  padding: 1.5em;  will-change: filter;&#125;.logo:hover &#123;  filter: drop-shadow(0 0 2em #646cffaa);&#125;.logo.vue:hover &#123;  filter: drop-shadow(0 0 2em #42b883aa);&#125;</code></pre><p>è¿™é‡Œä¸ä¼šçš„è¯­æ³•å¯ä»¥çœ‹tailwindcssæ–‡æ¡£</p><p>æ”¹æˆ</p><pre><code class="css">.logo &#123;  @apply h-6em p-1.5em&#125;.logo &#123;  @apply hover:drop-shadow-[0_0_2em_#646cffaa]&#125;.logo.vue &#123;  @apply hover:drop-shadow-[0_0_2em_#42b883aa]&#125;</code></pre><p>æ€ä¹ˆæ ·ï¼Ÿæ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆæ¸…æ™°æ˜äº†</p><p>è¿™æ˜¯åœ¨tailwindcssé‡Œå¾ˆå—æ¬¢è¿çš„@applyå‘½ä»¤ é€šè¿‡é¢„è®¾å¯¼å…¥äº†unocss</p><p>ä½†æ˜¯è¿™æ ·ä½“ç°ä¸å‡ºåŸå­åŒ–cssçš„æ–¹ä¾¿ï¼Œè™½ç„¶éå¸¸å¥½çœ‹</p><p>æˆ‘ä»¬æŠŠcsså†™å…¥html</p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;import HelloWorld from &#39;./components/HelloWorld.vue&#39;&lt;/script&gt;&lt;template&gt;  &lt;div&gt;    &lt;a href=&quot;https://vitejs.dev&quot; target=&quot;_blank&quot;&gt;      &lt;img src=&quot;/vite.svg&quot; class=&quot;h-6em p-1.5em hover:drop-shadow-[0_0_2em_#646cffaa]&quot; alt=&quot;Vite logo&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://vuejs.org/&quot; target=&quot;_blank&quot;&gt;      &lt;img src=&quot;./assets/vue.svg&quot; class=&quot;hover:drop-shadow-[0_0_2em_#42b883aa]&quot; alt=&quot;Vue logo&quot;&gt;    &lt;/a&gt;  &lt;/div&gt;  &lt;HelloWorld msg=&quot;Vite + Vue&quot; /&gt;&lt;/template&gt;&lt;style scoped&gt;&lt;/style&gt;</code></pre><p>è¿™æ ·å†™å°±å¾ˆæ–¹ä¾¿äº†</p><p>å†çœ‹<code>HelloWorld.vue</code></p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;defineProps&lt;&#123; msg: string &#125;&gt;()const count = ref(0)&lt;/script&gt;&lt;template&gt;  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;  &lt;div class=&quot;card&quot;&gt;    &lt;button type=&quot;button&quot; @click=&quot;count++&quot;&gt;count is &#123;&#123; count &#125;&#125;&lt;/button&gt;    &lt;p&gt;      Edit      &lt;code&gt;components/HelloWorld.vue&lt;/code&gt; to test HMR    &lt;/p&gt;  &lt;/div&gt;  &lt;p&gt;    Check out    &lt;a href=&quot;https://vuejs.org/guide/quick-start.html#local&quot; target=&quot;_blank&quot;      &gt;create-vue&lt;/a    &gt;, the official Vue + Vite starter  &lt;/p&gt;  &lt;p&gt;    Install    &lt;a href=&quot;https://github.com/johnsoncodehk/volar&quot; target=&quot;_blank&quot;&gt;Volar&lt;/a&gt;    in your IDE for a better DX  &lt;/p&gt;  &lt;p class=&quot;read-the-docs&quot;&gt;Click on the Vite and Vue logos to learn more&lt;/p&gt;&lt;/template&gt;&lt;style scoped&gt;.read-the-docs &#123;  color: #888;&#125;&lt;/style&gt;</code></pre><p>è¿™ä¸ªæ”¹çš„æ¯”è¾ƒå°‘</p><pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;defineProps&lt;&#123; msg: string &#125;&gt;()const count = ref(0)&lt;/script&gt;&lt;template&gt;  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;  &lt;div class=&quot;card&quot;&gt;    &lt;button type=&quot;button&quot; @click=&quot;count++&quot;&gt;      count is &#123;&#123; count &#125;&#125;    &lt;/button&gt;    &lt;p&gt;      Edit      &lt;code&gt;components/HelloWorld.vue&lt;/code&gt; to test HMR    &lt;/p&gt;  &lt;/div&gt;  &lt;p&gt;    Check out    &lt;a href=&quot;https://vuejs.org/guide/quick-start.html#local&quot; target=&quot;_blank&quot;&gt;create-vue&lt;/a&gt;, the official Vue + Vite starter  &lt;/p&gt;  &lt;p&gt;    Install    &lt;a href=&quot;https://github.com/johnsoncodehk/volar&quot; target=&quot;_blank&quot;&gt;Volar&lt;/a&gt;    in your IDE for a better DX  &lt;/p&gt;  &lt;p class=&quot;text-[#888]&quot;&gt;    Click on the Vite and Vue logos to learn more  &lt;/p&gt;&lt;/template&gt;&lt;style&gt;&lt;/style&gt;</code></pre><p>æ”¹æˆè¿™æ ·å°±è¡Œ</p><p>å†çœ‹<code>style.css</code>æ–‡ä»¶ å†…å®¹æ¯”è¾ƒå¤š</p><pre><code class="css">:root &#123;  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;  font-size: 16px;  line-height: 24px;  font-weight: 400;  color-scheme: light dark;  color: rgba(255, 255, 255, 0.87);  background-color: #242424;  font-synthesis: none;  text-rendering: optimizeLegibility;  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;  -webkit-text-size-adjust: 100%;&#125;a &#123;  font-weight: 500;  color: #646cff;  text-decoration: inherit;&#125;a:hover &#123;  color: #535bf2;&#125;body &#123;  margin: 0;  display: flex;  place-items: center;  min-width: 320px;  min-height: 100vh;&#125;h1 &#123;  font-size: 3.2em;  line-height: 1.1;&#125;button &#123;  border-radius: 8px;  border: 1px solid transparent;  padding: 0.6em 1.2em;  font-size: 1em;  font-weight: 500;  font-family: inherit;  background-color: #1a1a1a;  cursor: pointer;  transition: border-color 0.25s;&#125;button:hover &#123;  border-color: #646cff;&#125;button:focus,button:focus-visible &#123;  outline: 4px auto -webkit-focus-ring-color;&#125;.card &#123;  padding: 2em;&#125;#app &#123;  max-width: 1280px;  margin: 0 auto;  padding: 2rem;  text-align: center;&#125;@media (prefers-color-scheme: light) &#123;  :root &#123;    color: #213547;    background-color: #ffffff;  &#125;  a:hover &#123;    color: #747bff;  &#125;  button &#123;    background-color: #f9f9f9;  &#125;&#125;</code></pre><p>ä¸€ç‚¹ç‚¹å„¿æ”¹</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230126221543.png"></p><p>æœ€åæ”¹æˆäº†è¿™æ · è¿˜æŒºè¿˜åŸçš„æ˜¯ä¸æ˜¯</p><p>æœ‰ä¸€äº›åª’ä½“æŸ¥è¯¢ä¸ä¼šæ”¹</p><p>æ ¹å…ƒç´ æ²¡æ”¹</p><p>ä»£ç å¦‚ä¸‹</p><pre><code class="css">// style.css:root &#123;  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;  font-size: 16px;  line-height: 24px;  font-weight: 400;  color-scheme: light dark;  color: rgba(255, 255, 255, 0.87);  background-color: #242424;  font-synthesis: none;  text-rendering: optimizeLegibility;  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;  -webkit-text-size-adjust: 100%;&#125;@media (prefers-color-scheme: light) &#123;  :root &#123;    color: #213547;    background-color: #ffffff;  &#125;  a:hover &#123;    color: #747bff;  &#125;  button &#123;    background-color: #f9f9f9;  &#125;&#125;</code></pre><pre><code class="vue">// HelloWorld.vue&lt;script setup lang=&quot;ts&quot;&gt;import &#123; ref &#125; from &#39;vue&#39;defineProps&lt;&#123; msg: string &#125;&gt;()const count = ref(0)&lt;/script&gt;&lt;template&gt;  &lt;h1 class=&quot;text-3.2em leading-tight&quot;&gt;    &#123;&#123; msg &#125;&#125;  &lt;/h1&gt;  &lt;div class=&quot;p-2em flex flex-col place-items-center&quot;&gt;    &lt;button      type=&quot;button&quot; class=&quot;      rounded-8px border-1px border-solid border-transparent      py-0.6em px-1.2em text-1em font-medium      bg-[#1a1a1a] cursor-pointer transition duration-250      hover:border-color-[#646cff]      focus:outline-4 focus:outline-[-webkit-focus-ring-color]      focus-visible:outline-4 focus-visible:outline-[-webkit-focus-ring-color]    &quot; @click=&quot;count++&quot;    &gt;      count is &#123;&#123; count &#125;&#125;    &lt;/button&gt;    &lt;p&gt;      Edit      &lt;code&gt;components/HelloWorld.vue&lt;/code&gt; to test HMR    &lt;/p&gt;  &lt;/div&gt;  &lt;p&gt;    Check out    &lt;a href=&quot;https://vuejs.org/guide/quick-start.html#local&quot; target=&quot;_blank&quot; class=&quot;font-medium color-[#646cff] hover:color-[#535bf2]&quot;&gt;create-vue&lt;/a&gt;, the official Vue + Vite starter  &lt;/p&gt;  &lt;p&gt;    Install    &lt;a href=&quot;https://github.com/johnsoncodehk/volar&quot; target=&quot;_blank&quot; class=&quot;font-medium color-[#646cff] hover:color-[#535bf2]&quot;&gt;Volar&lt;/a&gt;    in your IDE for a better DX  &lt;/p&gt;  &lt;p class=&quot;text-[#888]&quot;&gt;    Click on the Vite and Vue logos to learn more  &lt;/p&gt;&lt;/template&gt;&lt;style&gt;&lt;/style&gt;</code></pre><pre><code class="vue">// App.vue&lt;script setup lang=&quot;ts&quot;&gt;import HelloWorld from &#39;./components/HelloWorld.vue&#39;&lt;/script&gt;&lt;template&gt;  &lt;div class=&quot;m-0 flex flex-col place-items-center min-w-320px min-h-100vh&quot;&gt;    &lt;div class=&quot;max-w-1280px my-0 mx-auto p-2rem text-center&quot;&gt;      &lt;a href=&quot;https://vitejs.dev&quot; target=&quot;_blank&quot; class=&quot;font-medium color-[#646cff] hover:color-[#535bf2]&quot;&gt;        &lt;img src=&quot;/vite.svg&quot; class=&quot;h-6em p-1.5em hover:drop-shadow-[0_0_2em_#646cffaa]&quot; alt=&quot;Vite logo&quot;&gt;      &lt;/a&gt;      &lt;a href=&quot;https://vuejs.org/&quot; target=&quot;_blank&quot; class=&quot;font-medium color-[#646cff] hover:color-[#535bf2]&quot;&gt;        &lt;img src=&quot;./assets/vue.svg&quot; class=&quot;h-6em p-1.5em hover:drop-shadow-[0_0_2em_#42b883aa]&quot; alt=&quot;Vue logo&quot;&gt;      &lt;/a&gt;    &lt;/div&gt;    &lt;HelloWorld msg=&quot;Vite + Vue&quot; /&gt;  &lt;/div&gt;&lt;/template&gt;&lt;style&gt;&lt;/style&gt;</code></pre><p>å¯ä»¥çœ‹å‡ºæ¥è™½ç„¶å†™çš„ç®€å•ï¼Œä½†æ˜¯è¿˜æ˜¯æ¯”è¾ƒä¹±</p><p>è¿™æ ·å†™çš„å¥½å¤„æ˜¯ï¼Œä¸ç”¨æƒ³ç±»åï¼Œ</p><p>å¦‚æœåŠ äº†@applyä¼šæ›´ç¾è§‚ï¼Œä½†æ˜¯è¿˜æ˜¯è¦å†™ç±»åï¼Œå’Œæ™®é€šcssçš„åŒºåˆ«å°±æ˜¯ç®€å•äº†ä¸€äº›</p><p>åŒæ—¶è¿˜æœ‰ä¸€äº›è‡ªå¸¦çš„æ ·å¼é¢„è®¾</p><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>æœ¬ç¯‡æˆ‘ä»¬ä»‹ç»äº†UnoCSSçš„ç‰¹ç‚¹ï¼ŒUnoCSSçš„ä½¿ç”¨ï¼Œè¿˜æ˜¯æ”¹äº†æŒºé•¿æ—¶é—´çš„ï¼Œä¸»è¦æ˜¯ä¸ä¼šå†™è¯­æ³•ï¼Œè¦æŸ¥tailwindæ–‡æ¡£ <a href="https://tailwindcss.com/docs">https://tailwindcss.com/docs</a></p><p>è¿˜æœ‰ä¸€äº›å¥½å‡ ä¸ªå€¼çš„css ä¸çŸ¥é“ä»€ä¹ˆæ„æ€</p><pre><code class="css">outline: green solid 3px;/* mdn:é¢œè‰² | æ ·å¼ | å®½åº¦ */</code></pre><pre><code class="css">outline: 4px auto -webkit-focus-ring-color;/* style.css */</code></pre><p>å…³äºè¿™ç§å°±ä¸çŸ¥é“æ€ä¹ˆå†™</p><p>æœ€ååªèƒ½æ°æˆ</p><pre><code>focus:outline-4 focus:outline-[-webkit-focus-ring-color]</code></pre><p>é¢˜å¤–è¯ï¼š</p><blockquote><p>Anthony Fuå¤§ä½¬çœŸçš„æ˜¯æˆ‘ç›®å‰çš„å¶åƒï¼Œç‹‚çƒ­çš„å¼€æºçˆ±å¥½è€…ï¼Œäººé•¿å¾—åˆå¸…ï¼Œåšçš„ä¸œè¥¿åˆå¥½</p></blockquote><p>ğŸ¤£è¿™æ˜¯æˆ‘åœ¨æ˜é‡‘æœunocssæœåˆ°çš„ä¸€ç¯‡æ–‡ç« ä¸­çš„ç¬¬ä¸€å¥è¯ æ–‡ç« åœ¨è¿™ <a href="https://juejin.cn/post/7028841960752283656">https://juejin.cn/post/7028841960752283656</a></p><p>antfuå¤§ä½¬ç¡®å®ä¹Ÿæ˜¯æˆ‘çš„å¶åƒ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125225032.png"></p><p>22å¹´ç§‹å­£ antfuå¤§ä½¬åœ¨bç«™åŠè¿‡å‡ åœºç›´æ’­å†™ä»£ç ï¼Œæˆ‘åŸºæœ¬ä¸Šæ˜¯æ¯æœŸå¿…çœ‹ï¼Œè¿™ä¸ªäººéå¸¸æœ‰æ„æ€ï¼Œæœ‰å¾ˆå¤šæ–°é²œçš„ç‚¹å­ï¼Œç‹ æ´»ä¹Ÿå¤š æ¯”å¦‚è¯´</p><p><a href="https://github.com/antfu/1990-script">https://github.com/antfu/1990-script</a> è¿™ä¸ªä»“åº“æ•™ä½ æ€ä¹ˆæŠŠGitHubå†å²ç©¿è¶Šå›1990å¹´ğŸ¤­</p><p>ä»–çš„æ¯ä¸ªstaræ¯”è¾ƒå¤šçš„ä»“åº“æˆ‘éƒ½ä½“éªŒè¿‡ï¼Œæ„Ÿè§‰è®¾è®¡çµæ„ŸçœŸçš„è®©äººçœ¼å‰ä¸€äº®ï¼Œå¯å‘åŸºäºç¤¾åŒºï¼Œåˆ›é€ æ›´å¿«çš„è½®å­ï¼Œæ›´å¥½ç©çš„è½®å­</p><p><a href="https://github.com/antfu/retypewriter">https://github.com/antfu/retypewriter</a> è¿™ä¸ªæ˜¯ç›´æ’­å†™çš„é›å½¢ è®©å†™çš„ä»£ç åœ¨vscé‡Œå›æ”¾ï¼Œä¾¿äºç†æ¸…æ€è·¯</p><p><a href="https://github.com/antfu/vue-minesweeper">https://github.com/antfu/vue-minesweeper</a> è¿™ä¸ªæ˜¯é¦–æ¬¡ç›´æ’­å†™çš„æ‰«é›·ï¼Œå¾ˆæ¸…æ™°çš„vueä»£ç ï¼Œçœ‹ä»–å†™çœŸçš„å¼€çª</p><p><a href="https://github.com/antfu/vue-starport">https://github.com/antfu/vue-starport</a> è¿™ä¸ªä¹Ÿæ˜¯ç›´æ’­å†™çš„é›å½¢ï¼Œä¸ºäº†ä½¿ç»„ä»¶æœ‰æ›´å¥½çš„è¿‡æ¸¡</p><p>å°±è¯´è¿™ä¹ˆå¤šï¼Œäººä¹Ÿé•¿å¾—å¸…</p><p>ğŸ¥°ğŸ˜˜</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS">https://developer.mozilla.org/zh-CN/docs/Web/CSS</a></p><p><a href="https://tailwindcss.com/docs">https://tailwindcss.com/docs</a></p><p><a href="https://www.tailwindcss.cn/docs/functions-and-directives#apply">https://www.tailwindcss.cn/docs/functions-and-directives#apply</a></p><p><a href="https://github.com/unocss/unocss">https://github.com/unocss/unocss</a></p><p><a href="https://cn.vitejs.dev/">https://cn.vitejs.dev/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸå­åŒ–CSSï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/25/%E5%8E%9F%E5%AD%90%E5%8C%96CSS%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/25/%E5%8E%9F%E5%AD%90%E5%8C%96CSS%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 9 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åŸå­åŒ– CSSæ˜¯ä¸€ä¸ªå¾ˆæ–°é¢–çš„å®šä¹‰ å‡ºè‡ª<a href="https://css-tricks.com/lets-define-exactly-atomic-CSS/">https://CSS-tricks.com/lets-define-exactly-atomic-CSS/</a></p><p>æ„æ€æ˜¯<code>åŸå­åŒ– CSSæ˜¯ä¸€ç§ CSSçš„æ¶æ„æ–¹å¼ï¼Œå®ƒå€¾å‘äºå°å·§ä¸”ç”¨é€”å•ä¸€çš„ classï¼Œå¹¶ä¸”ä¼šä»¥è§†è§‰æ•ˆæœè¿›è¡Œå‘½åã€‚</code></p><h2 id="ä»€ä¹ˆæ˜¯åŸå­åŒ–-CSS"><a href="#ä»€ä¹ˆæ˜¯åŸå­åŒ–-CSS" class="headerlink" title="ä»€ä¹ˆæ˜¯åŸå­åŒ– CSS?"></a>ä»€ä¹ˆæ˜¯åŸå­åŒ– CSS?</h2><p>ä¸ä¸€èˆ¬çš„æˆ‘ä»¬å†™æ­£å¸¸CSSä¸åŒï¼ŒåŸå­åŒ–CSSä¼šæŠŠå…ƒç´ æœ¬èº«çš„å±æ€§æå–å‡ºæ¥ï¼ŒåŠ ä»¥è§†è§‰æ•ˆæœå‘½åï¼Œä¾‹å¦‚ï¼š</p><p>å¦‚ä¸‹çš„html</p><pre><code class="html">&lt;button class=&quot;btn&quot;&gt;Basic&lt;/button&gt;</code></pre><p>æ­£å¸¸çš„CSS</p><pre><code class="css">.btn &#123;    padding: 1rem, 2rem;    font-family: &#39;semi&#39;;    font-weight: bold; &#125;</code></pre><p>ä½¿ç”¨åŸå­åŒ–CSSåï¼Œå°†ä¸ç”¨å†™CSSæ–‡ä»¶ï¼Œæ”¹ä¸ºå†™classå±æ€§</p><pre><code class="html">&lt;button class=&quot;py-2 px-4 font-semibold rounded-lg shadow-md text-white bg-green-500 hover:bg-green-700&quot;&gt;  Click me&lt;/button&gt;</code></pre><p>å¸‚é¢ä¸Šæœ‰ä¸å°‘å®ç”¨è‡³ä¸Šçš„ CSSæ¡†æ¶ï¼Œå¦‚ <a href="https://tailwindcss.com/">Tailwind CSS</a>ï¼Œ<a href="https://cn.windicss.org/">Windi CSS</a> ä»¥åŠ <a href="https://tachyons.io/">Tachyons</a> ç­‰ã€‚</p><p>åŒæ—¶æœ‰äº› UI åº“ä¹Ÿä¼šé™„å¸¦ä¸€äº› CSSå·¥å…·ç±»ä½œä¸ºæ¡†æ¶çš„è¡¥å……ï¼Œå¦‚ <a href="https://getbootstrap.com/docs/5.1/utilities/api/">Bootstrap</a> å’Œ <a href="https://chakra-ui.com/docs/features/style-props">Chakra UI</a>ã€‚</p><h2 id="å†™ä¹‹å‰ï¼Œæˆ‘ä»¬è°ˆè°ˆä¼˜åŠ¿"><a href="#å†™ä¹‹å‰ï¼Œæˆ‘ä»¬è°ˆè°ˆä¼˜åŠ¿" class="headerlink" title="å†™ä¹‹å‰ï¼Œæˆ‘ä»¬è°ˆè°ˆä¼˜åŠ¿"></a>å†™ä¹‹å‰ï¼Œæˆ‘ä»¬è°ˆè°ˆä¼˜åŠ¿</h2><ul><li>ç±»åè‡ªç”±ï¼šä½ ç»å°½è„‘æ±æƒ³è¿™ä¸ªå…ƒç´ çš„ç±»åæ€ä¹ˆå†™ã€‚åœ¨ä½ é¢å‰çš„æ˜¯ä¸€ç‚¹å‡»å°±ä¼šå˜é¢œè‰²çš„æŒ‰é’®ï¼Œä½ æƒ³ç»™ä»–èµ·ä¸ªclassæˆ–è€…idï¼Œä½ æƒ³äº†åŠå¤©ï¼Œæœ€åå–äº†classåä¸º<code>click-it-and-turn-it-from-blue-to-green</code>ğŸ˜°ã€‚</li><li>htmlåµŒå…¥ï¼šæ­£å¸¸æƒ…å†µæˆ‘ä»¬è¦å¼•å…¥CSSæ–‡ä»¶å»å†™è¿™ä¸ªæ ·å¼ï¼Œåˆ‡æ¥åˆ‡å»ä¸å¤ªæ–¹ä¾¿ã€‚</li><li>é¢„è®¾çš„åŸå­åŒ–CSSï¼šå¯ä»¥å¼•å…¥æ’ä»¶ã€å…¶ä»–åŸºäºåŸå­åŒ–CSSå†™çš„ç»„ä»¶åº“ã€‚</li><li>IDEæ”¯æŒï¼šæ’ä»¶æ”¯æŒç±»åæç¤ºï¼Œå¾ˆå¥½å†™ã€‚</li><li>å†™çš„å¿«ï¼šæ¯”å¦‚è¯´hoverå±æ€§ï¼ŒåŸå­åŒ–CSSå¯ä»¥ç›´æ¥å†™åœ¨classé‡Œï¼Œå¾ˆå¿«å¾ˆæ–¹ä¾¿ï¼Œæ¯”å¦‚è¯´tailwindè‡ªå¸¦çš„å“åº”å¼å¸ƒå±€ï¼Œä¸ç”¨è‡ªå·±å†™åª’ä½“æŸ¥è¯¢å°±å¯ä»¥é€‚é…ç§»åŠ¨ç«¯ã€‚</li></ul><h2 id="å¸¸ç”¨çš„åŸå­åŒ–CSSæ¡†æ¶"><a href="#å¸¸ç”¨çš„åŸå­åŒ–CSSæ¡†æ¶" class="headerlink" title="å¸¸ç”¨çš„åŸå­åŒ–CSSæ¡†æ¶"></a>å¸¸ç”¨çš„åŸå­åŒ–CSSæ¡†æ¶</h2><ul><li><p>tailwindCSS<a href="https://tailwindcss.com/">https://tailwindcss.com/</a></p><ul><li><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125214852.png"></li></ul></li><li><p>Windi CSS<a href="https://windicss.org/">https://windicss.org/</a></p><ul><li><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125215026.png"></li></ul></li><li><p><a href="https://tachyons.io/">Tachyons</a> <a href="https://tachyons.io/">https://tachyons.io/</a></p><ul><li><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125215141.png"></p></li><li><p>UnoCSS<a href="https://github.com/unocss/unocss">https://github.com/unocss/unocss</a></p><ul><li><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125215337.png"></li></ul></li></ul></li></ul><h2 id="æœ¬æ–‡çš„é‡ç‚¹ï¼šUnoCSS"><a href="#æœ¬æ–‡çš„é‡ç‚¹ï¼šUnoCSS" class="headerlink" title="æœ¬æ–‡çš„é‡ç‚¹ï¼šUnoCSS"></a>æœ¬æ–‡çš„é‡ç‚¹ï¼šUnoCSS</h2><p>è®²è¿™ä¹ˆå¤šï¼Œæˆ‘ä»¬ç»ˆäºå›åˆ°ä¸»é¢˜UnoCSSä¸Š</p><blockquote><p> antfu<a href="https://link.juejin.cn/?target=https://antfu.me/posts/reimagine-atomic-css-zh">é‡æ–°æ„æƒ³åŸå­åŒ–CSS</a> è¿™ç¯‡æ–‡ç« è®²äº†unocssæ˜¯æ€ä¹ˆè¯ç”Ÿçš„</p></blockquote><p>Windi CSSå·²ç»è¶³å¤Ÿä¼˜ç§€ï¼Œä½†antfuå¤§ä½¬è¿˜æ˜¯ä¸å¤Ÿæ»¡æ„ï¼Œå¯¹äºæ¡†æ¶é¢„è®¾å¤–çš„è‡ªå®šä¹‰å·¥å…·çš„é¢å¤–é…ç½®ä¸Šï¼Œè¿˜æ˜¯æ¯”è¾ƒç¹çï¼Œè€Œä¸”é…ç½®çš„æ–¹å¼ä¹Ÿä¸å¤Ÿç®€ä¾¿</p><blockquote><p>ç”±äº Windi éœ€è¦ä¸ Tailwind å…¼å®¹ï¼Œå®ƒè¿˜å¿…é¡»ä½¿ç”¨ä¸ Tailwind å®Œå…¨ç›¸åŒçš„é…ç½®é¡¹ã€‚å°½ç®¡æ•°å­—æ¨æ–­çš„é—®é¢˜å¾—åˆ°äº†è§£å†³ï¼Œä½†å¦‚æœä½ æƒ³æ·»åŠ ä¸€äº›è‡ªå®šä¹‰çš„å·¥å…·ï¼Œè¿™å°†æ˜¯ä¸€åœºå™©æ¢¦ã€‚</p></blockquote><p>æ‰€ä»¥ç»è¿‡é‡æ–°æ„æƒ³åŸå­åŒ–CSSï¼ŒUnoCSSå‡ºç°äº†</p><blockquote><p><a href="https://link.juejin.cn/?target=https://github.com/antfu/unocss"><strong>UnoCSS</strong></a> - å…·æœ‰é«˜æ€§èƒ½ä¸”æå…·çµæ´»æ€§çš„å³æ—¶åŸå­åŒ– CSSå¼•æ“ã€‚</p></blockquote><p>å®ƒä¸æ˜¯åƒTailWind CSSå’ŒWindi CSSå±äºæ¡†æ¶ï¼Œè€Œæ˜¯ä¸€ä¸ªå¼•æ“ï¼Œå®ƒæ²¡æœ‰æä¾›é¢„è®¾çš„åŸå­åŒ–CSSå·¥å…·ç±»</p><p>UnoCSSé€šè¿‡ç¼–å†™è§„åˆ™æ¥å®šåˆ¶å·¥å…·ç±»</p><p>é™æ€è§„åˆ™</p><pre><code class="js">rules: [    [&#39;m-1&#39;, &#123; margin: &#39;0.25rem&#39; &#125;]]</code></pre><p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥åšåŠ¨æ€è§„åˆ™</p><pre><code class="ts">rules: [  [/^m-(\d)$/, ([, d]) =&gt; (&#123; margin: `$&#123;d / 4&#125;rem` &#125;)],  [/^p-(\d)$/, (match) =&gt; (&#123; padding: `$&#123;match[1] / 4&#125;rem` &#125;)],]</code></pre><p>å½“ç„¶è¿™äº›æ¯”è¾ƒå¸¸è§çš„è§„åˆ™unocsså·²ç»æä¾›äº†é¢„è®¾åœ¨<code>@unocss/preset-uno</code>ä¸­</p><pre><code class="html">&lt;div class=&quot;m-100&quot;&gt;  &lt;button class=&quot;m-3&quot;&gt;    &lt;icon class=&quot;p-5&quot; /&gt;    My Button  &lt;/button&gt;&lt;/div&gt;</code></pre><p>ç”Ÿæˆå‡ºçš„cssä¸º</p><pre><code class="css">.m-100 &#123; margin: 25rem; &#125;.m-3 &#123; margin: 0.75rem; &#125;.p-5 &#123; padding: 1.25rem; &#125;</code></pre><p>unocssæä¾›äº†ä¸€ä¸ªå«shortcutsçš„åŠŸèƒ½ï¼Œå¯ä»¥æ‰¹é‡ç”Ÿæˆcss</p><pre><code class="js">shortcuts: [  // you could still have object style  &#123;    btn: &#39;py-2 px-4 font-semibold rounded-lg shadow-md&#39;,  &#125;,  // dynamic shortcuts  [/^btn-(.*)$/, ([, c]) =&gt; `bg-$&#123;c&#125;-400 text-$&#123;c&#125;-100 py-2 px-4 rounded-lg`],]</code></pre><p>åªéœ€è¦é…ç½®è¿™ä¸ªå­—æ®µ</p><p>åœ¨ä½¿ç”¨ä¸­å¯ä»¥ä½¿ç”¨ <code>btn-green</code> å’Œ <code>btn-red</code> </p><p>ç”Ÿæˆçš„csså¦‚ä¸‹</p><pre><code class="css">.btn-green &#123;  padding-top: 0.5rem;  padding-bottom: 0.5rem;  padding-left: 1rem;  padding-right: 1rem;  --un-bg-opacity: 1;  background-color: rgba(74, 222, 128, var(--un-bg-opacity));  border-radius: 0.5rem;  --un-text-opacity: 1;  color: rgba(220, 252, 231, var(--un-text-opacity));&#125;.btn-red &#123;  padding-top: 0.5rem;  padding-bottom: 0.5rem;  padding-left: 1rem;  padding-right: 1rem;  --un-bg-opacity: 1;  background-color: rgba(248, 113, 113, var(--un-bg-opacity));  border-radius: 0.5rem;  --un-text-opacity: 1;  color: rgba(254, 226, 226, var(--un-text-opacity));&#125;</code></pre><p>unocssæä¾›äº†å¾ˆå¤šé¢„è®¾</p><h6 id="Official-Presets"><a href="#Official-Presets" class="headerlink" title="Official Presets"></a>Official Presets</h6><ul><li><a href="https://github.com/unocss/unocss/tree/main/packages/preset-uno">@unocss&#x2F;preset-uno</a> - The default preset (right now itâ€™s equivalent to <code>@unocss/preset-wind</code>).</li><li><a href="https://github.com/unocss/unocss/tree/main/packages/preset-mini">@unocss&#x2F;preset-mini</a> - The minimal but essential rules and variants.</li><li><a href="https://github.com/unocss/unocss/tree/main/packages/preset-wind">@unocss&#x2F;preset-wind</a> - Tailwind &#x2F; Windi CSScompact preset.</li><li><a href="https://github.com/unocss/unocss/tree/main/packages/preset-attributify">@unocss&#x2F;preset-attributify</a> - Provides <a href="https://github.com/unocss/unocss/tree/main/packages/preset-attributify#attributify-mode">Attributify Mode</a> to other presets and rules.</li><li><a href="https://github.com/unocss/unocss/tree/main/packages/preset-icons">@unocss&#x2F;preset-icons</a> - Use any icon as a class utility.</li><li><a href="https://github.com/unocss/unocss/tree/main/packages/preset-web-fonts">@unocss&#x2F;preset-web-fonts</a> - Web fonts at ease.</li><li><a href="https://github.com/unocss/unocss/tree/main/packages/preset-typography">@unocss&#x2F;preset-typography</a> - The typography preset.</li><li><a href="https://github.com/unocss/unocss/tree/main/packages/preset-tagify">@unocss&#x2F;preset-tagify</a> - Tagify Mode for UnoCSS.</li><li><a href="https://github.com/unocss/unocss/tree/main/packages/preset-rem-to-px">@unocss&#x2F;preset-rem-to-px</a> - Converts rem to px for utils.</li></ul><h6 id="Community-Presets"><a href="#Community-Presets" class="headerlink" title="Community Presets"></a>Community Presets</h6><ul><li><p><a href="https://github.com/macheteHot/unocss-preset-scalpel">unocss-preset-scalpel</a> - Scalpel Preset by <a href="https://github.com/macheteHot/">@macheteHot</a>.</p></li><li><p><a href="https://github.com/chu121su12/unocss-preset-chroma">unocss-preset-chroma</a> - Gradient Preset by <a href="https://github.com/chu121su12">@chu121su12</a>.</p></li><li><p><a href="https://github.com/action-hong/unocss-preset-scrollbar">unocss-preset-scrollbar</a> - Scrollbar Preset by <a href="https://github.com/action-hong">@action-hong</a>.</p></li><li><p><a href="https://github.com/unocss-applet/unocss-applet">unocss-applet</a> - Using UnoCSSin applet (UniApp &#x2F; Taro) by <a href="https://github.com/zguolee">@zguolee</a>.</p></li><li><p><a href="https://github.com/MellowCo/unocss-preset-weapp">unocss-preset-weapp</a> - Wechat MiniProgram Preset for <a href="https://uniapp.dcloud.io/">UniApp</a> and <a href="https://taro-docs.jd.com/taro/docs">Taro</a> by <a href="https://github.com/MellowCo">@MellowCo</a>.</p></li><li><p><a href="https://github.com/Julien-R44/unocss-preset-heropatterns">unocss-preset-heropatterns</a> - Preset that integrates <a href="https://heropatterns.com/">Hero Patterns</a> by <a href="https://github.com/Julien-R44">@Julien-R44</a>.</p></li><li><p><a href="https://github.com/Julien-R44/unocss-preset-flowbite">unocss-preset-flowbite</a> - Port of of <a href="https://github.com/themesberg/flowbite">Flowbite Tailwind plugin</a> for UnoCSSby <a href="https://github.com/Julien-R44">@Julien-R44</a>.</p></li><li><p><a href="https://github.com/Julien-R44/unocss-preset-forms">unocss-preset-forms</a> - Port of <a href="https://github.com/tailwindlabs/tailwindcss-forms">@tailwindcss&#x2F;forms</a> for UnoCSSby <a href="https://github.com/Julien-R44">@Julien-R44</a>.</p></li><li><p><a href="https://github.com/MoomFE/unocss-preset-extra">unocss-preset-extra</a> - <a href="https://animate.style/">Animate.css</a> Preset and some other rules by <a href="https://github.com/Zhang-Wei-666">@Zhang-Wei-666</a>.</p></li><li><p><a href="https://github.com/kidonng/unocss-preset-daisy">unocss-preset-daisy</a> - daisyUI Preset by <a href="https://github.com/kidonng">@kidonng</a>.</p></li><li><p><a href="https://github.com/zirbest/unocss-preset-primitives">unocss-preset-primitives</a> - Like <a href="https://github.com/tailwindlabs/headlessui/tree/main/packages/%40headlessui-tailwindcss">headlessui-tailwindcss</a> , radix-ui , custom for UnoCSSBy <a href="https://github.com/zirbest">@zirbest</a>.</p></li><li><p><a href="https://github.com/Dunqing/unocss-preset-theme">unocss-preset-theme</a> - Preset for automatic theme switching by <a href="https://github.com/Dunqing">@Dunqing</a>.</p><p>é€šè¿‡è¿™äº›é¢„è®¾å¯ä»¥è¾¾åˆ°èåˆtailwindå’Œwindiçš„æ•ˆæœ</p></li></ul><h2 id="UnoCSSçš„ä¼˜ç‚¹"><a href="#UnoCSSçš„ä¼˜ç‚¹" class="headerlink" title="UnoCSSçš„ä¼˜ç‚¹"></a>UnoCSSçš„ä¼˜ç‚¹</h2><p>å¯¹æ¯”å…¶ä»–åŸå­åŒ–æ¡†æ¶æ¥è¯´</p><ul><li><p>å®Œå…¨å¯å®šåˆ¶ï¼šä½œä¸ºä¸€æ¬¾å¼•æ“æ²¡æœ‰æ ¸å¿ƒå®ç”¨ç¨‹åºï¼Œæ‰€æœ‰çš„åŠŸèƒ½éƒ½æ˜¯é€šè¿‡é¢„è®¾æä¾›çš„ã€‚</p></li><li><p>æ‰©å±•æ€§å¼ºï¼šé€šè¿‡å„ç§é¢„è®¾ç»„åˆè¾¾åˆ°windiæˆ–è€…tailwindçš„æ•ˆæœã€‚</p></li><li><p>å¿«ï¼šæ²¡æœ‰è§£æï¼Œæ²¡æœ‰ASTï¼Œæ²¡æœ‰æ‰«æï¼Œå®ƒæ˜¯å³æ—¶çš„ã€‚</p></li><li><p>å°ï¼šè¿è¡Œåº“æ‰“åŒ…å¥½åªæœ‰6kbï¼Œæ— ç—›</p></li><li><p><a href="https://github.com/unocss/unocss/tree/main#shortcuts">Shortcuts</a>ï¼šå¯ä»¥å†™Shortcutsæ¥é¢„è®¾ä¸€äº›å¸¸ç”¨æ ·å¼</p></li><li><p><a href="https://github.com/unocss/unocss/tree/main/packages/preset-attributify/">Attributify mode</a> ï¼šå°†classå†™æˆç»„ï¼Œé¿å…æ— æ³•é˜…è¯»çš„é—®é¢˜</p></li><li><p><a href="https://github.com/unocss/unocss/tree/main/packages/preset-icons/">Pure CSSIcons</a> ï¼šçº¯ CSSicon å¯ä»¥åœ¨ <a href="https://icones.js.org/">https://icones.js.org/</a> æ‰¾åˆ°å¹¶å¯¼å…¥æˆåƒä¸Šä¸‡çš„icon  å®‰è£…åªéœ€è¦æ‰¾åˆ°ä½ å–œæ¬¢çš„ iconfy åº“ <code>@iconify-json/[the-collection-you-want]</code> è¿™æ ·å®‰è£…å°±è¡Œ</p></li><li><p><a href="https://github.com/unocss/unocss/tree/main/packages/transformer-variant-group">Variant Groups</a> ï¼šå’Œ <a href="https://github.com/unocss/unocss/tree/main/packages/preset-attributify/">Attributify mode</a> çœ‹èµ·æ¥å‡ ä¹æ˜¯ä¸€æ ·çš„åŠŸèƒ½ï¼Œå†™æˆç»„</p></li><li><p><a href="https://github.com/unocss/unocss/tree/main/packages/transformer-directives">CSSDirectives</a> ï¼šå¯ä»¥åœ¨styleæ ‡ç­¾é‡Œå†™  <code>@apply</code>  æŠŠä¸€ç³»åˆ—æ ·å¼æ‰“åŒ…æˆä¸€ä¸ªæ ·å¼ï¼Œåœ¨windié‡Œæ˜¯ä¸ªå¾ˆå—æ¬¢è¿çš„åŠŸèƒ½</p></li><li><p><a href="https://github.com/unocss/unocss/tree/main/packages/transformer-compile-class/">Compilation mode</a> ï¼šæ‰“åŒ…ä¼˜åŒ–ï¼Œç”Ÿæˆéšæœºclasså</p></li><li><p><a href="https://github.com/unocss/unocss/tree/main#inspector">Inspector</a> ï¼šè‡ªå¸¦çš„debugå·¥å…·</p></li><li><p><a href="https://github.com/unocss/unocss/tree/main/packages/runtime">CSS-in-JS Runtime build</a> ï¼šå¯ä»¥CDNå¯¼å…¥</p></li><li><p><a href="https://marketplace.visualstudio.com/items?itemName=antfu.unocss">VS Code extension</a>ï¼šè‡ªå¸¦VSCodeæç¤ºæ‰©å±•ï¼Œå¾ˆæ–¹ä¾¿</p></li></ul><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>æœ¬ç¯‡æˆ‘ä»¬ä»‹ç»äº†UnoCSSçš„ç‰¹ç‚¹ï¼ŒåŸå­åŒ–CSSçš„å¥½å¤„ï¼Œä¸‹ä¸€ç¯‡è®²è®²unocsså®æˆ˜ï¼Œå®‰è£…ä½¿ç”¨ä¹‹ç±»çš„</p><p>é¢˜å¤–è¯ï¼š</p><blockquote><p>Anthony Fuå¤§ä½¬çœŸçš„æ˜¯æˆ‘ç›®å‰çš„å¶åƒï¼Œç‹‚çƒ­çš„å¼€æºçˆ±å¥½è€…ï¼Œäººé•¿å¾—åˆå¸…ï¼Œåšçš„ä¸œè¥¿åˆå¥½</p></blockquote><p>ğŸ¤£è¿™æ˜¯æˆ‘åœ¨æ˜é‡‘æœunocssæœåˆ°çš„ä¸€ç¯‡æ–‡ç« ä¸­çš„ç¬¬ä¸€å¥è¯ æ–‡ç« åœ¨è¿™ <a href="https://juejin.cn/post/7028841960752283656">https://juejin.cn/post/7028841960752283656</a></p><p>antfuå¤§ä½¬ç¡®å®ä¹Ÿæ˜¯æˆ‘çš„å¶åƒ</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125225032.png"></p><p>22å¹´ç§‹å­£ antfuå¤§ä½¬åœ¨bç«™åŠè¿‡å‡ åœºç›´æ’­å†™ä»£ç ï¼Œæˆ‘åŸºæœ¬ä¸Šæ˜¯æ¯æœŸå¿…çœ‹ï¼Œè¿™ä¸ªäººéå¸¸æœ‰æ„æ€ï¼Œæœ‰å¾ˆå¤šæ–°é²œçš„ç‚¹å­ï¼Œç‹ æ´»ä¹Ÿå¤š æ¯”å¦‚è¯´</p><p><a href="https://github.com/antfu/1990-script">https://github.com/antfu/1990-script</a> è¿™ä¸ªä»“åº“æ•™ä½ æ€ä¹ˆæŠŠGitHubå†å²ç©¿è¶Šå›1990å¹´ğŸ¤­</p><p>ä»–çš„æ¯ä¸ªstaræ¯”è¾ƒå¤šçš„ä»“åº“æˆ‘éƒ½ä½“éªŒè¿‡ï¼Œæ„Ÿè§‰è®¾è®¡çµæ„ŸçœŸçš„è®©äººçœ¼å‰ä¸€äº®ï¼Œå¯å‘åŸºäºç¤¾åŒºï¼Œåˆ›é€ æ›´å¿«çš„è½®å­ï¼Œæ›´å¥½ç©çš„è½®å­</p><p><a href="https://github.com/antfu/retypewriter">https://github.com/antfu/retypewriter</a> è¿™ä¸ªæ˜¯ç›´æ’­å†™çš„é›å½¢ è®©å†™çš„ä»£ç åœ¨vscé‡Œå›æ”¾ï¼Œä¾¿äºç†æ¸…æ€è·¯</p><p><a href="https://github.com/antfu/vue-minesweeper">https://github.com/antfu/vue-minesweeper</a> è¿™ä¸ªæ˜¯é¦–æ¬¡ç›´æ’­å†™çš„æ‰«é›·ï¼Œå¾ˆæ¸…æ™°çš„vueä»£ç ï¼Œçœ‹ä»–å†™çœŸçš„å¼€çª</p><p><a href="https://github.com/antfu/vue-starport">https://github.com/antfu/vue-starport</a> è¿™ä¸ªä¹Ÿæ˜¯ç›´æ’­å†™çš„é›å½¢ï¼Œä¸ºäº†ä½¿ç»„ä»¶æœ‰æ›´å¥½çš„è¿‡æ¸¡</p><p>å°±è¯´è¿™ä¹ˆå¤šï¼Œäººä¹Ÿé•¿å¾—å¸…</p><p>ğŸ¥°ğŸ˜˜</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://juejin.cn/post/7028841960752283656">https://juejin.cn/post/7028841960752283656</a></p><p><a href="https://antfu.me/posts/reimagine-atomic-css-zh">https://antfu.me/posts/reimagine-atomic-css-zh</a></p><p><a href="https://juejin.cn/post/7027414082378530852">https://juejin.cn/post/7027414082378530852</a></p><p><a href="https://juejin.cn/post/7161211941652791304">https://juejin.cn/post/7161211941652791304</a></p><p><a href="https://www.tailwindcss.cn/docs/">https://www.tailwindcss.cn/docs/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MonoRepo&amp;Nuxtæ¡†æ¶åˆå§‹åŒ–å®æˆ˜ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/24/MonoRepo&amp;Nuxt%E6%A1%86%E6%9E%B6%E5%88%9D%E5%A7%8B%E5%8C%96%E5%AE%9E%E6%88%98%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/24/MonoRepo&amp;Nuxt%E6%A1%86%E6%9E%B6%E5%88%9D%E5%A7%8B%E5%8C%96%E5%AE%9E%E6%88%98%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 8 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸Šä¸€ç¯‡ç¬”è®°ä»‹ç»äº†MonoRepoçš„ä¼˜ç‚¹å’ŒåŸºäºgoè¯­è¨€çš„MonoRepoæ¡†æ¶TurboRepoï¼Œè¿™ä¸€ç¯‡æˆ‘ä»¬è¯¦ç»†ä»‹ç»ä¸€ä¸‹å¦‚ä½•é…ç½®å‡ºä¸€ä¸ªå›¢é˜Ÿèƒ½ç”¨çš„TurboRepoåº“ï¼ŒåŒ…æ‹¬ä¸€äº›actionså’Œè‡ªåŠ¨éƒ¨ç½²é¢„è§ˆç­‰ã€‚</p><h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><ul><li>âš¡ï¸ <code>Nuxt3</code> - SSRæ¡†æ¶</li><li>âœ¨ <code>Vue3.2 </code>- æœ€æ–°Vueæ›´å¤šè¯­æ³•ç³–</li><li>ğŸ’¨ <code>Turbo</code> - MonoRepoæ¡†æ¶</li><li>ğŸ’ <code>Strapi</code> - Headless CMS æ¡†æ¶</li><li>ğŸ˜ <code>@Nuxt/Image</code> - images æœåŠ¡ç«¯æ¸²æŸ“</li><li>ğŸ˜ <code>Umami</code> - Better Analytics è®¿é—®æºåˆ†æ</li><li>ğŸƒ <code>Commit Lint</code> - commitè§„èŒƒæ£€æŸ¥</li><li>ğŸ’– <code>Husky &amp; Lint Staged</code> â€” precommitè¿è¡Œåº“</li><li>ğŸ“ <code>Eslint</code> - è§„èŒƒåŒ–TypeScriptã€JavaScriptä»£ç </li><li>ğŸ¶ <code>UnoCss</code> - åŸå­åŒ– CSS å¼•æ“ã€å…¼å®¹ tailwindcssã€windicss </li><li>ğŸ¤– <code>preset-icons</code> - unocss è‡ªå¸¦icons</li><li>â° The <code>&lt;script setup&gt;</code> syntax setupè¯­æ³•ç³– æ¥è‡ªVue3.2</li><li>ğŸ <code>Pinia</code> - å…¨å±€çŠ¶æ€ç®¡ç†åº“ æ›´å¥½ç”¨</li><li>ğŸ¨ <code>APIs auto importing</code> - åº“è‡ªåŠ¨å¼•å…¥</li><li>ğŸ¦¾ <code>TypeScript</code> - æ›´è§„èŒƒçš„è¯­æ³•</li><li>ğŸ‘· <code>Github Actions</code> - actionsè‡ªåŠ¨è¿è¡Œã€ci&#x2F;cdäº‘ç«¯æ£€æŸ¥è¯­æ³•</li><li>ğŸ‘€ <code>Automatic Branch and Issue Autolink</code> - Issue AutoLink actions åˆ›å»ºissueä¼šåˆ›å»ºä¸€ä¸ªåˆ†æ”¯</li><li>ğŸ—º <code>Nuxt SEO Kit</code> - SEOä¼˜åŒ– SSRå¿…å¤‡</li><li>ğŸ“¦ <code>Vercel</code> - è‡ªåŠ¨éƒ¨ç½²ã€é¢„è§ˆçš„å¹³å°</li><li>ğŸ”¥ <code>Netlify + Cloudflare</code> - éƒ¨ç½²å¹³å°</li></ul><h2 id="å‰ç«¯æ¨¡æ¿"><a href="#å‰ç«¯æ¨¡æ¿" class="headerlink" title="å‰ç«¯æ¨¡æ¿"></a>å‰ç«¯æ¨¡æ¿</h2><p>å‰ç«¯æ¨¡æ¿é€‰æ‹©äº†<a href="https://github.com/antfu/vitesse-nuxt3">https://github.com/antfu/vitesse-nuxt3</a> </p><p>æ˜¯antfuçš„vitesseç³»åˆ—æ¨¡æ¿çš„nuxt3æ¬¾</p><p>è¿™å¥—æ¨¡æ¿ç”¨äº†å¥½å¤šä¸ª å¾ˆå¥½ç”¨çš„</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230124233609.png"></p><p>é…ç½®å¾ˆå…¨ã€è‡ªå¸¦çš„unocssä¹Ÿæ˜¯å‡ ä¹å…¼å®¹windicsså’Œtailwind å¾ˆé€‚åº”</p><p>æƒ³ç”¨iconså¯ä»¥å»antfuçš„å¦ä¸€ä¸ªé¡¹ç›®é‡Œæ‰¾</p><p><a href="https://icones.js.org/">https://icones.js.org/</a> è¿™é‡ŒäºŒæ¬¡å°è£…äº†å‡ ä¸‡ä¸ªiconsç”¨ä¸ªçˆ½</p><h2 id="é…ç½®turbo"><a href="#é…ç½®turbo" class="headerlink" title="é…ç½®turbo"></a>é…ç½®turbo</h2><p>turboå®˜ç½‘æœ‰è®²æ€ä¹ˆé…ç½®åˆ°ä¸€ä¸ªå·²æœ‰çš„MonoRepoé‡Œ<a href="https://turbo.build/repo/docs/getting-started/existing-monorepo">https://turbo.build/repo/docs/getting-started/existing-monorepo</a></p><p>è¿™é‡Œåªéœ€è¦åœ¨æ ¹ç›®å½•çš„package.jsoné‡Œå»ºç«‹<code>workspaces</code>å­—æ®µ å’Œ<code>packageManager</code>å­—æ®µ</p><pre><code class="json">//package.json&#123;&quot;packageManager&quot;: &quot;yarn@1.22.19&quot;,  &quot;workspaces&quot;: [    &quot;frontend&quot;,    &quot;backend&quot;  ],&#125;</code></pre><h3 id="å®‰è£…TurboRepo"><a href="#å®‰è£…TurboRepo" class="headerlink" title="å®‰è£…TurboRepo"></a>å®‰è£…TurboRepo</h3><pre><code class="sql">yarn global add turbo</code></pre><h3 id="åˆ›å»ºä»»åŠ¡ç®¡é“"><a href="#åˆ›å»ºä»»åŠ¡ç®¡é“" class="headerlink" title="åˆ›å»ºä»»åŠ¡ç®¡é“"></a>åˆ›å»ºä»»åŠ¡ç®¡é“</h3><p>åœ¨<code>package.json</code> çš„<code>turbo</code>ä¸­ï¼Œå°†æƒ³è¦â€turboâ€çš„å‘½ä»¤æ·»åŠ åˆ°ç®¡é“ä¸­ ç®¡é“å®šä¹‰äº† npm åŒ…ä¸­ scripts çš„ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”ä¸ºè¿™äº›å‘½ä»¤å¼€å¯äº†ç¼“å­˜ã€‚è¿™äº›å‘½ä»¤çš„ä¾èµ–å…³ç³»å’Œç¼“å­˜è®¾ç½®ä¼šåº”ç”¨åˆ° MonoRepo ä¸­çš„å„ä¸ªåŒ…ä¸­</p><pre><code class="json">//turbo.json&#123;  &quot;$schema&quot;: &quot;https://turbo.build/schema.json&quot;,  &quot;pipeline&quot;: &#123;    &quot;build&quot;: &#123;      // A package&#39;s `build` script depends on that package&#39;s      // dependencies and devDependencies      // `build` tasks  being completed first      // (the `^` symbol signifies `upstream`).      &quot;dependsOn&quot;: [&quot;^build&quot;],      // note: output globs are relative to each package&#39;s `package.json`      // (and not the monorepo root)      &quot;outputs&quot;: [&quot;.next/**&quot;]    &#125;,    &quot;test&quot;: &#123;      // A package&#39;s `test` script depends on that package&#39;s      // own `build` script being completed first.      &quot;dependsOn&quot;: [&quot;build&quot;],      // A package&#39;s `test` script should only be rerun when      // either a `.tsx` or `.ts` file has changed in `src` or `test` folders.      &quot;inputs&quot;: [&quot;src/**/*.tsx&quot;, &quot;src/**/*.ts&quot;, &quot;test/**/*.ts&quot;, &quot;test/**/*.tsx&quot;]    &#125;,    // A package&#39;s `lint` script has no dependencies and    // can be run whenever. It also has no filesystem outputs.    &quot;lint&quot;: &#123;&#125;,    &quot;deploy&quot;: &#123;      // A package&#39;s `deploy` script depends on the `build`,      // `test`, and `lint` scripts of the same package      // being completed. It also has no filesystem outputs.      &quot;dependsOn&quot;: [&quot;build&quot;, &quot;test&quot;, &quot;lint&quot;]    &#125;  &#125;&#125;</code></pre><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>build</code>å’Œ<code>test</code>è¿™ä¸¤ä¸ªä»»åŠ¡å…·æœ‰ä¾èµ–æ€§ï¼Œå¿…é¡»è¦ç­‰ä»–ä»¬çš„ä¾èµ–é¡¹å¯¹åº”çš„ä»»åŠ¡å®Œæˆåæ‰èƒ½æ‰§è¡Œï¼Œæ‰€ä»¥è¿™é‡Œç”¨<code>^</code>æ¥è¡¨ç¤ºã€‚ å¯¹äºæ¯ä¸ªåŒ…ä¸­ package.json ä¸­çš„ script å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰é…ç½®è¦†ç›–é¡¹ï¼Œé‚£ä¹ˆTurboRepoå°†ç¼“å­˜é»˜è®¤è¾“å‡ºåˆ° <code>dist/** </code>å’Œ<code>build/**</code>æ–‡ä»¶å¤¹ä¸­ã€‚</p><h3 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h3><p>è¿™æ ·åªéœ€è¦è¿è¡Œ</p><pre><code class="bash">npx turbo run build test lint deploy</code></pre><p>å°±å¯ä»¥è¿è¡Œå…¨éƒ¨å‚æ•°</p><h3 id="é…ç½®-gitignore"><a href="#é…ç½®-gitignore" class="headerlink" title="é…ç½®.gitignore"></a>é…ç½®<code>.gitignore</code></h3><p>æ ¹ç›®å½• åˆ›å»º<code>.gitignore</code>æ–‡ä»¶</p><pre><code class="json">+ .turbo+ build/**+ dist/**+ .next/**</code></pre><h3 id="Remote-cache"><a href="#Remote-cache" class="headerlink" title="Remote cache"></a>Remote cache</h3><pre><code class="bash">turbo login</code></pre><pre><code class="bash">turbo link</code></pre><p>ç„¶ååˆ é™¤ä½ çš„<code>./node_modules/.cache/turbo</code>æ–‡ä»¶å¤¹</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230123234538.png"></p><p>æ˜¾ç¤º full turbo åˆ™è¯æ˜åŒ¹é…åˆ°äº†äº‘ç«¯çš„ç¼“å­˜ï¼Œç›´æ¥æ‹‰ä¸‹æ¥ä¸å†æ„å»ºä¸€é</p><h2 id="é…ç½®husky"><a href="#é…ç½®husky" class="headerlink" title="é…ç½®husky"></a>é…ç½®husky</h2><p>åœ¨æ ¹ç›®å½•å®‰è£…husky</p><p>å…ˆè¿è¡Œ<code>husky install</code></p><p>ç„¶ååˆ›å»º<code>.husky</code>æ–‡ä»¶å¤¹</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230124235647.png"></p><p>æ–‡ä»¶æ ‘å¦‚ä¸Š</p><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><pre><code>//.gitignore*</code></pre><pre><code class="sh"># husky.sh#!/usr/bin/env shif [ -z &quot;$husky_skip_init&quot; ]; then  debug () &#123;    if [ &quot;$HUSKY_DEBUG&quot; = &quot;1&quot; ]; then      echo &quot;husky (debug) - $1&quot;    fi  &#125;  readonly hook_name=&quot;$(basename -- &quot;$0&quot;)&quot;  debug &quot;starting $hook_name...&quot;  if [ &quot;$HUSKY&quot; = &quot;0&quot; ]; then    debug &quot;HUSKY env variable is set to 0, skipping hook&quot;    exit 0  fi  if [ -f ~/.huskyrc ]; then    debug &quot;sourcing ~/.huskyrc&quot;    . ~/.huskyrc  fi  readonly husky_skip_init=1  export husky_skip_init  sh -e &quot;$0&quot; &quot;$@&quot;  exitCode=&quot;$?&quot;  if [ $exitCode != 0 ]; then    echo &quot;husky - $hook_name hook exited with code $exitCode (error)&quot;  fi  if [ $exitCode = 127 ]; then    echo &quot;husky - command not found in PATH=$PATH&quot;  fi  exit $exitCodefi</code></pre><pre><code class="sh">//commit-msg#!/bin/sh. &quot;$(dirname &quot;$0&quot;)/_/husky.sh&quot;npx --no-install commitlint --edit &quot;$1&quot;</code></pre><pre><code class="sh">//post-merge#!/bin/sh. &quot;$(dirname &quot;$0&quot;)/_/husky.sh&quot;yarn install</code></pre><pre><code class="sh">//pre-commit#!/bin/sh. &quot;$(dirname &quot;$0&quot;)/_/husky.sh&quot;yarn lint-staged</code></pre><h3 id="å®‰è£…commit-lint"><a href="#å®‰è£…commit-lint" class="headerlink" title="å®‰è£…commit lint"></a>å®‰è£…commit lint</h3><pre><code>yarn install -D @commitlint/config-conventional @commitlint/cli</code></pre><p>è¿™ä¸ªå¯ä»¥åœ¨MonoRepoå†…å®‰è£…ä¸åœ¨æ ¹ç›®å½•è£…</p><p>åœ¨å‰ç«¯çš„package.jsoné‡Œé…ç½®</p><pre><code class="json">//./frontend/package.json&#123;  &quot;name&quot;: &quot;frontend&quot;,  &quot;version&quot;: &quot;1.0.0&quot;,  &quot;private&quot;: true,  &quot;scripts&quot;: &#123;    &quot;build&quot;: &quot;nuxi build&quot;,    &quot;dev&quot;: &quot;nuxi dev&quot;,    &quot;start&quot;: &quot;node .output/server/index.mjs&quot;,    &quot;lint&quot;: &quot;eslint .&quot;,    &quot;lint:fix&quot;: &quot;eslint . --fix&quot;,    &quot;generate&quot;: &quot;nuxi generate&quot;,    &quot;typecheck&quot;: &quot;tsc --noEmit --incremental false&quot;,    &quot;lint:strict&quot;: &quot;eslint --max-warnings=0 .&quot;  &#125;,  &quot;lint-staged&quot;: &#123;    &quot;**/*.&#123;js,ts,vue,html&#125;&quot;: [      &quot;eslint --max-warnings=0&quot;    ]  &#125;&#125;</code></pre><p>æœ€ååœ¨æ ¹ç›®å½•åˆ›å»º<code>commitlint.config.js</code></p><p>é‡Œé¢å†™ä¸Šcommit lint è§„åˆ™</p><pre><code class="js">//commitlint.config.jsmodule.exports = &#123;  extends: [&#39;@commitlint/config-conventional&#39;],  rules: &#123;    &#39;type-enum&#39;: [      2,      &#39;always&#39;,      [        &#39;feat&#39;,        &#39;fix&#39;,        &#39;docs&#39;,        &#39;chore&#39;,        &#39;style&#39;,        &#39;refactor&#39;,        &#39;ci&#39;,        &#39;test&#39;,        &#39;revert&#39;,        &#39;perf&#39;,        &#39;build&#39;,        &#39;vercel&#39;,      ],    ],  &#125;,&#125;</code></pre><h2 id="é…ç½®-gitignore-1"><a href="#é…ç½®-gitignore-1" class="headerlink" title="é…ç½®.gitignore"></a>é…ç½®<code>.gitignore</code></h2><pre><code>node_modules*.logdist.output.nuxt.env.turbo# Logslogs*.lognpm-debug.log*yarn-debug.log*yarn-error.log*lerna-debug.log*# Diagnostic reports (https://nodejs.org/api/report.html)report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json# Runtime datapids*.pid*.seed*.pid.lock# Directory for instrumented libs generated by jscoverage/JSCoverlib-cov# Coverage directory used by tools like istanbulcoverage*.lcov# nyc test coverage.nyc_output# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files).grunt# Bower dependency directory (https://bower.io/)bower_components# node-waf configuration.lock-wscript# Compiled binary addons (https://nodejs.org/api/addons.html)build/Release# Dependency directoriesnode_modules/jspm_packages/# TypeScript v1 declaration filestypings/# TypeScript cache*.tsbuildinfo# Optional npm cache directory.npm# Optional eslint cache.eslintcache# Microbundle cache.rpt2_cache/.rts2_cache_cjs/.rts2_cache_es/.rts2_cache_umd/# Optional REPL history.node_repl_history# Output of &#39;npm pack&#39;*.tgz# Yarn Integrity file.yarn-integrity# dotenv environment variables file.env.env.test# parcel-bundler cache (https://parceljs.org/).cache# Next.js build output.next# Nuxt.js build / generate output.nuxtdist# Gatsby files.cache/# Comment in the public line in if your project uses Gatsby and *not* Next.js# https://nextjs.org/blog/next-9-1#public-directory-support# public# vuepress build output.vuepress/dist# Serverless directories.serverless/# FuseBox cache.fusebox/# DynamoDB Local files.dynamodb/# TernJS port file.tern-port.vercelfrontend/.env</code></pre><h2 id="é…ç½®vercel"><a href="#é…ç½®vercel" class="headerlink" title="é…ç½®vercel"></a>é…ç½®vercel</h2><p>åˆ›å»º<code>vercel.json</code></p><p>ç”±äºæ˜¯nuxt3é¡¹ç›® vercelæœ‰é¢„è®¾ åªéœ€è¦é…ç½®ä¸€ä¸ªå­—æ®µ</p><pre><code class="json">&#123;  &quot;framework&quot;: &quot;nuxtjs&quot;&#125;</code></pre><p>ç„¶åæ˜¯ç™»å½•vercelæŠŠé¡¹ç›®ç»‘å®šä¸Šå»</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125000950.png"></p><p>é…ç½®å¥½å›¢é˜Ÿæ˜¯è¿™æ ·çš„</p><h2 id="é…ç½®netlify"><a href="#é…ç½®netlify" class="headerlink" title="é…ç½®netlify"></a>é…ç½®netlify</h2><p>åˆ›å»º<code>netlify.toml</code></p><pre><code class="toml">[build.environment]  NODE_VERSION = &quot;16&quot;[build]  publish = &quot;dist&quot;  command = &quot;yarn build&quot;  functions = &quot;netlify/functions&quot;[[redirects]]  from = &quot;/*&quot;  to = &quot;/index.html&quot;  status = 200</code></pre><p>é»˜è®¤é…ç½®ä¸ºå¦‚ä¸Š</p><p>ç„¶åæ˜¯ç™»å½•netlifyæŠŠé¡¹ç›®ç»‘å®šä¸Šå»</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125001234.png"></p><p>é…å¥½äº†æ˜¯è¿™æ ·çš„</p><h2 id="é…ç½®workflows"><a href="#é…ç½®workflows" class="headerlink" title="é…ç½®workflows"></a>é…ç½®workflows</h2><p>é…ç½®ä¸€ä¸ªactionsç”¨æ¥åœ¨çº¿lint æœ‰é”™ä¼šxx</p><pre><code class="yaml"># lint.yaml# https://github.com/kentcdodds/kentcdodds.com/blob/main/.github/workflows/deployment.ymlname: Code Checkon:  push:    branches:      - main  pull_request: &#123;&#125;jobs:  lint:    name: â¬£ ESLint    runs-on: ubuntu-latest    steps:      - name: ğŸ›‘ Cancel Previous Runs        uses: styfle/cancel-workflow-action@0.9.1      - name: â¬‡ï¸ Checkout repo        uses: actions/checkout@v2      - name: â” Setup node        uses: actions/setup-node@v2        with:          node-version: 16      - name: ğŸ“¥ Download deps        uses: bahmutov/npm-install@v1      - name: ğŸ”¬ Lint        run: npx turbo lint:strict</code></pre><p>é…ç½®ä¸€ä¸ªrelease bot ç”¨æ¥ç”Ÿæˆæ‰“åŒ…æ–‡ä»¶ åŒºåˆ†ç‰ˆæœ¬å·</p><pre><code class="yaml"># release.yamlname: release-pleaseon:  # workflow_dispatch:  push:    branches:      - mainjobs:  release-please:    runs-on: ubuntu-latest    steps:      - uses: google-github-actions/release-please-action@v3        with:          release-type: node          package-name: release-please-action</code></pre><p>é…ç½® issue bot ç”¨æ¥è‡ªåŠ¨ç”¨issueåˆ›å»ºåˆ†æ”¯</p><pre><code class="yaml"># issue.yamlname: &quot;Issue Autolink&quot;on:  pull_request:    types: [opened]jobs:  issue-links:    runs-on: ubuntu-latest    steps:      - uses: tkt-actions/add-issue-links@v1.6.0        with:          repo-token: &quot;$&#123;&#123; secrets.AUTO_LINK &#125;&#125;&quot;          branch-prefix: &quot;i&quot;          resolve: &quot;true&quot;</code></pre><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>åˆ°æ­¤åº”è¯¥åˆå§‹åŒ–çš„å·®ä¸å¤šäº†</p><p>è¿™ä¸ªä»åˆ›å»º debug åˆ°ä¸Šçº¿çš„æ—¶é—´å¤§æ¦‚èŠ±äº†ä¸¤å¤© é—®é¢˜å‡ºåœ¨ vercel å’Œ netlify ä¸Š</p><p>vercel å¯¹ nuxt çš„å…¼å®¹æ€§ä¸å¥½ï¼Œä¸å¦‚ä»–çš„äº²å„¿å­ next</p><p>åˆšå»æŸ¥äº†ä¸€ä¸‹ nuxt3åœ¨1æœˆ23æ—¥å˜æˆäº†é»˜è®¤ç‰ˆæœ¬</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125003129.png"></p><p>nuxt3ç”¨äº†ä¸€ä¸ªå«nitroçš„ç¼–è¯‘æ¡†æ¶ <a href="https://github.com/unjs/nitro">https://github.com/unjs/nitro</a></p><p><a href="https://nitro.unjs.io/">https://nitro.unjs.io/</a></p><p><code>æ„å»ºå’Œéƒ¨ç½²é€šç”¨JavaScriptæœåŠ¡å™¨</code></p><p><code>Nitroæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·é“¾å’Œä¸€ä¸ªæ¥è‡ªunjsç”Ÿæ€ç³»ç»Ÿçš„è¿è¡Œæ—¶æ¡†æ¶ï¼Œå¯ä»¥éšæ—¶éšåœ°æ„å»ºå’Œéƒ¨ç½²ä»»ä½•JavaScriptæœåŠ¡å™¨ï¼</code></p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125003640.png"></p><p>unjs æˆ‘æ„Ÿè§‰æ˜¯å†™jsé­”æ³•çš„ç»„ç»‡ é‡Œé¢å…¨æ˜¯é­”æ³•åº“</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230125003728.png"></p><p>è¿™ä½æ˜¯ä¸»è°‹</p><p>è¿™ä¸ªæ¡†æ¶ä¼šè‡ªåŠ¨æ£€æµ‹ä½ å½“å‰çš„ç¯å¢ƒ ç»™ä½ åˆ†é…ä¸€ä¸ªpreset  æ¯”å¦‚è¯´ä½ åœ¨å½“å‰nodeç¯å¢ƒbuild nuxtçš„è¯ä¼šç»™ä½ ç”Ÿæˆä¸€ä¸ª .mjsæ–‡ä»¶ ä½ è¿è¡Œæ–‡ä»¶å°±å¯ä»¥å¯åŠ¨ä¸€ä¸ªSSRæœåŠ¡å™¨</p><p>ä½ åœ¨vercelä¸Šè¿è¡Œçš„è¯å°±ç»™ä½  <code>presetï¼švercel</code> ç”Ÿæˆvercelè®¤çš„æ–‡ä»¶æ ¼å¼</p><p>netlifyåŒç†</p><p>é—®é¢˜å‡ºåœ¨ ä½¿ç”¨MonoRepo å nitroä¸è®¤æˆ‘è¿™æ˜¯åœ¨vercelé‡Œäº†  ä»–ä¼šç”Ÿæˆé»˜è®¤çš„nodeçš„mjsæ–‡ä»¶ ç„¶åæ„å»ºå¤±è´¥</p><p>å¾ˆçƒ¦</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://turbo.build/repo/docs/getting-started/existing-monorepo">https://turbo.build/repo/docs/getting-started/existing-monorepo</a></p><p><a href="https://github.com/antfu/vitesse-nuxt3">https://github.com/antfu/vitesse-nuxt3</a></p><p><a href="https://github.com/antfu?tab=repositories&q=vitesse&type=&language=&sort=">https://github.com/antfu?tab=repositories&amp;q=vitesse&amp;type=&amp;language=&amp;sort=</a></p><p><a href="https://nitro.unjs.io/">https://nitro.unjs.io/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MonoRepoè®¾ç½®ä¸éƒ¨ç½² ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/23/MonoRepo%E8%AE%BE%E7%BD%AE%E4%B8%8E%E9%83%A8%E7%BD%B2%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/23/MonoRepo%E8%AE%BE%E7%BD%AE%E4%B8%8E%E9%83%A8%E7%BD%B2%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 7 å¤©</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸¾ä¸ªä¾‹å­ï¼Œä½ ç°åœ¨æœ‰ä¸€ä¸ªå…¨æ ˆçš„é¡¹ç›®ï¼Œå›¢é˜Ÿé‡Œå†™äº†å‰ç«¯ã€åç«¯ã€ä½¿ç”¨æ–‡æ¡£å’Œä¸€ä¸ªå·¥å…·åº“ã€‚</p><p>ä¸€èˆ¬æƒ…å†µçš„è¯ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºå››ä¸ªä»“åº“ï¼Œæ”¾ä¸åŒçš„å†…å®¹ï¼Œå…¶ä¸­å‰ç«¯å¦‚æœä½¿ç”¨å·¥å…·åº“çš„è¯ï¼Œæˆ‘ä»¬ä¼šåœ¨å‰ç«¯é‡Œå¼•å…¥å·¥å…·åº“çš„åŒ…ï¼ˆå¯èƒ½æ˜¯ç›´æ¥ï¼Œå¯èƒ½æ˜¯åœ¨npmä¸Špublishè¿‡çš„ï¼‰</p><p>ä½ å¸Œæœ›è¿è¡Œå‰ç«¯é¡¹ç›®çš„æ—¶å€™ï¼ŒåŒæ—¶è¿è¡Œä¸‰ä¸ªå‘½ä»¤ï¼ˆä¾‹å¦‚ä½¿ç”¨yarnï¼‰ä½ éœ€è¦è¿è¡Œ <code>yarn lint</code> ã€<code>yarn build</code> ã€<code>yarn serve</code> ä½ éœ€è¦æ•²ä¸‰ä¸ªå‘½ä»¤ï¼Œå¾ˆéº»çƒ¦ã€‚</p><h2 id="MonoRepo"><a href="#MonoRepo" class="headerlink" title="MonoRepo"></a>MonoRepo</h2><h3 id="ä»€ä¹ˆæ˜¯MonoRepo"><a href="#ä»€ä¹ˆæ˜¯MonoRepo" class="headerlink" title="ä»€ä¹ˆæ˜¯MonoRepo"></a>ä»€ä¹ˆæ˜¯MonoRepo</h3><p>åœ¨å¼€å‘åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›å„ä¸ªé¡¹ç›®ä¹‹é—´èƒ½å¤Ÿè¶³å¤Ÿçš„ç‹¬ç«‹ï¼Œå„è‡ªçš„å¼€å‘å’Œå‘å¸ƒä¸ä¼šäº§ç”Ÿå¤ªå¤šçš„è€¦åˆï¼Œç°åœ¨å¾ˆå¤šçš„é¡¹ç›®ä¹Ÿæ˜¯å‡ºäºè¿™ç§è€ƒè™‘å»æ‹†æˆä¸€ä¸ªä¸€ä¸ªç‹¬ç«‹çš„å­é¡¹ç›®ï¼Œåœ¨å•ç‹¬çš„ä»£ç ä»“åº“ä¸­è¿›è¡Œç®¡ç†ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¸¸è§çš„å•ä»£ç ä»“åº“çš„å¼€å‘æ¨¡å¼ã€‚ </p><p>ä¾‹å¦‚æˆ‘ä»¬<code>å‰è¨€</code>ä¸­ä¸¾çš„ä¾‹å­ï¼Œä½ æƒ³è¦å‰ç«¯é¡¹ç›®ä¸­ä½¿ç”¨å·¥å…·åº“ä¸­çš„åŒ…ï¼Œä½ éœ€è¦åˆ°å‰ç«¯ï¼Œæˆ–è€…ä½¿ç”¨npm publishåå†å®‰è£…ï¼Œå½“ä½ å·¥å…·åº“çš„ç‰ˆæœ¬æ›´æ–°çš„æ—¶å€™ï¼Œä½ éœ€è¦æŠŠå‰ç«¯é¡¹ç›®é‡Œçš„å·¥å…·åº“ç‰ˆæœ¬ä¹Ÿæ›´æ–°æ‰ã€‚</p><p>å¦‚æœæŠŠæ‰€æœ‰æœ‰ä¾èµ–å…³ç³»çš„ä»£ç éƒ½æ”¾åˆ°ä¸€ä¸ªä»“åº“ä¸­è¿›è¡Œç»Ÿä¸€ç»´æŠ¤ï¼Œå½“ä¸€ä¸ªåº“å˜åŠ¨æ—¶ï¼Œå…¶å®ƒçš„ä»£ç èƒ½è‡ªåŠ¨çš„è¿›è¡Œä¾èµ–å‡çº§ï¼Œé‚£ä¹ˆå°±èƒ½ç²¾ç®€å¼€å‘æµç¨‹ã€æé«˜å¼€å‘æ•ˆç‡ã€‚è¿™ç§å¤šåŒ…çš„ä»£ç ä»“åº“ç®¡ï¼Œå°±æ˜¯ MonoRepoã€‚ </p><p>å…¶å®TurboRepoåœ¨å‰ç«¯ä¸­éå¸¸å¸¸è§ï¼ŒBabelã€Reactã€Vueç­‰å¼€æºé¡¹ç›®éƒ½æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼åœ¨ç®¡ç†ä»£ç ï¼Œå…¶ä¸­ Babel å®˜æ–¹å¼€æºçš„å¤šåŒ…ç®¡ç†å·¥å…· Lerna ä¹Ÿè¢«å¹¿æ³›çš„ä½¿ç”¨ã€‚</p><p>è¿™æ¬¡æˆ‘ä»‹ç»çš„æ˜¯TurboRepoã€‚</p><h2 id="TurboRepo"><a href="#TurboRepo" class="headerlink" title="TurboRepo"></a>TurboRepo</h2><p>TurboRepoæ˜¯ä¸€ä¸ªé€‚ç”¨äº JavaScript å’Œ Typescript TurboRepoçš„é«˜æ€§èƒ½æ„å»ºå·¥å…·ï¼Œä½¿ç”¨goã€rustè¯­è¨€ç¼–å†™ï¼Œæ€§èƒ½å¾ˆå¥½ã€‚</p><h3 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h3><ul><li><p>å¢é‡æ„å»ºï¼šç¼“å­˜æ„å»ºå†…å®¹ï¼Œå¹¶è·³è¿‡å·²ç»è®¡ç®—è¿‡çš„å†…å®¹ï¼Œé€šè¿‡å¢é‡æ„å»ºæ¥æé«˜æ„å»ºé€Ÿåº¦</p></li><li><p>å†…å®¹hashï¼šé€šè¿‡æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºæ¥çš„hashæ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦éœ€è¦è¿›è¡Œæ„å»ºï¼Œç¼“å­˜åœ¨äº‘ç«¯ï¼Œç™»å½•å³å¯äº«å—</p></li><li><p>äº‘ç¼“å­˜ï¼šå¯ä»¥å’Œå›¢é˜Ÿæˆå‘˜å…±äº«CI&#x2F;CDçš„äº‘æ„å»ºç¼“å­˜ï¼Œæ¥å®ç°æ›´å¿«çš„æ„å»º</p></li><li><p>å¤šä»»åŠ¡å¹¶è¡Œæ‰§è¡Œï¼šåœ¨ä¸æµªè´¹ç©ºé—² CPU çš„æƒ…å†µä¸‹ï¼Œä»¥æœ€å¤§å¹¶è¡Œæ•°é‡æ¥è¿›è¡Œæ„å»º</p></li><li><p>ä»»åŠ¡ç®¡é“ï¼šé€šè¿‡å®šä¹‰ä»»åŠ¡ä¹‹é—´çš„å…³ç³»ï¼Œè®© TurboRepo ä¼˜åŒ–æ„å»ºçš„å†…å®¹å’Œæ—¶é—´</p></li><li><p>çº¦å®šå¼é…ç½®ï¼šé€šè¿‡çº¦å®šæ¥é™ä½é…ç½®çš„å¤æ‚åº¦ï¼Œåªéœ€è¦å‡ è¡Œç®€å•çš„ JSON å°±èƒ½å®Œæˆé…ç½®ï¼ˆé…ç½®turbo.json)</p></li></ul><h2 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="headerlink" title="å¼€å§‹ä½¿ç”¨"></a>å¼€å§‹ä½¿ç”¨</h2><p>å¯¹äºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œå¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥ç”Ÿæˆå…¨æ–°çš„ä»£ç ä»“åº“</p><pre><code class="sql">npx create-turbo@latest</code></pre><p>å¯¹äºä¸€ä¸ªå·²ç»å­˜åœ¨çš„ monorepo é¡¹ç›®ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ­¥éª¤æ¥æ¥å…¥ turborepo</p><h3 id="å®‰è£…Turborepo"><a href="#å®‰è£…Turborepo" class="headerlink" title="å®‰è£…Turborepo"></a>å®‰è£…Turborepo</h3><p>å°† Turborepo æ·»åŠ åˆ°é¡¹ç›®æœ€å¤–å±‚çš„<code>devDependecies</code>ä¸­</p><pre><code class="sql">npm install turbo -Doryarn add turbo --dev</code></pre><h3 id="åˆ›å»ºä»»åŠ¡ç®¡é“"><a href="#åˆ›å»ºä»»åŠ¡ç®¡é“" class="headerlink" title="åˆ›å»ºä»»åŠ¡ç®¡é“"></a>åˆ›å»ºä»»åŠ¡ç®¡é“</h3><p>åœ¨<code>package.json</code> çš„<code>turbo</code>ä¸­ï¼Œå°†æƒ³è¦â€turboâ€çš„å‘½ä»¤æ·»åŠ åˆ°ç®¡é“ä¸­ ç®¡é“å®šä¹‰äº† npm åŒ…ä¸­ scripts çš„ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”ä¸ºè¿™äº›å‘½ä»¤å¼€å¯äº†ç¼“å­˜ã€‚è¿™äº›å‘½ä»¤çš„ä¾èµ–å…³ç³»å’Œç¼“å­˜è®¾ç½®ä¼šåº”ç”¨åˆ° monorepo ä¸­çš„å„ä¸ªåŒ…ä¸­</p><pre><code class="json">&#123;    &quot;turbo&quot;: &#123;        &quot;pipeline&quot;: &#123;            &quot;build&quot;: &#123;                &quot;dependsOn&quot;: [&quot;^build&quot;],                        &quot;outputs&quot;: [&quot;.next/**&quot;]                        &#125;,            &quot;test&quot;: &#123;                &quot;dependsOn&quot;: [&quot;^build&quot;],                &quot;outputs&quot;: []                                        &#125;,            &quot;lint&quot;: &#123;                &quot;outputs&quot;: []            &#125;,            &quot;dev&quot;: &#123;                &quot;cache&quot;: false                        &#125;         &#125;        &#125;&#125;</code></pre><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>build</code>å’Œ<code>test</code>è¿™ä¸¤ä¸ªä»»åŠ¡å…·æœ‰ä¾èµ–æ€§ï¼Œå¿…é¡»è¦ç­‰ä»–ä»¬çš„ä¾èµ–é¡¹å¯¹åº”çš„ä»»åŠ¡å®Œæˆåæ‰èƒ½æ‰§è¡Œï¼Œæ‰€ä»¥è¿™é‡Œç”¨<code>^</code>æ¥è¡¨ç¤ºã€‚ å¯¹äºæ¯ä¸ªåŒ…ä¸­ package.json ä¸­çš„ script å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰é…ç½®è¦†ç›–é¡¹ï¼Œé‚£ä¹ˆTurborepoå°†ç¼“å­˜é»˜è®¤è¾“å‡ºåˆ° <code>dist/** </code>å’Œ<code>build/**</code>æ–‡ä»¶å¤¹ä¸­ã€‚</p><h2 id="pipeline"><a href="#pipeline" class="headerlink" title="pipeline"></a>pipeline</h2><p>ä»ä¸Šé¢çš„ turbo çš„é…ç½®ä¸­å¯ä»¥çœ‹å‡ºæ¥ï¼Œç®¡é“(pipeline)æ˜¯ä¸€ä¸ªæ ¸å¿ƒçš„æ¦‚å¿µï¼ŒTurborepoä¹Ÿæ˜¯é€šè¿‡ç®¡é“æ¥å¤„ç†å„ä¸ªä»»åŠ¡å’Œä»–ä»¬çš„ä¾èµ–å…³ç³»çš„ã€‚</p><p>Turborepoæä¾›äº†ä¸€ç§å£°æ˜å¼çš„æ–¹æ³•æ¥æŒ‡å®šå„ä¸ªä»»åŠ¡ä¹‹é—´çš„å…³ç³»ï¼Œè¿™ç§æ–¹å¼èƒ½å¤Ÿæ›´å®¹æ˜“ç†è§£å„ä¸ªä»»åŠ¡ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶ä¸”Turborepoä¹Ÿèƒ½é€šè¿‡è¿™ç§æ˜¾å¼çš„å£°æ˜æ¥ä¼˜åŒ–ä»»åŠ¡çš„æ‰§è¡Œå¹¶å……åˆ†è°ƒåº¦CPUçš„å¤šæ ¸å¿ƒæ€§èƒ½ã€‚</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230123234328.png"></p><h3 id="é…ç½®pipeline"><a href="#é…ç½®pipeline" class="headerlink" title="é…ç½®pipeline"></a>é…ç½®pipeline</h3><p>pipelineä¸­æ¯ä¸ªé”®åéƒ½å¯ä»¥é€šè¿‡è¿è¡Œ<code>turbo run</code>æ¥æ‰§è¡Œï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨<code>dependsOn</code>æ¥æ‰§è¡Œå½“å‰ç®¡é“çš„ä¾èµ–é¡¹ã€‚</p><p>ä¸Šå›¾çš„æ‰§è¡Œæµç¨‹ï¼Œå¯ä»¥é…ç½®æˆå¦‚ä¸‹çš„æ ¼å¼</p><pre><code class="json">&#123;    &quot;turbo&quot;: &#123;        &quot;pipeline&quot;: &#123;            &quot;build&quot;: &#123;                &quot;dependsOn&quot;: [&quot;^build&quot;],                       &#125;,            &quot;test&quot;: &#123;                &quot;dependsOn&quot;: [&quot;build&quot;],                &quot;outputs&quot;: []                                        &#125;,            &quot;lint&quot;: &#123;                &quot;outputs&quot;: []            &#125;,            &quot;deploy&quot;: &#123;                &quot;dependsOn&quot;: [&quot;build&quot;, &quot;test&quot;, &quot;lint&quot;]                       &#125;         &#125;        &#125;&#125;</code></pre><p>é€šè¿‡<code>dependsOn</code>çš„é…ç½®ï¼Œå¯ä»¥çœ‹å‡ºå„ä¸ªå‘½ä»¤çš„æ‰§è¡Œé¡ºåºï¼š</p><ul><li>å› ä¸ºAå’ŒCä¾èµ–äºBï¼Œæ‰€ä»¥åŒ…çš„æ„å»ºå­˜åœ¨ä¾èµ–å…³ç³»ï¼Œæ ¹æ®buildçš„dependsoné…ç½®ï¼Œä¼šå…ˆæ‰§è¡Œä¾èµ–é¡¹çš„buildå‘½ä»¤ï¼Œä¾èµ–é¡¹æ‰§è¡Œå®Œåæ‰ä¼šæ‰§è¡Œè‡ªå·±çš„buildå‘½ä»¤ã€‚ä»ä¸Šé¢çš„ç€‘å¸ƒæµä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼ŒBçš„buildå…ˆæ‰§è¡Œï¼Œæ‰§è¡Œå®Œä»¥åAå’ŒCçš„buildä¼šå¹¶è¡Œæ‰§è¡Œ</li><li>å¯¹äºtestï¼Œåªä¾èµ–è‡ªå·±çš„buildå‘½ä»¤ï¼Œåªè¦è‡ªå·±çš„buildå‘½ä»¤å®Œæˆäº†ï¼Œå°±ç«‹å³æ‰§è¡Œtest</li><li>lintæ²¡æœ‰ä»»ä½•ä¾èµ–ï¼Œåœ¨ä»»ä½•æ—¶é—´éƒ½å¯ä»¥æ‰§è¡Œ</li><li>è‡ªå·±å®Œæˆbuildã€testã€lintåï¼Œå†æ‰§è¡Œdeployå‘½ä»¤</li></ul><p>å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ‰§è¡Œï¼š</p><pre><code class="bash">npx turbo run test build lint deploy</code></pre><h3 id="å¸¸è§„ä¾èµ–"><a href="#å¸¸è§„ä¾èµ–" class="headerlink" title="å¸¸è§„ä¾èµ–"></a>å¸¸è§„ä¾èµ–</h3><p>å¦‚æœä¸€ä¸ªä»»åŠ¡çš„æ‰§è¡Œï¼Œåªä¾èµ–è‡ªå·±åŒ…å…¶ä»–çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠä¾èµ–çš„ä»»åŠ¡æ”¾åœ¨dependsOnæ•°ç»„é‡Œ</p><pre><code class="json">&#123;    &quot;turbo&quot;: &#123;        &quot;pipeline&quot;: &#123;            &quot;deploy&quot;: &#123;                &quot;dependsOn&quot;: [&quot;build&quot;, &quot;test&quot;, &quot;lint&quot;]                       &#125;         &#125;        &#125;&#125;</code></pre><h3 id="ç‰¹å®šä¾èµ–"><a href="#ç‰¹å®šä¾èµ–" class="headerlink" title="ç‰¹å®šä¾èµ–"></a>ç‰¹å®šä¾èµ–</h3><p>åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œä¸€ä¸ªä»»åŠ¡å¯èƒ½ä¼šä¾èµ–æŸä¸ªåŒ…çš„ç‰¹å®šçš„ä»»åŠ¡ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å»æ‰‹åŠ¨æŒ‡å®šä¾èµ–å…³ç³»ã€‚</p><pre><code class="json">&#123;    &quot;turbo&quot;: &#123;        &quot;pipeline&quot;: &#123;            &quot;build&quot;: &#123;                &quot;dependsOn&quot;: [&quot;^build&quot;],                       &#125;,            &quot;test&quot;: &#123;                &quot;dependsOn&quot;: [&quot;build&quot;],                &quot;outputs&quot;: []                                        &#125;,            &quot;lint&quot;: &#123;                &quot;outputs&quot;: []            &#125;,            &quot;deploy&quot;: &#123;                &quot;dependsOn&quot;: [&quot;build&quot;, &quot;test&quot;, &quot;lint&quot;]                       &#125;,            &quot;frontend#deploy&quot;: &#123;                &quot;dependsOn&quot;: [&quot;ui#test&quot;, &quot;backend#deploy&quot;]                        &#125;        &#125;        &#125;&#125;</code></pre><h2 id="Remote-cache"><a href="#Remote-cache" class="headerlink" title="Remote cache"></a>Remote cache</h2><p>å½“å¤šäººå¼€ä¸ªä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œå›¢é˜Ÿçš„æˆå‘˜å¯ä»¥å…±äº«æ„å»ºçš„ç¼“å­˜ï¼Œä»è€ŒåŠ å¿«é¡¹ç›®çš„æ„å»ºé€Ÿåº¦ã€‚</p><p>å½“ä¸€ä¸ªæˆå‘˜æŠŠæŸä¸ªåˆ†æ”¯æ„å»ºçš„ç¼“å­˜æ–‡ä»¶æ¨é€åˆ°è¿œç¨‹çš„gitä»“åº“æ˜¯ï¼Œå¦ä¸€ä¸ªæˆå‘˜å¦‚æœåœ¨åŒä¸€ä¸ªåˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œé‚£ä¹ˆTurborepo å¯ä»¥æ”¯æŒä½ å»é€‰æ‹©æŸä¸ªæˆå‘˜çš„æ„å»ºç¼“å­˜ï¼Œå¹¶åœ¨è¿è¡Œç›¸å…³çš„æ„å»ºä»»åŠ¡æ—¶ï¼Œä»è¿œç«¯æ‹‰å»ç¼“å­˜æ–‡ä»¶åˆ°æœ¬åœ°ï¼ŒåŠ å¿«æ„å»ºçš„é€Ÿåº¦</p><p>è¿è¡Œ npx turbo linkï¼Œè¿›è¡Œç™»å½•åï¼Œå°±å¯ä»¥é€‰æ‹©è¦ä½¿ç”¨çš„ç¼“å­˜</p><p><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230123234538.png"></p><p>æ˜¾ç¤º full turbo åˆ™è¯æ˜åŒ¹é…åˆ°äº†äº‘ç«¯çš„ç¼“å­˜ï¼Œç›´æ¥æ‹‰ä¸‹æ¥ä¸å†æ„å»ºä¸€é</p><h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>æˆ‘ç›¸ä¿¡ Turborepo çš„å‡ºç°åœ¨ä¸ä¹…çš„å°†æ¥ä¸€å®šä¼šæˆä¸º Monorepo å·¥å…·é“¾ä¸­é‡è¦çš„ä¸€ç¯ï¼Œæ— è®ºæ˜¯æ„å»ºç¼“å­˜åŠŸèƒ½è¿˜æ˜¯åŸºäº pipeline çš„æ™ºèƒ½ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼Œéƒ½éå¸¸ä¼˜ç§€çš„è§£å†³äº†ä¼ ç»Ÿ Monorepo å­˜åœ¨â€œæ…¢â€çš„é—®é¢˜ã€‚</p><p>ä¸ºäº†æ›´å¥½çš„æ€§èƒ½ï¼Œå¤§éƒ¨åˆ†äººå°†ä¸å†å±€é™äºä½¿ç”¨ JavaScript å¼€å‘ JavaScript å·¥å…·ï¼Œè€Œæ˜¯æ›´æ„¿æ„é€‰æ‹©å…¶ä»–é«˜é—¨æ§›è¯­è¨€ã€‚</p><p>æˆ‘æ„Ÿè§‰ä½¿ç”¨turboæœ‰å¾ˆå¥½çš„ä½“éªŒï¼Œä½†ä»–å¥½åƒå¯¹nuxtå…¼å®¹æ€§ä¸å¥½ï¼Œåªå…¼å®¹è‡ªå·±çš„äº²å„¿å­nextğŸ¤£ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://juejin.cn/post/7051929587852247077">https://juejin.cn/post/7051929587852247077</a><br><a href="https://juejin.cn/post/7048234698048274469">https://juejin.cn/post/7048234698048274469</a><br><a href="https://juejin.cn/post/7129267782515949575">https://juejin.cn/post/7129267782515949575</a></p><p><a href="https://github.com/vercel/turbo">https://github.com/vercel/turbo</a></p><p><a href="https://turbo.build/repo/docs/core-concepts/monorepos/running-tasks">https://turbo.build/repo/docs/core-concepts/monorepos/running-tasks</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPåè®® ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/22/HTTP%E5%8D%8F%E8%AE%AE%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/22/HTTP%E5%8D%8F%E8%AE%AE%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 6 å¤©</strong></p><h2 id="æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹"><a href="#æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹" class="headerlink" title="æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹"></a>æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹</h2><ol><li>HTTP åè®®çš„ç®€å•ä»‹ç»</li><li>HTTP åè®®çš„æŠ¥æ–‡ç»“æ„</li></ol><h2 id="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»"><a href="#è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»" class="headerlink" title="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»"></a>è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»</h2><p>HTTP å…¨ç§°è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHyper Text Transfer Protocolï¼‰ï¼Œæ˜¯ä¸€ä¸ªåŸºäºTCPåè®®çš„æ— çŠ¶æ€åº”ç”¨å±‚åè®®ã€‚</p><h3 id="HTTP-å‘å±•å†å²"><a href="#HTTP-å‘å±•å†å²" class="headerlink" title="HTTP å‘å±•å†å²"></a>HTTP å‘å±•å†å²</h3><ul><li><p>HTTP&#x2F;0.9</p><ul><li><p>åªæœ‰GETç±»å‹çš„è¯·æ±‚</p></li><li><p>åªèƒ½å“åº”HTMLæ–‡æ¡£</p></li></ul></li><li><p>HTTP&#x2F;1.0</p><ul><li><p>å¢åŠ äº† Header</p></li><li><p>å¢åŠ äº†çŠ¶æ€ç </p></li><li><p>æ”¯æŒäº†å¤šç§æ–‡æ¡£ç±»å‹</p></li></ul></li><li><p>HTTP&#x2F;1.1(å¸¸è§)</p><ul><li><p>è¿æ¥å¤ç”¨</p></li><li><p>æä¾›äº†ç¼“å­˜æ”¯æŒ</p></li><li><p>æ”¯æŒå†…å®¹åå•†</p></li></ul></li><li><p>HTTP&#x2F;2</p><ul><li><p>äºŒè¿›åˆ¶åè®®</p></li><li><p>æ”¯æŒHeaderå‹ç¼©</p></li><li><p>å¢åŠ äº†æœåŠ¡å™¨æ¨é€ï¼ˆServer Pushï¼‰</p></li></ul></li><li><p>HTTP&#x2F;3</p><ul><li>åŸºäºQUICï¼ˆudpï¼‰åè®®</li></ul></li></ul><h3 id="å¸¸è§çš„-HTTP-Methods"><a href="#å¸¸è§çš„-HTTP-Methods" class="headerlink" title="å¸¸è§çš„ HTTP Methods"></a>å¸¸è§çš„ HTTP Methods</h3><table><thead><tr><th>è¯·æ±‚ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>GET</td><td>è¯·æ±‚ä¸€ä¸ªæŒ‡å®šçš„èµ„æºã€‚ä½¿ç”¨GETçš„è¯·æ±‚ä¸€èˆ¬ç”¨äºè·å–æ•°æ®</td></tr><tr><td>POST</td><td>å°†å®ä½“æäº¤åˆ°æŒ‡å®šèµ„æºï¼Œé€šå¸¸å¯¼è‡´æœåŠ¡å™¨ä¸Šçš„çŠ¶æ€å˜åŒ–æˆ–å‰¯ä½œç”¨</td></tr><tr><td>PUT</td><td>ç”¨äºè¯·æ±‚æœ‰æ•ˆè½½è·æ›¿æ¢ç›®æ ‡èµ„æº</td></tr><tr><td>DELETE</td><td>ç”¨äºåˆ é™¤æŒ‡å®šçš„èµ„æº</td></tr><tr><td>HEAD</td><td>è¯·æ±‚ä¸€ä¸ªä¸GETè¯·æ±‚çš„å“åº”ç›¸åŒçš„å“åº”ï¼Œä½†æ²¡æœ‰å“åº”ä½“</td></tr><tr><td>OPTIONS</td><td>é¢„æ£€è¯·æ±‚ï¼Œç”¨äºæè¿°ç›®æ ‡èµ„æºçš„é€šä¿¡é€‰é¡¹</td></tr></tbody></table><p>å…¶ä¸­æœ€å¸¸è§çš„æ˜¯ <code>GET</code> è¯·æ±‚å’Œ <code>POST</code> è¯·æ±‚ï¼Œ<code>PUT</code> <code>DELETE</code> å¸¸è§äºå„ç±» RESTful API ä¸­ã€‚è€Œ <code>OPTIONS</code> è¯·æ±‚è¢«ç§°ä¸ºé¢„æ£€è¯·æ±‚ï¼Œå€˜è‹¥æˆ‘ä»¬å°è¯•ä¸ºå‰é¢çš„å‡ ä¸ªè¯·æ±‚ç±»å‹å¢åŠ è‡ªå®šä¹‰Headerï¼Œæµè§ˆå™¨ä¼šé»˜è®¤å‘æœåŠ¡å™¨å‘å‡ºä¸€ä¸ªOPTIONSè¯·æ±‚ï¼Œç”¨äºåˆ¤æ–­æœåŠ¡å™¨èƒ½å¦æ¥æ”¶&#x2F;å¤„ç†è¯¥headerã€‚</p><h3 id="å¸¸è§-HTTP-çŠ¶æ€ç "><a href="#å¸¸è§-HTTP-çŠ¶æ€ç " class="headerlink" title="å¸¸è§ HTTP çŠ¶æ€ç "></a>å¸¸è§ HTTP çŠ¶æ€ç </h3><blockquote><p>1xx - æŒ‡ç¤ºä¿¡æ¯ </p><p>2xx - è¯·æ±‚æˆåŠŸ </p><p>3xx - é‡å®šå‘æ“ä½œ </p><p>4xx - å®¢æˆ·ç«¯é”™è¯¯ </p><p>5xx - æœåŠ¡ç«¯é”™è¯¯</p></blockquote><ul><li><code>200</code> æ­£å¸¸å“åº”</li><li><code>301</code> æ°¸ä¹…é‡å®šå‘</li><li><code>302</code> ä¸´æ—¶é‡å®šå‘</li><li><code>401</code> æœªæˆæƒ</li><li><code>403</code> è¯·æ±‚è¢«æ‹’ç»</li><li><code>404</code> è¯·æ±‚èµ„æºä¸å­˜åœ¨</li><li><code>500</code> æœåŠ¡å™¨é”™è¯¯</li><li><code>504</code> ç½‘å…³é”™è¯¯</li></ul><h3 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h3><p>ä»–æ˜¯ä¸€ç§APIè®¾è®¡é£æ ¼ã€‚</p><ol><li>æ¯ä¸€ä¸ªURLä»£è¡¨ä¸€ç§èµ„æº</li><li>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ï¼Œä¼ é€’è¿™ç§èµ„æºçš„æŸç§è¡¨ç°å±‚ã€‚</li><li>å®¢æˆ·ç«¯é€šè¿‡HTTP methodï¼Œå¯¹æœåŠ¡ç«¯èµ„æºè¿›è¡Œæ“ä½œï¼Œå®ç°â€è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€</li></ol><h3 id="å¸¸è§è¯·æ±‚å¤´"><a href="#å¸¸è§è¯·æ±‚å¤´" class="headerlink" title="å¸¸è§è¯·æ±‚å¤´"></a>å¸¸è§è¯·æ±‚å¤´</h3><ul><li>Acceptï¼šæ¥å—ç±»å‹</li><li>Content-Typeï¼šå®¢æˆ·ç«¯å‘é€å‡ºå»å®ä½“å†…å®¹çš„ç±»å‹</li><li>Cache-Controlï¼šæŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶ã€‚</li><li>Cookieï¼šæœ‰cookieä¼šè‡ªåŠ¨å¸¦ä¸Š</li></ul><h3 id="å¸¸ç”¨å“åº”å¤´"><a href="#å¸¸ç”¨å“åº”å¤´" class="headerlink" title="å¸¸ç”¨å“åº”å¤´"></a>å¸¸ç”¨å“åº”å¤´</h3><ul><li>Set-Cookieï¼šè®¾ç½®å’Œé¡µé¢å…³è”çš„Cookie</li><li>Content-Typeï¼šæœåŠ¡ç«¯</li></ul><h3 id="HTTP2"><a href="#HTTP2" class="headerlink" title="HTTP2"></a>HTTP2</h3><p>å¸§ï¼šhttp2æœ€å°é€šä¿¡å•ä½ï¼Œæ¯ä¸ªå¸§éƒ½åŒ…å«å¸§å¤´</p><p>æ¶ˆæ¯ï¼šä¸é€»è¾‘è¯·æ±‚æˆ–å“åº”æ¶ˆæ¯å¯¹åº”çš„å®Œæ•´çš„ä¸€ç³»åˆ—å¸§ã€‚</p><p>æ•°æ®æµï¼šå·²å»ºç«‹çš„è¿æ¥å†…çš„åŒå‘å­—èŠ‚æµï¼Œå¯ä»¥æ‰¿è½½ä¸€æ¡æˆ–å¤šæ¡æ¶ˆæ¯ã€‚</p><p>äº¤é”™å‘é€ï¼Œæ¥æ”¶æ–¹é‡ç»„ç»‡ã€‚</p><p>HTTP2è¿æ¥æ˜¯æ°¸ä¹…çš„ï¼Œè€Œä¸”ä»…éœ€è¦æ¯ä¸ªæ¥æºä¸€ä¸ªè¿æ¥ã€‚</p><p>æµæ§åˆ¶ï¼šé˜»æ­¢å‘é€æ–¹å‘æ¥æ”¶æ–¹å‘é€å¤§é‡æ•°æ®çš„æœºåˆ¶ã€‚</p><p>æœåŠ¡å™¨æœ‰ä¸»åŠ¨æ¨é€èƒ½åŠ›ï¼Œå¯ä»¥æå‰æ¨é€é™æ€èµ„æºã€‚</p><h3 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h3><p>HTTPS &#x3D; HTTP + SSL</p><p>å¯¹ç§°åŠ å¯†ï¼šåŠ å¯†å’Œè§£å¯†éƒ½æ˜¯ç”¨åŒä¸€ä¸ªå¯†é’¥</p><p>éå¯¹ç§°åŠ å¯†ï¼šåŠ å¯†å’Œè§£å¯†éƒ½éœ€è¦ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„å¯†é’¥ï¼šå…¬é’¥å’Œç§é’¥ã€‚</p><h3 id="é‰´æƒ"><a href="#é‰´æƒ" class="headerlink" title="é‰´æƒ"></a>é‰´æƒ</h3><ul><li>Session+Cookie</li><li>JWT</li></ul><h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><ul><li>æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œå…¨åŒå·¥é€šè®¯çš„ç½‘ç»œæŠ€æœ¯</li><li>å®æ—¶æ€§é«˜</li></ul><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>QUICï¼šHTTP3çš„æ–°ç‰¹æ€§</p><h2 id="å®è·µç»ƒä¹ ä¾‹å­"><a href="#å®è·µç»ƒä¹ ä¾‹å­" class="headerlink" title="å®è·µç»ƒä¹ ä¾‹å­"></a>å®è·µç»ƒä¹ ä¾‹å­</h2><p><a href="https://www.w3schools.cn/html/exercise.asp">https://www.w3schools.cn/html/exercise.asp</a></p><h2 id="è¯¾åä¸ªäººæ€»ç»“"><a href="#è¯¾åä¸ªäººæ€»ç»“" class="headerlink" title="è¯¾åä¸ªäººæ€»ç»“"></a>è¯¾åä¸ªäººæ€»ç»“</h2><p>æœ¬æ¬¡è¯¾ç¨‹ä¸»è¦ä»‹ç»äº† HTTP åè®®çš„åŸºæœ¬çŸ¥è¯†ï¼Œä»¥åŠ HTTP çš„å‘å±•å†å²ï¼Œä»¥åŠå¸¸è§çš„è¯·æ±‚æ–¹æ³•å’ŒçŠ¶æ€ç ï¼Œä»¥åŠ RESTful APIã€‚å¦å¤–è¿˜ä»‹ç»äº† HTTPS å’Œ WebSocket ä»¥åŠ QUIC ç­‰æ–°ç‰¹æ€§ã€‚å­¦å®Œæœ¬èŠ‚è¯¾ï¼Œæˆ‘å¯¹ HTTP åè®®æœ‰äº†æ›´æ·±å…¥çš„ç†è§£ï¼ŒæŒæ¡äº†å…¶ä¸­çš„å¸¸è§è¯·æ±‚å¤´å’Œå“åº”å¤´ï¼Œä»¥åŠå¸¸ç”¨çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”äº†è§£äº† HTTP2ï¼ŒHTTPSï¼ŒWebSocketï¼Œä»¥åŠ QUIC ç­‰æ–°ç‰¹æ€§ã€‚</p><h2 id="å¼•ç”¨å‚è€ƒ"><a href="#å¼•ç”¨å‚è€ƒ" class="headerlink" title="å¼•ç”¨å‚è€ƒ"></a>å¼•ç”¨å‚è€ƒ</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP">https://developer.mozilla.org/zh-CN/docs/Web/HTTP</a></p><p><a href="https://jwt.io/">https://jwt.io/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScript ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/19/TypeScript%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/19/TypeScript%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 4 å¤©</strong></p><h2 id="æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹"><a href="#æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹" class="headerlink" title="æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹"></a>æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹</h2><ol><li>TypeScript å®šä¹‰è§£æ</li><li>TypeScript åŸºç¡€è¯­æ³•</li></ol><h2 id="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»"><a href="#è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»" class="headerlink" title="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»"></a>è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»</h2><ol><li>è¯­è¨€ç‰¹æ€§</li><li>åŸºæœ¬æ•°æ®ç±»å‹</li></ol><h3 id="è¯­è¨€ç‰¹æ€§"><a href="#è¯­è¨€ç‰¹æ€§" class="headerlink" title="è¯­è¨€ç‰¹æ€§"></a>è¯­è¨€ç‰¹æ€§</h3><p>JavaScript æ˜¯åŠ¨æ€ç±»å‹çš„è¯­è¨€ï¼Œè€ŒTypeScripté¡¾åæ€ä¹‰æ˜¯é™æ€ç±»å‹çš„è¯­è¨€ã€‚ä¸jsç›¸æ¯”ï¼Œé™æ€ç±»å‹çš„ç‰¹æ€§ä¸ºtså¸¦æ¥äº†è®¸å¤šä¼˜åŠ¿</p><ul><li>æ›´å¼ºçš„å¯è¯»æ€§</li><li>æ›´å¼ºçš„å¯ç»´æŠ¤æ€§</li><li>å¤§å‹é¡¹ç›®ä¸­æå‡ç¨³å®šæ€§</li><li>å¼€å‘æ•ˆç‡</li></ul><p>è€Œä½œä¸ºjsçš„è¶…é›†ï¼Œtså…¼å®¹æ‰€æœ‰jsç‰¹æ€§ï¼Œä¸”æ”¯æŒä¸jså…±å­˜ï¼Œèƒ½å¤Ÿæ¸è¿›å¼åœ°å¼•å…¥å’Œå‡çº§ã€‚</p><h3 id="åŸºç¡€æ•°æ®ç±»å‹"><a href="#åŸºç¡€æ•°æ®ç±»å‹" class="headerlink" title="åŸºç¡€æ•°æ®ç±»å‹"></a>åŸºç¡€æ•°æ®ç±»å‹</h3><p>TypeScriptèƒ½å¤Ÿåœ¨å˜é‡åç§°åé¢æ·»åŠ å†’å·å’ŒæœŸæœ›çš„ç±»å‹æ¥ä¸ºå˜é‡èµ‹äºˆå…·ä½“çš„ç±»å‹ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼Œå¸¸è§çš„ç±»å‹æœ‰ <code>string</code> <code>number</code> <code>boolean</code> <code>null</code> <code>undefined</code></p><pre><code class="ts">let a: string = &quot;string&quot;let b: number = 12let c: boolean = true</code></pre><p>å¦‚æœåœ¨ä¹‹åå°è¯•ç»™å˜é‡èµ‹å€¼ä¸åŒç±»å‹çš„å€¼ï¼Œå°†ä¼šäº§ç”ŸæŠ¥é”™</p><h3 id="å¯¹è±¡ç±»å‹"><a href="#å¯¹è±¡ç±»å‹" class="headerlink" title="å¯¹è±¡ç±»å‹"></a>å¯¹è±¡ç±»å‹</h3><p>tsä½¿ç”¨<code>interface</code>å…³é”®å­—æ¥å®šä¹‰æ–°ç±»å‹</p><pre><code class="ts">interface ICustomObject &#123;    name: string    age: number    hobby?: string    readonly id: number&#125;const obj: ICustonObject &#123;    name: &quot;hello world&quot;,    age: 12,    hobby: &#39;coding&#39;,    id: 10&#125;</code></pre><p>å¯¹äºåªè¯»å±æ€§ï¼Œå¯ä»¥åœ¨ç±»å‹å®šä¹‰æ—¶å¢åŠ readonlyä¿®é¥°ç¬¦ï¼Œåœ¨ä¹‹åå€˜è‹¥ä¿®æ”¹åªè¯»å±æ€§ï¼Œå°†ä¼šæŠ¥é”™ã€‚åœ¨å±æ€§ååé¢ç´§è·Ÿé—®å·è¡¨ç¤ºè¯¥å±æ€§å¯é€‰ï¼ˆå¯èƒ½ä¸å­˜åœ¨ï¼‰ï¼Œåç»­å€˜è‹¥ç›´æ¥è¯»å–è¯¥å±æ€§ï¼Œå°†å¯¼è‡´æŠ¥é”™ï¼ˆéœ€è¦å…ˆåˆ¤æ–­è¯¥å±æ€§æ˜¯å¦å­˜åœ¨ï¼‰</p><blockquote><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œçº¦å®šè‡ªå®šä¹‰ç±»å‹ä»¥å¤§å†™å­—æ¯<code>I</code>å¼€å¤´ï¼Œä¾‹å¦‚ä¸Šé¢çš„ <code>ICustomObject</code></p></blockquote><h4 id="ç‰¹æ®Šæƒ…å†µ"><a href="#ç‰¹æ®Šæƒ…å†µ" class="headerlink" title="ç‰¹æ®Šæƒ…å†µ"></a>ç‰¹æ®Šæƒ…å†µ</h4><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯¹è±¡çš„é”®åï¼ˆkeyï¼‰å¯èƒ½å¹¶ä¸å›ºå®šï¼Œæ¯”å¦‚æˆ‘å¸Œæœ›æŸä¸ªå¯¹è±¡é”®åæ˜¯ä»»æ„stringï¼Œé”®å€¼æ˜¯å¸ƒå°”å‹ï¼Œé‚£ä¹ˆå¯ä»¥å‘ä¸‹é¢è¿™æ ·å®šä¹‰</p><pre><code class="ts">interface IObj &#123;    [key: string]: boolean&#125;</code></pre><p>æˆ–è€…ä½¿ç”¨ <code>type</code> å…³é”®å­—</p><pre><code class="ts">type IObj = Record&lt;string, boolean&gt;</code></pre><h3 id="å‡½æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h3><p>å‡è®¾æœ‰ä¸€ä¸ªjså‡½æ•° <code>add</code></p><pre><code class="js">function add(x, y) &#123;    return x + y&#125;</code></pre><p>ä¸ºå…¶æ·»åŠ ç±»å‹å£°æ˜å</p><pre><code class="ts">function add(x: number, y: number):number &#123;    return x + y&#125;</code></pre><p>å¯¹äºåŒ¿åçš„ç®­å¤´å‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºå…¶æ·»åŠ ç±»å‹</p><pre><code class="ts">// jsconst add = (x, y) =&gt; x + y// tsconst add: (x: number, y: number) =&gt; number = (x, y) =&gt; x + y</code></pre><p>æˆ–è®¸åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå°†ç±»å‹å’Œå‡½æ•°å†™åœ¨ä¸€èµ·ä¼šç¨æ˜¾å‡Œä¹±ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å‡½æ•°ç±»å‹å•ç‹¬å®šä¹‰ï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ ·</p><pre><code class="ts">interface IAdd &#123;    (x: number, y: number): number&#125;const add: IAdd = (x, y) =&gt; x + y</code></pre><h3 id="æ•°ç»„ç±»å‹"><a href="#æ•°ç»„ç±»å‹" class="headerlink" title="æ•°ç»„ç±»å‹"></a>æ•°ç»„ç±»å‹</h3><p>æ•°ç»„çš„ç±»å‹å®šä¹‰æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæœ€å¸¸è§çš„æ˜¯åƒcè¯­è¨€é‚£æ ·çš„ç±»å‹å®šä¹‰</p><pre><code class="ts">type IArray = number[]const array: IArray = [1, 2, 3, 4, 5]</code></pre><p>åŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨tsæä¾›çš„Arrayæ³›å‹ï¼Œæ˜¯ä¸€æ ·çš„æ•ˆæœ</p><pre><code class="ts">type IArray = Array&lt;number&gt;const array: IArray = [1, 2, 3, 4, 5]</code></pre><p>å› ä¸ºæ•°ç»„å®é™…ä¸Šå°±æ˜¯é”®åç‰¹æ®Šçš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨è¡¨ç¤ºå¯¹è±¡çš„æ–¹æ³•æ¥è¡¨ç¤º</p><pre><code class="ts">interface IArray &#123;    [key: number]: number&#125;const array: IArray = [1, 2, 3, 4, 5]</code></pre><h3 id="TS-æ–°å¢çš„ç±»å‹"><a href="#TS-æ–°å¢çš„ç±»å‹" class="headerlink" title="TS æ–°å¢çš„ç±»å‹"></a>TS æ–°å¢çš„ç±»å‹</h3><p>ä¸ºäº†å®ç°ä¸€äº›ç‰¹æ®Šéœ€æ±‚ï¼Œtsä¹Ÿæ–°å¢äº†è®¸å¤šç±»å‹æ–¹ä¾¿ä½¿ç”¨</p><h4 id="ç©ºç±»å‹"><a href="#ç©ºç±»å‹" class="headerlink" title="ç©ºç±»å‹"></a>ç©ºç±»å‹</h4><pre><code class="ts">function test(): void &#123;    alert(&quot;hello&quot;)&#125;</code></pre><p>é¡¾åæ€ä¹‰ï¼Œè¡¨ç¤ºæ— èµ‹å€¼ï¼Œä¾‹å¦‚å‡½æ•°æ²¡æœ‰è¿”å›å€¼</p><h3 id="ä»»æ„ç±»å‹"><a href="#ä»»æ„ç±»å‹" class="headerlink" title="ä»»æ„ç±»å‹"></a>ä»»æ„ç±»å‹</h3><pre><code class="ts">type IArray = Array&lt;any&gt;const array: IArray = [1, &quot;string&quot;, true, &#123;a: 1&#125;]</code></pre><h3 id="æšä¸¾ç±»å‹"><a href="#æšä¸¾ç±»å‹" class="headerlink" title="æšä¸¾ç±»å‹"></a>æšä¸¾ç±»å‹</h3><p>è¯¥ç±»å‹èƒ½å¤Ÿé€šè¿‡æšä¸¾åæŸ¥æšä¸¾å€¼ï¼ŒåŒæ—¶èƒ½å¤Ÿä½¿ç”¨æšä¸¾å€¼æŸ¥æšä¸¾å</p><pre><code class="ts">enum EnumTest &#123;    man = &#39;male&#39;,    woman = &#39;female&#39;,&#125;EnumTest[&#39;man&#39;] === &#39;male&#39;EnumTest[&#39;male&#39;] === &#39;man&#39;</code></pre><p>åœ¨ä¸æä¾›æšä¸¾åçš„æ—¶å€™ï¼Œå°†é»˜è®¤ä¸ºç”±0å¼€å§‹çš„ç´¢å¼•å€¼</p><pre><code class="ts">enum EnumWeekDay &#123; Mon, Tue, Wed, Thu, Fri &#125;EnumTest[&#39;Mon&#39;] === 0EnumTest[&#39;Tue&#39;] === 1</code></pre><h3 id="é«˜çº§ç±»å‹"><a href="#é«˜çº§ç±»å‹" class="headerlink" title="é«˜çº§ç±»å‹"></a>é«˜çº§ç±»å‹</h3><h4 id="è”åˆç±»å‹ä¸äº¤å‰ç±»å‹"><a href="#è”åˆç±»å‹ä¸äº¤å‰ç±»å‹" class="headerlink" title="è”åˆç±»å‹ä¸äº¤å‰ç±»å‹"></a>è”åˆç±»å‹ä¸äº¤å‰ç±»å‹</h4><p>è”åˆç±»å‹ï¼š <code>IA | IB</code>;</p><p>äº¤å‰ç±»å‹ï¼š <code>IA &amp; IB;</code></p><h4 id="ç±»å‹ä¿æŠ¤"><a href="#ç±»å‹ä¿æŠ¤" class="headerlink" title="ç±»å‹ä¿æŠ¤"></a>ç±»å‹ä¿æŠ¤</h4><p>å¯ä»¥ç›´æ¥é€šè¿‡<code>.type</code>ç„¶åæ‹¿åˆ°æŸä¸ªå˜é‡çš„ç±»å‹ï¼Œå¯ç”¨äºåç»­å˜é‡ç±»å‹çš„åˆ¤æ–­ï¼Œè¾¾åˆ°ç±»å‹ä¿æŠ¤çš„ä½œç”¨ã€‚</p><h4 id="è¡¥å……ç±»å‹"><a href="#è¡¥å……ç±»å‹" class="headerlink" title="è¡¥å……ç±»å‹"></a>è¡¥å……ç±»å‹</h4><ul><li>ç©ºç±»å‹ï¼Œè¡¨ç¤ºæ— èµ‹å€¼</li><li>ä»»æ„ç±»å‹ï¼Œæ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹</li><li>æšä¸¾ç±»å‹ï¼šæ”¯æŒæšä¸¾å€¼åˆ°æšä¸¾åçš„æ­£ã€åå‘æ˜ å°„</li></ul><h2 id="è¯¾åä¸ªäººæ€»ç»“"><a href="#è¯¾åä¸ªäººæ€»ç»“" class="headerlink" title="è¯¾åä¸ªäººæ€»ç»“"></a>è¯¾åä¸ªäººæ€»ç»“</h2><p>TypeScriptæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„è¯­è¨€ï¼Œç»™JavaScriptå¼€å‘å¸¦æ¥äº†ä¸¥æ ¼çš„æ£€æŸ¥</p><h2 id="å¼•ç”¨å‚è€ƒ"><a href="#å¼•ç”¨å‚è€ƒ" class="headerlink" title="å¼•ç”¨å‚è€ƒ"></a>å¼•ç”¨å‚è€ƒ</h2><p><a href="http://www.typescriptlang.org/docs/">www.typescriptlang.org/docs/</a></p><p><a href="https://bytedance.feishu.cn/file/boxcnIjrYQpF7pL6nWGtTl5W8Jd">https://bytedance.feishu.cn/file/boxcnIjrYQpF7pL6nWGtTl5W8Jd</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/18/JavaScript%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/18/JavaScript%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 3 å¤©</strong></p><h2 id="è¯¾ç¨‹é‡ç‚¹"><a href="#è¯¾ç¨‹é‡ç‚¹" class="headerlink" title="è¯¾ç¨‹é‡ç‚¹"></a>è¯¾ç¨‹é‡ç‚¹</h2><ol><li>ç¼–ç åŸåˆ™</li><li>ç»„ä»¶å°è£…</li><li>è¿‡ç¨‹æŠ½è±¡æ¦‚å¿µ</li><li>é«˜é˜¶å‡½æ•°ä½¿ç”¨æ¨¡å¼</li><li>JavaScript ç¼–ç¨‹èŒƒå¼</li></ol><h2 id="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»"><a href="#è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»" class="headerlink" title="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»"></a>è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»</h2><h3 id="ç¼–ç åŸåˆ™"><a href="#ç¼–ç åŸåˆ™" class="headerlink" title="ç¼–ç åŸåˆ™"></a>ç¼–ç åŸåˆ™</h3><p>å„å¸å…¶èŒï¼Œç»„ä»¶å°è£…ï¼Œè¿‡ç¨‹æŠ½è±¡</p><p>æˆ‘ä»¬åœ¨ç¼–ç çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œå°½é‡è®©HTML&#x2F;CSS&#x2F;JSå„å¸å…¶èŒï¼Œé¿å…ä¸å¿…è¦çš„ç”±JSç›´æ¥æ“ä½œæ ·å¼ã€‚</p><h3 id="ç»„ä»¶å°è£…"><a href="#ç»„ä»¶å°è£…" class="headerlink" title="ç»„ä»¶å°è£…"></a>ç»„ä»¶å°è£…</h3><p>ç»„ä»¶æ˜¯æŒ‡ä¸€ä¸ªåŒ…å«æ¨¡æ¿ã€åŠŸèƒ½ã€æ ·å¼çš„å•å…ƒï¼Œå¥½çš„ç»„ä»¶å…·æœ‰å°è£…æ€§ã€æ­£ç¡®æ€§ã€æ‰©å±•æ€§ã€å¤ç”¨æ€§ã€‚ </p><h3 id="è¿‡ç¨‹æŠ½è±¡"><a href="#è¿‡ç¨‹æŠ½è±¡" class="headerlink" title="è¿‡ç¨‹æŠ½è±¡"></a>è¿‡ç¨‹æŠ½è±¡</h3><p>è¿‡ç¨‹æŠ½è±¡ç”¨æ¥å¤„ç†ç»†èŠ‚æ§åˆ¶çš„ä¸€äº›æ–¹æ³•ã€‚ éœ€è¦å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ã€‚</p><p>å‡½æ•°å¼ç¼–ç¨‹ï¼Œç®€å•ç†è§£å°±æ˜¯æ— å‰¯ä½œç”¨çš„è¾“å…¥-&gt;å¤„ç†-&gt;è¾“å‡ºã€‚</p><p>ä¸ºäº†èƒ½å¤Ÿè®©<code>åªæ‰§è¡Œä¸€æ¬¡</code>çš„éœ€æ±‚è¦†ç›–ä¸åŒçš„äº‹ä»¶å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªéœ€æ±‚å‰¥ç¦»å‡ºæ¥ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¸º<code>è¿‡ç¨‹æŠ½è±¡</code>ã€‚</p><h3 id="é«˜é˜¶å‡½æ•°ï¼ˆHOFï¼‰ä»‹ç»"><a href="#é«˜é˜¶å‡½æ•°ï¼ˆHOFï¼‰ä»‹ç»" class="headerlink" title="é«˜é˜¶å‡½æ•°ï¼ˆHOFï¼‰ä»‹ç»"></a>é«˜é˜¶å‡½æ•°ï¼ˆHOFï¼‰ä»‹ç»</h3><ul><li><p>ä»¥å‡½æ•°ä½œä¸ºå‚æ•°</p></li><li><p>ä»¥å‡½æ•°ä½œä¸ºè¿”å›å€¼</p></li><li><p>å¸¸ç”¨äºä½œä¸ºå‡½æ•°è£…é¥°å™¨</p></li></ul><h3 id="å¸¸è§çš„é«˜é˜¶å‡½æ•°"><a href="#å¸¸è§çš„é«˜é˜¶å‡½æ•°" class="headerlink" title="å¸¸è§çš„é«˜é˜¶å‡½æ•°"></a>å¸¸è§çš„é«˜é˜¶å‡½æ•°</h3><h4 id="Once"><a href="#Once" class="headerlink" title="Once"></a>Once</h4><p>ç”¨äºåªéœ€è¦æ‰§è¡Œä¸€æ¬¡çš„å‡½æ•°</p><pre><code class="js">function once(fn) &#123;    return function(...args) &#123;        if(fn) &#123;            const ret = fn.apply(this, args);            fn = null;            return ret;        &#125;    &#125;&#125;</code></pre><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><pre><code class="js">const print = (content) =&gt; &#123;    console.log(content)&#125;const printOnce = once(print)printOnce(&quot;1&quot;) // è¾“å‡º 1printOnce(&quot;2&quot;) // ä¸è¾“å‡º</code></pre><p>å¸¸ç”¨äºåªéœ€è¦æ‰§è¡Œä¸€æ¬¡çš„çš„äº‹ä»¶ä¾¦å¬å™¨ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨äº‹ä»¶ä¾¦å¬å™¨è‡ªå¸¦çš„once optionï¼Œæˆ–è€…æ‰‹åŠ¨åœ¨æ‰§è¡Œåç§»é™¤ä¾¦å¬å™¨ï¼‰</p><h4 id="èŠ‚æµï¼ˆThrottleï¼‰"><a href="#èŠ‚æµï¼ˆThrottleï¼‰" class="headerlink" title="èŠ‚æµï¼ˆThrottleï¼‰"></a>èŠ‚æµï¼ˆThrottleï¼‰</h4><p>å¦‚æœå¿«é€Ÿè°ƒç”¨å‡½æ•°ï¼Œé‚£ä¹ˆåªæœ‰ç¬¬ä¸€æ¬¡èƒ½æˆåŠŸè°ƒç”¨å‡½æ•°ï¼Œä¹‹åæ—¶é—´é—´éš”ä¹‹å†…çš„è°ƒç”¨ä¼šè¢«å¿½ç•¥ã€‚å¸¸ç”¨äºæ»šåŠ¨æ¡äº‹ä»¶&#x2F;ç€‘å¸ƒæµæ— é™æ»šåŠ¨çš„åœºæ™¯ï¼ˆé™åˆ¶å‡½æ•°è°ƒç”¨é¢‘ç‡ï¼Œä¿è¯ä¸€æ®µæ—¶é—´å†…å‡½æ•°åªè°ƒç”¨ä¸€æ¬¡ï¼‰</p><pre><code class="js">function throttle(fn, time = 500) &#123;    let timer = null;    return function (...args) &#123;        if (timer) return;        fn.apply(this, args);        timer = setTimeout(() =&gt; &#123;            timer = null;        &#125;, time);    &#125;&#125;</code></pre><h4 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h4><p>å½“åœ¨æ—¶é—´é—´éš”ä¹‹å†…å¿«é€Ÿè°ƒç”¨å‡½æ•°æ—¶ï¼Œå‡½æ•°å°†å§‹ç»ˆæ²¡æ³•æ‰§è¡Œï¼Œç›´åˆ°åœæ­¢åï¼Œå‡½æ•°æ‰ä¼šè¢«æ‰§è¡Œã€‚å¸¸ç”¨äºä¸€äº›æ–‡æœ¬è¾“å…¥çš„åœºæ™¯ï¼ˆæ¯”å¦‚æœç´¢æ¡†åœæ­¢è¾“å…¥åï¼Œå±•ç¤ºè”æƒ³è¯ï¼›æ–‡ç« ç¼–è¾‘å™¨ä¸­ï¼Œè¾“å…¥åœæ­¢åï¼Œè¿›è¡Œè‰ç¨¿çš„ä¿å­˜ï¼‰ã€‚</p><pre><code class="js">function debounce(fn, time = 500) &#123;    let timer = null;    return function (...args) &#123;        if (timer) clearTimeout(timer);        timer = setTimeout(() =&gt; &#123;            fn.apply(this, args);        &#125;, time);    &#125;&#125;</code></pre><h4 id="Consumer"><a href="#Consumer" class="headerlink" title="Consumer"></a>Consumer</h4><p>ä»åå­—ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå½“å¿«é€Ÿç‚¹å‡»æ—¶ï¼Œå‡½æ•°å¹¶ä¸ä¼šç«‹åˆ»è¢«è°ƒç”¨ï¼Œè€Œæ˜¯å…ˆå°†ä»»åŠ¡æ¨å…¥åˆ—è¡¨ï¼Œç„¶ååœ¨ä¸€å®šæ—¶é—´åä¸€ä¸ªä¸€ä¸ªæ¶ˆè´¹æ‰ã€‚</p><pre><code class="js">function consumer(fn, time = 500) &#123;    let tasks = [];    let timer = null;    return function (...args) &#123;        tasks.push(args);        if (timer) return;        timer = setInterval(() =&gt; &#123;            fn.apply(this, tasks.shift());            if (tasks.length === 0) &#123;                clearInterval(timer);                timer = null;            &#125;        &#125;, time)    &#125;&#125;</code></pre><h4 id="Lterative-å¯è¿­ä»£å‡½æ•°"><a href="#Lterative-å¯è¿­ä»£å‡½æ•°" class="headerlink" title="Lterative å¯è¿­ä»£å‡½æ•°"></a>Lterative å¯è¿­ä»£å‡½æ•°</h4><h3 id="ç¼–ç¨‹èŒƒå¼"><a href="#ç¼–ç¨‹èŒƒå¼" class="headerlink" title="ç¼–ç¨‹èŒƒå¼"></a>ç¼–ç¨‹èŒƒå¼</h3><p>å‘½ä»¤å¼ä¸å£°æ˜å¼ã€‚</p><p>å‘½ä»¤å¼è¶‹å‘äºæ€ä¹ˆåšã€‚å£°æ˜å¼è¶‹å‘äºåšä»€ä¹ˆã€‚</p><p>JSæ˜¯æ—¢æœ‰å‘½ä»¤å¼åˆæœ‰å£°æ˜å¼ã€‚</p><h4 id="å‘½ä»¤å¼"><a href="#å‘½ä»¤å¼" class="headerlink" title="å‘½ä»¤å¼"></a>å‘½ä»¤å¼</h4><pre><code class="js">let list =[1,2,3]let map = []for(let i =0;i&lt;list.length;i++)&#123;    map.push(list[i]*2);&#125;</code></pre><h4 id="å£°æ˜å¼"><a href="#å£°æ˜å¼" class="headerlink" title="å£°æ˜å¼"></a>å£°æ˜å¼</h4><pre><code class="js">let list = [1,2,3,4];const double = x =&gt; x*2;list.map(double);</code></pre><h2 id="å®è·µç»ƒä¹ ä¾‹å­"><a href="#å®è·µç»ƒä¹ ä¾‹å­" class="headerlink" title="å®è·µç»ƒä¹ ä¾‹å­"></a>å®è·µç»ƒä¹ ä¾‹å­</h2><p>å®ç°ä¸€ä¸ªåªèƒ½æ‰§è¡Œä¸€æ¬¡çš„å‡½æ•°ï¼š</p><pre><code class="js">// åªæ‰§è¡Œä¸€æ¬¡å‡½æ•°const once = (fn) =&gt; &#123;  let done = false;  return function (...args) &#123;    if (!done) &#123;      done = true;      return fn.apply(this, args);    &#125;  &#125;&#125;// æµ‹è¯•const sayHello = (name) =&gt; &#123;  console.log(`Hello $&#123;name&#125;`);&#125;;const sayHelloOnce = once(sayHello);sayHelloOnce(&#39;xiaoming&#39;); // Hello xiaomingsayHelloOnce(&#39;xiaohong&#39;); // undefined</code></pre><h2 id="è¯¾åä¸ªäººæ€»ç»“"><a href="#è¯¾åä¸ªäººæ€»ç»“" class="headerlink" title="è¯¾åä¸ªäººæ€»ç»“"></a>è¯¾åä¸ªäººæ€»ç»“</h2><p>â€‹æœ¬æ¬¡è¯¾ç¨‹è®©æˆ‘å­¦åˆ°äº†å¾ˆå¤šæœ‰å…³ç¼–ç¨‹åŸåˆ™ã€ç»„ä»¶å°è£…ã€è¿‡ç¨‹æŠ½è±¡æ¦‚å¿µã€é«˜é˜¶å‡½æ•°ä½¿ç”¨æ¨¡å¼ä»¥åŠJavaScriptç¼–ç¨‹èŒƒå¼çš„çŸ¥è¯†ï¼Œæ”¶è·å¾ˆå¤§ã€‚ </p><p>â€‹å¯¹äºé«˜é˜¶å‡½æ•°ï¼Œè¿‡å»åªæ˜¯ç•¥æœ‰äº†è§£ï¼Œç°åœ¨èƒ½å¤ŸçœŸæ­£å»ç†è§£å®ƒä»¬æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒä»¬çš„ç”¨å¤„å¦‚ä½•ã€‚</p><h2 id="å¼•ç”¨å‚è€ƒ"><a href="#å¼•ç”¨å‚è€ƒ" class="headerlink" title="å¼•ç”¨å‚è€ƒ"></a>å¼•ç”¨å‚è€ƒ</h2><p><a href="https://bytedance.feishu.cn/file/boxcnxKucsHPvnJ7PfXyCQF5WCd">https://bytedance.feishu.cn/file/boxcnxKucsHPvnJ7PfXyCQF5WCd</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥CSS ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/17/%E6%B7%B1%E5%85%A5CSS%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/17/%E6%B7%B1%E5%85%A5CSS%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 2 å¤©</strong></p><h2 id="è¯¾ç¨‹é‡ç‚¹"><a href="#è¯¾ç¨‹é‡ç‚¹" class="headerlink" title="è¯¾ç¨‹é‡ç‚¹"></a>è¯¾ç¨‹é‡ç‚¹</h2><ol><li>é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦</li><li>å±æ€§çš„ç»§æ‰¿</li><li>Layout æ–¹å¼</li><li>ç›’å­æ¨¡å‹</li><li>å—çº§å…ƒç´ å’Œè¡Œçº§å…ƒç´ </li><li>flex</li><li>grid</li><li>float</li><li>position</li></ol><h2 id="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"><a href="#è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š" class="headerlink" title="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"></a>è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š</h2><h3 id="1-é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦ï¼ˆSpecificityï¼‰"><a href="#1-é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦ï¼ˆSpecificityï¼‰" class="headerlink" title="1. é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦ï¼ˆSpecificityï¼‰"></a>1. é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦ï¼ˆSpecificityï¼‰</h3><p>å³ CSS é€‰æ‹©å™¨çš„<strong>ä¼˜å…ˆçº§</strong>ï¼Œå½“ä¸€ä¸ªå…ƒç´ èƒ½å¤ŸåŒ¹é…å¤šä¸ªæ ·å¼æ—¶ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®ä¼˜å…ˆçº§ä¸ºå…ƒç´ èµ‹äºˆæ­£ç¡®çš„æ ·å¼ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒIDé€‰æ‹©å™¨ä¼˜å…ˆçº§æœ€é«˜ï¼Œå…¶æ¬¡æ˜¯ç±»é€‰æ‹©å™¨&#x2F;å±æ€§é€‰æ‹©å™¨&#x2F;ä¼ªç±»ï¼Œä¼˜å…ˆçº§æœ€ä½çš„æ˜¯ç±»å‹é€‰æ‹©å™¨å’Œä¼ªå…ƒç´ é€‰æ‹©å™¨ã€‚ä¸åŒé€‰æ‹©å™¨çš„å åŠ ä¹Ÿä¼šæ”¹å˜ä¼˜å…ˆçº§ã€‚<code>!important</code> çš„æ ·å¼ä¼šè¦†ç›–å…¶ä»–æ ·å¼ã€‚</p><p>åœ¨ <code>VSCode</code> ä¸­ï¼Œé¼ æ ‡æ‚¬æµ®åœ¨é€‰æ‹©å™¨ä¸Šæ˜¯ï¼Œèƒ½å®æ—¶çœ‹åˆ°é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§æ•°å€¼</p><p>idé€‰æ‹©å™¨ å¤§äº ç±»é€‰æ‹©å™¨ å¤§äº æ ‡ç­¾é€‰æ‹©å™¨</p><h3 id="2-CSS-å±æ€§çš„ç»§æ‰¿"><a href="#2-CSS-å±æ€§çš„ç»§æ‰¿" class="headerlink" title="2. CSS å±æ€§çš„ç»§æ‰¿"></a>2. CSS å±æ€§çš„ç»§æ‰¿</h3><p>æŸäº›å±æ€§ä¼šè‡ªåŠ¨ç»§æ‰¿å…¶çˆ¶å…ƒç´ çš„è®¡ç®—å€¼é™¤éæ˜¾å¼æŒ‡å®šä¸€ä¸ªå€¼</p><p>ä¸åŒçš„ CSS å±æ€§æœ‰ç€ä¸åŒçš„ç»§æ‰¿è§„åˆ™ã€‚å¯¹äºä¸€ä¸ªèƒ½å¤Ÿè¢«ç»§æ‰¿çš„æ ·å¼å±æ€§ï¼Œå­å…ƒç´ èƒ½å¤Ÿä»çˆ¶å…ƒç´ ç»§æ‰¿ç›¸åŒçš„å±æ€§å€¼ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„è®¾ç½®ã€‚å½“ç„¶ï¼Œå¯¹äºä¸€ä¸ªé»˜è®¤ä¸ç»§æ‰¿çš„æ ·å¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å°†å…¶å€¼è®¾ç½®ä¸º<code>inherit</code>æ¥å¼ºåˆ¶ä»çˆ¶å…ƒç´ ç»§æ‰¿ã€‚</p><p>åˆå§‹å€¼ï¼šCSS ä¸­ï¼Œæ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªåˆå§‹å€¼ <code>background-color</code> çš„åˆå§‹å€¼ä¸º <code>transparent</code><br><code>margin-left</code> çš„åˆå§‹å€¼ä¸º 0<br>å¯ä»¥ä½¿ç”¨ <code>initial</code> å…³é”®å­—æ˜¾å¼é‡ç½®ä¸ºåˆå§‹å€¼<br><code>background-color: initial</code></p><h3 id="3-CSS-å¸ƒå±€æ–¹å¼"><a href="#3-CSS-å¸ƒå±€æ–¹å¼" class="headerlink" title="3. CSS å¸ƒå±€æ–¹å¼"></a>3. CSS å¸ƒå±€æ–¹å¼</h3><p>CSS å­˜åœ¨è®¸å¤šç§å¸ƒå±€æ–¹å¼ã€‚æ€»ä½“ä¸Šåˆ†ä¸ºä¸‰ç±»ï¼šå¸¸è§„æµ&#x2F;æ–‡æ¡£æµã€æµ®åŠ¨ã€ç»å¯¹å®šä½ã€‚å…¶ä¸­ï¼Œåœ¨æ­£å¸¸çš„æ–‡æ¡£æµä¸­ï¼Œåˆå¯ä»¥ç»†åˆ†å‡ºå¾ˆå¤šå¸ƒå±€æ–¹å¼ï¼Œä¾‹å¦‚è¡Œçº§ã€å—çº§ã€è¡¨æ ¼å¸ƒå±€ã€å¼¹æ€§å¸ƒå±€ï¼ˆflexï¼‰ã€ç½‘æ ¼å¸ƒå±€ï¼ˆgridï¼‰</p><p>ç›’å­æ¨¡å‹ï¼š<code>margin</code> <code>border</code> <code>padding</code></p><h3 id="4-CSS-ç›’å­æ¨¡å‹"><a href="#4-CSS-ç›’å­æ¨¡å‹" class="headerlink" title="4. CSS ç›’å­æ¨¡å‹"></a>4. CSS ç›’å­æ¨¡å‹</h3><p>width: content box çš„å®½åº¦</p><p>height: content box çš„é«˜åº¦</p><p>padding: å…ƒç´ å†…è¾¹è·ï¼Œç™¾åˆ†æ¯”ç›¸å¯¹äº<strong>å…ƒç´ å®½åº¦</strong></p><p>border: å…ƒç´ çš„è¾¹æ¡†æ ·å¼ã€ç²—ç»†å’Œé¢œè‰²</p><p>margin: å…ƒç´ å¤–è¾¹è·ï¼Œç™¾åˆ†æ¯”ç›¸å¯¹äº<strong>å…ƒç´ å®½åº¦</strong></p><p>å½“ box-sizing å–å€¼ä¸º border-box æ—¶ï¼Œæ¨¡å‹ä¼šå‘ç”Ÿç›¸åº”å˜åŒ–ã€‚</p><h3 id="5-å—çº§å…ƒç´ "><a href="#5-å—çº§å…ƒç´ " class="headerlink" title="5. å—çº§å…ƒç´ "></a>5. å—çº§å…ƒç´ </h3><p>å³ <code>display</code> å±æ€§å€¼ä¸º <code>block</code> çš„å…ƒç´ ã€‚ä¾‹å¦‚ <code>body</code>ã€<code>article</code>ã€<code>div</code>ã€<code>main</code>ã€<code>section</code>ã€<code>p</code>ã€<code>h1</code>~&#96;h6<code>ã€</code>ul<code>/</code>ol<code>ã€</code>li&#96; ç­‰</p><h3 id="è¡Œçº§å…ƒç´ "><a href="#è¡Œçº§å…ƒç´ " class="headerlink" title="è¡Œçº§å…ƒç´ "></a>è¡Œçº§å…ƒç´ </h3><p>å³ <code>display</code> å±æ€§å€¼ä¸º <code>inline</code> çš„å…ƒç´ ã€‚</p><h3 id="6-flex"><a href="#6-flex" class="headerlink" title="6. flex"></a>6. flex</h3><p>å¸ƒå±€çš„ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆï¼ŒåŸºäºç›’çŠ¶æ¨¡å‹ï¼Œä¾èµ– displayå±æ€§ + positionå±æ€§ + floatå±æ€§ã€‚å®ƒå¯¹äºé‚£äº›ç‰¹æ®Šå¸ƒå±€éå¸¸ä¸æ–¹ä¾¿ï¼Œæ¯”å¦‚ï¼Œå‚ç›´å±…ä¸­å°±ä¸å®¹æ˜“å®ç°ã€‚</p><p>2009å¹´ï¼ŒW3Cæå‡ºäº†ä¸€ç§æ–°çš„æ–¹æ¡ˆâ€”Flexå¸ƒå±€ï¼Œå¯ä»¥ç®€ä¾¿ã€å®Œæ•´ã€å“åº”å¼åœ°å®ç°å„ç§é¡µé¢å¸ƒå±€ã€‚ç›®å‰ï¼Œå®ƒå·²ç»å¾—åˆ°äº†æ‰€æœ‰æµè§ˆå™¨çš„æ”¯æŒï¼Œè¿™æ„å‘³ç€ï¼Œç°åœ¨å°±èƒ½å¾ˆå®‰å…¨åœ°ä½¿ç”¨è¿™é¡¹åŠŸèƒ½ã€‚</p><p>Flexæ˜¯Flexible Boxçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§.</p><pre><code class="css">.box&#123;  display: flex;&#125;</code></pre><p>ä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸ºFlexå¸ƒå±€ã€‚</p><p>é‡‡ç”¨Flexå¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸ºFlexå®¹å™¨ï¼ˆflex containerï¼‰ï¼Œç®€ç§°â€å®¹å™¨â€ã€‚</p><ul><li>flex-direction</li><li>flex-wrap</li><li>flex-flow</li><li>justify-content</li><li>align-items</li><li>align-content</li></ul><p>å®¹å™¨é»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´ï¼ˆmain axisï¼‰å’Œå‚ç›´çš„äº¤å‰è½´ï¼ˆcross axisï¼‰ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®ï¼ˆä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ï¼‰å«åšmain startï¼Œç»“æŸä½ç½®å«åšmain endï¼›äº¤å‰è½´çš„å¼€å§‹ä½ç½®å«åšcross startï¼Œç»“æŸä½ç½®å«åšcross endã€‚</p><pre><code class="css">.box &#123;  flex-direction: row | row-reverse | column | column-reverse;&#125;</code></pre><p>é¡¹ç›®é»˜è®¤æ²¿ä¸»è½´æ’åˆ—ã€‚å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åšmain sizeï¼Œå æ®çš„äº¤å‰è½´ç©ºé—´å«åšcross sizeã€‚</p><ul><li>rowï¼ˆé»˜è®¤å€¼ï¼‰ï¼šä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å·¦ç«¯ã€‚</li><li>row-reverseï¼šä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å³ç«¯ã€‚</li><li>columnï¼šä¸»è½´ä¸ºå‚ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸Šæ²¿ã€‚</li><li>column-reverseï¼šä¸»è½´ä¸ºå‚ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸‹æ²¿ã€‚</li></ul><h3 id="7-grid"><a href="#7-grid" class="headerlink" title="7. grid"></a>7. grid</h3><p>ç½‘æ ¼æ˜¯ä¸€ç»„ç›¸äº¤çš„æ°´å¹³çº¿å’Œå‚ç›´çº¿ï¼Œå®ƒå®šä¹‰äº†ç½‘æ ¼çš„åˆ—å’Œè¡Œã€‚</p><p>CSS æä¾›äº†ä¸€ä¸ªåŸºäºç½‘æ ¼çš„å¸ƒå±€ç³»ç»Ÿï¼Œå¸¦æœ‰è¡Œå’Œåˆ—ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´è½»æ¾åœ°è®¾è®¡ç½‘é¡µï¼Œè€Œæ— éœ€ä½¿ç”¨æµ®åŠ¨å’Œå®šä½ã€‚</p><p>å½“ä¸€ä¸ª HTML å…ƒç´ å°† display å±æ€§è®¾ç½®ä¸º grid æˆ– inline-grid åï¼Œå®ƒå°±å˜æˆäº†ä¸€ä¸ªç½‘æ ¼å®¹å™¨ï¼Œè¿™ä¸ªå…ƒç´ çš„æ‰€æœ‰ç›´ç³»å­å…ƒç´ å°†æˆä¸ºç½‘æ ¼å…ƒç´ ã€‚</p><pre><code class="css">grid: none;grid: &quot;a&quot; 100px &quot;b&quot; 1fr;grid: [linename1] &quot;a&quot; 100px [linename2];grid: &quot;a&quot; 200px &quot;b&quot; min-content;grid: &quot;a&quot; minmax(100px, max-content) &quot;b&quot; 20%;grid: 100px / 200px;grid: minmax(400px, min-content) / repeat(auto-fill, 50px);grid: 200px / auto-flow;grid: 30% / auto-flow dense;grid: repeat(3, [line1 line2 line3] 200px) / auto-flow 300px;grid: [line1] minmax(20em, max-content) / auto-flow dense 40%;grid: auto-flow / 200px;grid: auto-flow dense / 30%;grid: auto-flow 300px / repeat(3, [line1 line2 line3] 200px);grid: auto-flow dense 40% / [line1] minmax(20em, max-content);grid: inherit;grid: initial;grid: unset;</code></pre><p>æˆ‘ä»¬é€šè¿‡ <strong>grid-template-columns</strong> å’Œ <strong>grid-template-rows</strong> å±æ€§æ¥å®šä¹‰ç½‘æ ¼ä¸­çš„è¡Œå’Œåˆ—ã€‚</p><p>è¿™äº›å±æ€§å®šä¹‰äº†ç½‘æ ¼çš„è½¨é“ï¼Œä¸€ä¸ªç½‘æ ¼è½¨é“å°±æ˜¯ç½‘æ ¼ä¸­ä»»æ„ä¸¤æ¡çº¿ä¹‹é—´çš„ç©ºé—´ã€‚</p><p>åœ¨ä¸‹å›¾ä¸­ä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç»¿è‰²æ¡†çš„è½¨é“â€”â€”ç½‘æ ¼çš„ç¬¬ä¸€ä¸ªè¡Œè½¨é“ã€‚ç¬¬äºŒè¡Œæœ‰ä¸‰ä¸ªç™½è‰²æ¡†è½¨é“ã€‚</p><p>è½¨é“å¯ä»¥ä½¿ç”¨ä»»ä½•é•¿åº¦å•ä½è¿›è¡Œå®šä¹‰ã€‚</p><p>ç½‘æ ¼å¼•å…¥äº† <strong>fr</strong> å•ä½æ¥å¸®åŠ©æˆ‘ä»¬åˆ›å»ºçµæ´»çš„ç½‘æ ¼è½¨é“ã€‚ä¸€ä¸ª fr å•ä½ä»£è¡¨ç½‘æ ¼å®¹å™¨ä¸­å¯ç”¨ç©ºé—´çš„ä¸€ç­‰ä»½ã€‚</p><p>ä»¥ä¸‹å®ä¾‹å®šä¹‰äº†ä¸€ä¸ªç½‘æ ¼å®šä¹‰å°†åˆ›å»ºä¸‰ä¸ªç›¸ç­‰å®½åº¦çš„è½¨é“ï¼Œè¿™äº›è½¨é“ä¼šéšç€å¯ç”¨ç©ºé—´å¢é•¿å’Œæ”¶ç¼©ã€‚</p><p>ä¸€ä¸ªç½‘æ ¼å•å…ƒæ˜¯åœ¨ä¸€ä¸ªç½‘æ ¼å…ƒç´ ä¸­æœ€å°çš„å•ä½ï¼Œ ä»æ¦‚å¿µä¸Šæ¥è®²å…¶å®å®ƒå’Œè¡¨æ ¼çš„ä¸€ä¸ªå•å…ƒæ ¼å¾ˆåƒã€‚ç°åœ¨å†çœ‹å›æˆ‘ä»¬å‰é¢çš„ä¸€ä¸ªä¾‹å­, ä¸€æ—¦ä¸€ä¸ªç½‘æ ¼å…ƒç´ è¢«å®šä¹‰åœ¨ä¸€ä¸ªçˆ¶çº§å…ƒç´ å½“ä¸­ï¼Œé‚£ä¹ˆä»–çš„å­çº§å…ƒç´ å°†ä¼šæ’åˆ—åœ¨æ¯ä¸ªäº‹å…ˆå®šä¹‰å¥½çš„ç½‘æ ¼å•å…ƒä¸­ã€‚</p><p>åˆ—ä¸åˆ—ï¼Œè¡Œä¸è¡Œä¹‹é—´çš„äº¤æ¥å¤„å°±æ˜¯ç½‘æ ¼çº¿ã€‚</p><p>Grid ä¼šä¸ºæˆ‘ä»¬åˆ›å»ºç¼–å·çš„ç½‘æ ¼çº¿æ¥è®©æˆ‘ä»¬æ¥å®šä½æ¯ä¸€ä¸ªç½‘æ ¼å…ƒç´ ã€‚</p><pre><code class="css">#container &#123;  display: grid;  grid: repeat(2, 60px) / auto-flow 80px;&#125;#container &gt; div &#123;  background-color: #8ca0ff;  width: 50px;  height: 50px;&#125;</code></pre><p>ç½‘æ ¼çº¿çš„ç¼–å·é¡ºåºå–å†³äºæ–‡ç« çš„ä¹¦å†™æ¨¡å¼ã€‚åœ¨ä»å·¦è‡³å³ä¹¦å†™çš„è¯­è¨€ä¸­ï¼Œç¼–å·ä¸º 1 çš„ç½‘æ ¼çº¿ä½äºæœ€å·¦è¾¹ã€‚åœ¨ä»å³è‡³å·¦ä¹¦å†™çš„è¯­è¨€ä¸­ï¼Œç¼–å·ä¸º 1 çš„ç½‘æ ¼çº¿ä½äºæœ€å³è¾¹ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä½¿ç”¨äº† grid-column-start, grid-column-end, grid-row-start å’Œ grid-row-end å±æ€§æ¥æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ç½‘æ ¼çº¿ã€‚</p><p>ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªç½‘æ ¼å…ƒç´ çš„ç½‘æ ¼çº¿ä»ç¬¬ä¸€åˆ—å¼€å§‹ï¼Œç¬¬ä¸‰åˆ—ç»“æŸï¼š</p><pre><code class="css">.item1 &#123;  grid-column-start: 1;  grid-column-end: 3;&#125;</code></pre><p><a href="https://www.runoob.com/try/gridgarden/index.html">https://www.runoob.com/try/gridgarden/index.html</a></p><p>èœé¸Ÿæ•™ç¨‹çš„gridå¸ƒå±€å°æ¸¸æˆ</p><h2 id="å®è·µç»ƒä¹ ä¾‹å­ï¼š"><a href="#å®è·µç»ƒä¹ ä¾‹å­ï¼š" class="headerlink" title="å®è·µç»ƒä¹ ä¾‹å­ï¼š"></a>å®è·µç»ƒä¹ ä¾‹å­ï¼š</h2><h3 id="ç‰¹å¼‚åº¦ç›¸å…³ä¾‹å­"><a href="#ç‰¹å¼‚åº¦ç›¸å…³ä¾‹å­" class="headerlink" title="ç‰¹å¼‚åº¦ç›¸å…³ä¾‹å­"></a>ç‰¹å¼‚åº¦ç›¸å…³ä¾‹å­</h3><p>ä¸‹é¢çš„æ–‡å­—æ˜¯ä»€ä¹ˆé¢œè‰²ï¼Ÿ</p><pre><code class="html">&lt;div class=&quot;wrapper1&quot;&gt;  &lt;div class=&quot;text1&quot;&gt;æ–‡æœ¬1&lt;/div&gt;&lt;/div&gt;&lt;style&gt;  .wrapper1 .text1 &#123;    color: red;  &#125;    .text1 &#123;    color: black;  &#125;&lt;/style&gt;</code></pre><p>æ­£ç¡®ç­”æ¡ˆæ˜¯çº¢è‰²</p><p>è™½ç„¶é»‘è‰²çš„å±æ€§å£°æ˜åœ¨åé¢ï¼Œç†åº”è¦†ç›–æ‰å‰é¢çš„çº¢è‰²ï¼Œä½†æ˜¯å‰é¢æ˜¯ä¸¤ä¸ªç±»é€‰æ‹©å™¨çš„å åŠ ï¼Œä¼˜å…ˆçº§æ˜¯ <code>0, 2, 0</code> ï¼Œåè€…åªæœ‰ä¸€ä¸ªç±»é€‰æ‹©å™¨ï¼Œä¼˜å…ˆçº§æ˜¯ <code>0, 1, 0</code>ï¼Œæ‰€ä»¥æœ€ç»ˆæµè§ˆå™¨åº”ç”¨äº†çº¢è‰²ã€‚</p><h2 id="è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="è¯¾åä¸ªäººæ€»ç»“ï¼š"></a>è¯¾åä¸ªäººæ€»ç»“ï¼š</h2><p>æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘å­¦ä¹ äº†CSSä¸­ç‰¹å¼‚åº¦ã€å±æ€§ç»§æ‰¿ã€å¸ƒå±€æ–¹å¼ã€ç›’å­æ¨¡å‹ã€å—çº§å…ƒç´ å’Œè¡Œçº§å…ƒç´ ã€flexã€gridç­‰æ¦‚å¿µï¼ŒæŒæ¡äº†ç›¸å…³çš„çŸ¥è¯†å’Œåº”ç”¨ã€‚ ç‰¹å¼‚åº¦æ˜¯CSSä¸­æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ï¼Œè®©æˆ‘ä»¬æ˜ç™½å½“ä¸€ä¸ªå…ƒç´ èƒ½å¤ŸåŒ¹é…å¤šä¸ªæ ·å¼æ—¶ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®ä¼˜å…ˆçº§ä¸ºå…ƒç´ èµ‹äºˆæ­£ç¡®çš„æ ·å¼ã€‚</p><p>å±æ€§çš„ç»§æ‰¿ä¹Ÿæ˜¯é‡è¦çš„æ¦‚å¿µï¼Œå®ƒä¼šä¾èµ–äºä¸åŒçš„CSSå±æ€§ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å¯ä»¥è®©HTMLå…ƒç´ çš„æ ·å¼å¯ä»¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ã€‚</p><p>æˆ‘ä»¬è¿˜å­¦ä¹ äº†CSSä¸­çš„å¸ƒå±€æ–¹å¼ï¼ŒåŒ…æ‹¬å¸¸è§„æµ&#x2F;æ–‡æ¡£æµã€æµ®åŠ¨ã€ç»å¯¹å®šä½ç­‰ï¼Œä»¥åŠflexã€gridç­‰ç½‘æ ¼å¸ƒå±€ã€‚</p><p>ç†Ÿç»ƒæŒæ¡è¿™äº›çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½çš„åˆ¶ä½œç½‘é¡µï¼Œæ»¡è¶³å„ç§å¸ƒå±€çš„éœ€æ±‚ã€‚</p><h2 id="å¼•ç”¨å‚è€ƒï¼š"><a href="#å¼•ç”¨å‚è€ƒï¼š" class="headerlink" title="å¼•ç”¨å‚è€ƒï¼š"></a>å¼•ç”¨å‚è€ƒï¼š</h2><p>è¯¾ç¨‹ppt</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid">https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox">https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯ä¸ HTML ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/16/%E5%89%8D%E7%AB%AF%E4%B8%8E%20HTML%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/16/%E5%89%8D%E7%AB%AF%E4%B8%8E%20HTML%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p><strong>è¿™æ˜¯æˆ‘å‚ä¸ã€Œç¬¬äº”å±Šé’è®­è¥ã€ä¼´å­¦ç¬”è®°åˆ›ä½œæ´»åŠ¨çš„ç¬¬ 1 å¤©</strong></p><h2 id="æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"><a href="#æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š" class="headerlink" title="æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"></a>æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š</h2><ol><li>å‰ç«¯çš„ä»‹ç»</li><li>HTML æ ‡ç­¾çš„ç®€å•ä»‹ç»</li><li>HTML è¯­ä¹‰åŒ–</li></ol><h2 id="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"><a href="#è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š" class="headerlink" title="è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"></a>è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š</h2><ol><li>å‰ç«¯æŠ€æœ¯æ ˆ</li><li>å‰ç«¯çš„è¾¹ç•Œã€å¼€å‘ç¯å¢ƒï¼ˆideã€æµè§ˆå™¨ï¼‰</li><li>DOM æ ‘çš„ç®€å•ä»‹ç»</li><li>HTML è¯­æ³•ç®€å•ä»‹ç»</li><li>å„ç±»å¸¸ç”¨æ ‡ç­¾ï¼ˆh1-h5ã€pã€formã€aï¼‰</li><li>å¸¸è§çš„è¯­ä¹‰åŒ–æ ‡ç­¾ï¼ˆmain&#x2F;footer&#x2F;sectionï¼‰</li><li>è¯­ä¹‰åŒ–çš„ä¼˜åŠ¿</li></ol><h2 id="å®è·µç»ƒä¹ ä¾‹å­ï¼š"><a href="#å®è·µç»ƒä¹ ä¾‹å­ï¼š" class="headerlink" title="å®è·µç»ƒä¹ ä¾‹å­ï¼š"></a>å®è·µç»ƒä¹ ä¾‹å­ï¼š</h2><h3 id="1-æ ‡é¢˜å…ƒç´ "><a href="#1-æ ‡é¢˜å…ƒç´ " class="headerlink" title="1. æ ‡é¢˜å…ƒç´ "></a>1. æ ‡é¢˜å…ƒç´ </h3><p>ä½¿ç”¨ <code>h1</code>~&#96;h6&#96; æ ‡ç­¾å°†æ ‡é¢˜æ–‡æœ¬åŒ…è£¹ï¼Œæ ‡é¢˜ä¼šæ ¹æ®çº§åˆ«æ‹¥æœ‰é»˜è®¤çš„å­—é‡ã€å­—å·å’Œå¤–è¾¹è·ã€‚</p><pre><code class="html">&lt;h1&gt;ä¸€çº§æ ‡é¢˜&lt;/h1&gt;&lt;h2&gt;äºŒçº§æ ‡é¢˜&lt;/h2&gt;&lt;h3&gt;ä¸‰çº§æ ‡é¢˜&lt;/h3&gt;&lt;h4&gt;å››çº§æ ‡é¢˜&lt;/h4&gt;&lt;h5&gt;äº”çº§æ ‡é¢˜&lt;/h5&gt;&lt;h6&gt;å…­çº§æ ‡é¢˜&lt;/h6&gt;</code></pre><h3 id="2-å›¾ç‰‡å…ƒç´ "><a href="#2-å›¾ç‰‡å…ƒç´ " class="headerlink" title="2. å›¾ç‰‡å…ƒç´ "></a>2. å›¾ç‰‡å…ƒç´ </h3><p>ä½¿ç”¨ <code>src</code> å±æ€§æ¥ç¡®å®šå›¾ç‰‡é“¾æ¥ï¼Œ<code>alt</code> å±æ€§ç”¨äºè¡¨ç¤ºå›¾ç‰‡æ— æ³•æ˜¾ç¤ºæ—¶çš„æ›¿ä»£æ–‡æœ¬</p><pre><code class="html">&lt;img src=&quot;https://example.com/image&quot; /&gt;&lt;img src=&quot;https://example.com&quot; alt=&quot;æ˜¾ç¤ºä¸å‡ºæ¥çš„å›¾ç‰‡&quot; /&gt;</code></pre><h3 id="3-å•é€‰æ¡†"><a href="#3-å•é€‰æ¡†" class="headerlink" title="3. å•é€‰æ¡†"></a>3. å•é€‰æ¡†</h3><p><code>radio</code> ç±»å‹çš„ <code>input</code> å…ƒç´ ï¼Œç›¸åŒ <code>name</code> çš„å•é€‰æ¡†ä¼šå½’ä¸ºåŒä¸€ç»„ï¼ˆåªèƒ½é€‰å…¶ä¸­ä¸€ä¸ªï¼‰ ä½¿ç”¨ <code>label</code> æ ‡ç­¾æ¥æ ‡è¯†å•é€‰æ¡†çš„å†…å®¹</p><pre><code class="html">&lt;input type=&quot;radio&quot; id=&quot;el1&quot; name=&quot;group1&quot; /&gt;&lt;label for=&quot;el1&quot;&gt;ç¬¬ä¸€ç»„-é€‰é¡¹1&lt;/label&gt;&lt;input type=&quot;radio&quot; id=&quot;el2&quot; name=&quot;group1&quot; /&gt;&lt;label for=&quot;el2&quot;&gt;ç¬¬ä¸€ç»„-é€‰é¡¹1&lt;/label&gt;&lt;br&gt;&lt;input type=&quot;radio&quot; id=&quot;el3&quot; name=&quot;group2&quot; /&gt;&lt;label for=&quot;el3&quot;&gt;ç¬¬äºŒç»„-é€‰é¡¹1&lt;/label&gt;&lt;input type=&quot;radio&quot; id=&quot;el4&quot; name=&quot;group2&quot; /&gt;&lt;label for=&quot;el4&quot;&gt;ç¬¬äºŒç»„-é€‰é¡¹2&lt;/label&gt;</code></pre><h3 id="4-è¶…é“¾æ¥"><a href="#4-è¶…é“¾æ¥" class="headerlink" title="4. è¶…é“¾æ¥"></a>4. è¶…é“¾æ¥</h3><p>ä½¿ç”¨ <code>a</code> æ ‡ç­¾åŒ…è£¹æ–‡æœ¬ï¼Œ<code>href</code> å±æ€§æ˜¯ç›®æ ‡é“¾æ¥ï¼Œé»˜è®¤åœ¨å½“å‰é¡µé¢æ‰“å¼€ï¼Œä¸ºäº†åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ï¼Œå¯ä»¥å°† <code>target</code> å±æ€§è®¾ç½®ä¸º <code>_blank</code></p><pre><code class="html">&lt;a href=&quot;https://example.com&quot;&gt;åœ¨å½“å‰é¡µé¢æ‰“å¼€&lt;/a&gt;&lt;a href=&quot;https://example.com&quot; target=&quot;_blank&quot;&gt;åœ¨æ–°é¡µé¢æ‰“å¼€&lt;/a&gt;</code></pre><h3 id="5-æœ‰åºåˆ—è¡¨"><a href="#5-æœ‰åºåˆ—è¡¨" class="headerlink" title="5. æœ‰åºåˆ—è¡¨"></a>5. æœ‰åºåˆ—è¡¨</h3><p>æœ€å¤–å±‚ä½¿ç”¨ <code>ol</code>æ ‡ç­¾åŒ…è£¹ï¼Œå†…éƒ¨åŒ…å«å¤šä¸ª <code>li</code> æ ‡ç­¾</p><pre><code class="html">&lt;ol&gt;    &lt;li&gt;ç¬¬ä¸€&lt;/li&gt;    &lt;li&gt;ç¬¬äºŒ&lt;/li&gt;    &lt;li&gt;&lt;em&gt;ç¬¬ä¸‰&lt;/em&gt;&lt;/li&gt;&lt;/ol&gt;</code></pre><h3 id="6-æ— åºåˆ—è¡¨"><a href="#6-æ— åºåˆ—è¡¨" class="headerlink" title="6. æ— åºåˆ—è¡¨"></a>6. æ— åºåˆ—è¡¨</h3><p>æœ€å¤–å±‚ä½¿ç”¨ <code>ul</code>æ ‡ç­¾åŒ…è£¹ï¼Œå†…éƒ¨åŒ…å«å¤šä¸ª <code>li</code>æ ‡ç­¾</p><pre><code class="html">&lt;ul&gt;    &lt;li&gt;ç¬¬ä¸€&lt;/li&gt;    &lt;li&gt;ç¬¬äºŒ&lt;/li&gt;    &lt;li&gt;&lt;em&gt;ç¬¬ä¸‰&lt;/em&gt;&lt;/li&gt;&lt;/ul&gt;</code></pre><h3 id="è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="è¯¾åä¸ªäººæ€»ç»“ï¼š"></a>è¯¾åä¸ªäººæ€»ç»“ï¼š</h3><p>æœ¬èŠ‚è¯¾ä¸»è¦ä»‹ç»äº†å‰ç«¯çš„æŠ€æœ¯æ ˆï¼Œä»¥åŠ HTML æ ‡ç­¾çš„ç®€å•ä»‹ç»å’Œ HTML è¯­ä¹‰åŒ–ï¼Œé€šè¿‡æœ¬èŠ‚è¯¾çš„å­¦ä¹ ï¼Œæˆ‘å¯¹ HTML æ ‡ç­¾æœ‰äº†ä¸€å®šçš„äº†è§£ï¼ŒæŒæ¡äº†å¦‚ä½•ä½¿ç”¨æ ‡ç­¾æ¥è¡¨è¾¾é¡µé¢å…ƒç´ ï¼Œå¹¶ä¸”å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾æ¥æé«˜å‰ç«¯ä»£ç çš„å¯è¯»æ€§ï¼Œä»¥åŠæå‡ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP3åˆä½“éªŒ ï½œ é’è®­è¥ç¬”è®°</title>
      <link href="/2023/01/11/HTTP3%E5%88%9D%E4%BD%93%E9%AA%8C%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/11/HTTP3%E5%88%9D%E4%BD%93%E9%AA%8C%20%EF%BD%9C%20%E9%9D%92%E8%AE%AD%E8%90%A5%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="HTTP-3è¯•æ°´"><a href="#HTTP-3è¯•æ°´" class="headerlink" title="HTTP&#x2F;3è¯•æ°´"></a>HTTP&#x2F;3è¯•æ°´</h2><h3 id="I"><a href="#I" class="headerlink" title="I"></a>I</h3><p>å°çœ‹ä¸€çœ¼ï¼Œå‘ç°å…¨æ˜¯ç¼–è¯‘å•¥çš„ã€‚åº”è¯¥ä¼šè¸©å¾ˆå¤šå‘çš„ï¼Œè¿™æ¬¡ç”¨å›½å¤–æ²¡ä¸œè¥¿çš„å°1h512MæœåŠ¡å™¨è¯•æ°´ä¸€ä¸‹ã€‚<br>ç›®å‰cloudflareç»™å‡ºäº†ä¸€é”®å¼€å¯http3ã€‚å¾ˆå¥½ç”¨ï¼Œæˆ‘åœ¨netlifyæ‰˜ç®¡çš„ç½‘é¡µä¸€é”®å¼€å¼€äº†ã€‚<br><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230111221046.png" alt="1"><br><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230111221121.png" alt="2"></p><h3 id="II"><a href="#II" class="headerlink" title="II"></a>II</h3><p>ç°åœ¨è¦ç¼–è¯‘å®‰è£…ä¸€ä¸ªnginxï¼Œç”¨çš„æ˜¯<a href="https://github.com/cloudflare/quiche">https://github.com/cloudflare/quiche</a>æ–¹æ¡ˆã€‚<br><a href="https://github.com/cloudflare/quiche/tree/master/nginx">https://github.com/cloudflare/quiche/tree/master/nginx</a>å¤„ç†nginxçš„æ•™ç¨‹åœ¨è¿™é‡Œï¼Œä¸€æ­¥æ­¥è·Ÿä¸Š</p><pre><code class="bash">  curl -O https://nginx.org/download/nginx-1.16.1.tar.gz  tar xzvf nginx-1.16.1.tar.gz  git clone --recursive https://github.com/cloudflare/quiche  cd nginx-1.16.1  patch -p01 &lt; ../quiche/nginx/nginx-1.16.patch</code></pre><p>åœ¨ä¹‹å‰è¦apt upgradeä¸€ä¸‹é¿å…æœ‰è£…ä¸ä¸Šçš„ä¸œè¥¿<br><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230111221522.png" alt="3"><br>å¤–ç½‘æœåŠ¡å™¨ä¸‹çš„å°±æ˜¯å¿«ğŸ˜<br>è¦ç¼–è¯‘äº†å‘ç°cmakeæ²¡æœ‰  è£…ä¸ªcmakeå…ˆ<br><code>apt install cmake</code></p><p>gcc g++ä¹Ÿæ²¡æœ‰ è£…ä¸ª</p><p>æ¥ä¸‹æ¥</p><pre><code class="bash">  ./configure                                 \       --prefix=$PWD                           \       --build=&quot;quiche-$(git --git-dir=../quiche/.git rev-parse --short HEAD)&quot; \       --with-http_ssl_module                  \       --with-http_v2_module                   \       --with-http_v3_module                   \       --with-openssl=../quiche/quiche/deps/boringssl \       --with-quiche=../quiche  make</code></pre><p>nginx configure æ—¶å€™æŠ¥é”™ï¼Œ<br><code>the HTTP rewrite module requires the PCRE library.</code><br>æœäº† è£…è¿™ä¸ª <code>apt install libpcre3 libpcre3-dev</code></p><p><code>the HTTP gzip module requires the zlib library</code><br>æœäº† è£…è¿™ä¸ª <code>apt install zlib1g-dev</code></p><p>åˆerror æ²¡æœ‰cargo è£…ä¸ª<br><code>apt install cargo</code></p><p>makeå¥½äº†</p><pre><code class="bash">nginx -V</code></pre><p>è£…æ˜¯è£…å¥½äº† å¥½åƒè¦ä¸€ä¸ªhttpsè¯ä¹¦å•Š<br>acmeç­¾ä¸€ä¸ª<br><code>https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E</code></p><pre><code class="conf">events &#123;    worker_connections  1024;&#125;http &#123;    server &#123;        # Enable QUIC and HTTP/3.        listen 443 quic reuseport;        # Enable HTTP/2 (optional).        listen 443 ssl http2;        ssl_certificate      cert.crt;        ssl_certificate_key  cert.key;        # Enable all TLS versions (TLSv1.3 is required for QUIC).        ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;        # Add Alt-Svc header to negotiate HTTP/3.        add_header alt-svc &#39;h3=&quot;:443&quot;; ma=86400&#39;;    &#125;&#125;</code></pre><p>ç­¾è¯ä¹¦ç­¾äº†åŠå¤© ç­¾å¥½äº† æ”¾åœ¨</p><pre><code class="bash">        ssl_certificate      cert.crt;        ssl_certificate_key  cert.key;</code></pre><p>é‡Œé¢<br>é…ç½®å¥½nginx æ³¨æ„ç½‘ç«™ä¸è¦åœ¨rootä¸‹<br>åœ¨rootä¸‹nginxè®¿é—®ä¸åˆ°ç›´æ¥403äº†<br>å»ºä¸€ä¸ª<code>/www/wwwroot/domin</code>æ–‡ä»¶å¤¹æ”¾ä¸œè¥¿</p><h3 id="III"><a href="#III" class="headerlink" title="III"></a>III</h3><p>æœ€åé…ç½®ç»“æœæ˜¯è¿™æ ·æ»´</p><h4 id="ç¬¬ä¸€ä¸ª"><a href="#ç¬¬ä¸€ä¸ª" class="headerlink" title="ç¬¬ä¸€ä¸ª"></a>ç¬¬ä¸€ä¸ª</h4><p><a href="https://geekflare.com/tools/test/yn22t29e04y7v0u5jl61mcark2dwxmbn">https://geekflare.com/tools/test/yn22t29e04y7v0u5jl61mcark2dwxmbn</a><br><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230112004019.png" alt="6"><br>è¿™ä¸ªç½‘ç«™ä¼šæ£€æµ‹ä»€ä¹ˆh3-xxxçš„ç‰ˆæœ¬åè®® ï¼ˆçœ‹ä¸æ‡‚ï¼Œçœ‹æ‡‚äº†åœ¨å†™ä¸€ç¯‡<br>ä½ æ²¡æœ‰è¿™ä¸ªç‰ˆæœ¬å·çš„åè®®è¿™ä¸ªç½‘ç«™å°±æ£€æµ‹ä¸å‡ºæ¥å¥½åƒ åœ¨è¿™é‡Œæ”¹å°±è¡Œ<br><code>add_header alt-svc &#39;h3=&quot;:443&quot;; ma=86400&#39;;</code><br>æˆ‘åŠ äº†ç‰ˆæœ¬å·114514ğŸ¤“<br><code>add_header alt-svc h3=&quot;:443&quot;; ma=86400; h3-114514=&quot;:443&quot;; ma=86400</code><br>ä¸Šé¢è¿™ä¸ªå¥½åƒå°±æ£€æµ‹è¿™ä¸ªalt-svcè¿™ä¸ªå¤´</p><h4 id="ç¬¬äºŒä¸ª"><a href="#ç¬¬äºŒä¸ª" class="headerlink" title="ç¬¬äºŒä¸ª"></a>ç¬¬äºŒä¸ª</h4><p><a href="https://http3check.net/?host=http3.typescriptactions.xyz">https://http3check.net/?host=http3.typescriptactions.xyz</a><br><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230112004253.png" alt="7"><br>è¿™ä¸ªå°±å¾ˆæ­£å¸¸äº† ä¸åŠ ç‰ˆæœ¬ç›´æ¥æ£€æµ‹h3çš„</p><h4 id="ç¬¬ä¸‰ä¸ª"><a href="#ç¬¬ä¸‰ä¸ª" class="headerlink" title="ç¬¬ä¸‰ä¸ª"></a>ç¬¬ä¸‰ä¸ª</h4><p>ç„¶åæ˜¯wappalyzeræ’ä»¶<br><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230112004611.png" alt="8"></p><h4 id="ç¬¬å››ä¸ª"><a href="#ç¬¬å››ä¸ª" class="headerlink" title="ç¬¬å››ä¸ª"></a>ç¬¬å››ä¸ª</h4><p>ç„¶åæ˜¯æµè§ˆå™¨devtoolsçš„åè®®æ£€æŸ¥<br><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20230112004854.png" alt="9"></p><h3 id="IV"><a href="#IV" class="headerlink" title="IV"></a>IV</h3><p>æ€»ç»“ä¸€ä¸‹<br>2023-1-11 21:57:32 å¼€å§‹çš„<br>2023-1-12 00:53:12 å†™å®Œè¿™ç¯‡<br>ğŸ¤¥æ„Ÿè§‰æ²¡å•¥å¯æ€»ç»“çš„ å›½å¤–æœåŠ¡å™¨ä¹Ÿæµ‹ä¸äº†http3ä¼˜åŠ¿å•¥çš„<br>ä¸‹ç­ï¼ç¡è§‰ï¼ğŸ˜</p>]]></content>
      
      
      
        <tags>
            
            <tag> é’è®­è¥ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŠ¢çº¢åŒ…è·å¥–æ„Ÿè¨€ğŸ¤—</title>
      <link href="/2022/09/19/%E8%8E%B7%E5%A5%96%E6%84%9F%E8%A8%80/"/>
      <url>/2022/09/19/%E8%8E%B7%E5%A5%96%E6%84%9F%E8%A8%80/</url>
      
        <content type="html"><![CDATA[<h3 id="å‘ƒå‘ƒï¼Œå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒ"><a href="#å‘ƒå‘ƒï¼Œå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒ" class="headerlink" title="å‘ƒå‘ƒï¼Œå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒ"></a>å‘ƒå‘ƒï¼Œå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒ</h3><p>é¦–å…ˆæ­å–œTSçš„å°å·<code>TypeScript Actions Bot</code>åœ¨8æœˆ8å·æ™šä¸Šçš„æŠ¢çº¢åŒ…å¤§èµ›ä¸­è£è·é‡‘å¥–ã€‚<br><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220808210816.png" style="width:30%"></p><h4 id="ä¸€å…±æŠ¢åˆ°äº†113-87CNY"><a href="#ä¸€å…±æŠ¢åˆ°äº†113-87CNY" class="headerlink" title="ä¸€å…±æŠ¢åˆ°äº†113.87CNY"></a>ä¸€å…±æŠ¢åˆ°äº†<code>113.87CNY</code></h4><p><code>13.87CNY</code>åå‡ºå»äº†ï¼ˆå°±ç»™ä½ åä¸ªé›¶å¤´ç•¥ç•¥ç•¥ğŸ˜‹ï¼‰</p><p>é¦–å…ˆè‡ªè¯ä¸€ä¸‹æ²¡æœ‰å¼€æŒ‚</p><pre><code class="JSON">&#123;    &quot;message&quot;: &#123;        &quot;id&quot;: &quot;08a0a3dd95ddf1ca1f10c7cea8041a123134343131353231383738373537343636362081e2800308bfef5cba2fdcb8f0138f78d0140f38d0148d4cdc39706&quot;,        &quot;channel_id&quot;: &quot;9054023&quot;,        &quot;guild_id&quot;: &quot;17780811658383776&quot;,        &quot;content&quot;: &quot;[QQçº¢åŒ…]è¯·ä½¿ç”¨æ–°ç‰ˆæ‰‹æœºQQæŸ¥æ”¶çº¢åŒ…ã€‚&quot;,        &quot;timestamp&quot;: &quot;2022-08-08T18:35:00+08:00&quot;,        &quot;author&quot;: &#123;            &quot;id&quot;: &quot;14411521877574666&quot;,            &quot;username&quot;: &quot;Ljcbaby&quot;,            &quot;bot&quot;: false        &#125;,        &quot;member&quot;: &#123;            &quot;roles&quot;: [                &quot;2&quot;            ],            &quot;joined_at&quot;: &quot;2022-07-21T14:09:37+08:00&quot;        &#125;    &#125;&#125;</code></pre><p><strong>ä»¥ä¸Š</strong>ä¸º<code>TSA</code>èƒ½è·å–åˆ°çš„å…³äºè¯¥æ¡çº¢åŒ…æ¶ˆæ¯çš„å…¨éƒ¨å†…å®¹<br>å‘ƒå‘ƒ æ˜¾ç„¶å¼€ä¸äº†<br>æˆ‘ä¸çŸ¥é“é‡é¢‘é“æœºå™¨äººæ€ä¹ˆä¸ªè¿”å›æ ¼å¼ (<code>TSA</code>æ˜¯å®˜æ–¹çš„<code>PythonSDK</code>)<br>æŠ¢çº¢åŒ…å…¨é æ‰‹é€Ÿæ çœ‹çœ‹ä½ çš„å•èº«19å¹´æ‰‹é€Ÿæï¼ˆæ²¡å•èº«çš„åˆ«å«ğŸ˜¡ï¼‰</p><h3 id="ç”¨å¤„"><a href="#ç”¨å¤„" class="headerlink" title="ç”¨å¤„"></a>ç”¨å¤„</h3><p>æ­¤æ¬¡èµ„é‡‘ä¼šç”¨äºTSå¤§å·çš„ç¾åé‡å»ºã€‚<br>å‘ƒå‘ƒ ç®€è¿°ä¸€ä¸‹TSæ€ä¹ˆæ­»çš„<br>TSåœ¨å…«æœˆäºŒå·æ™šå’Œå¤§ä¼™ä¸€èµ·æœŸå¾…æŸä¸ªäººä¸‹é£æœºï¼Œè€Œä¸”ç»™å¤§ä¼™ç›´æ’­ï¼Œä½†æ˜¯ç›´æ’­ä¸­å‡ºç°äº†å‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒå‘ƒï¼ˆæ”¿ï¼‰ä¹‹ç±»çš„å†…å®¹ï¼Œç„¶åå°±å¦‚ä¸‹å›¾æ‰€ç¤ºâ†“<br><img src="https://picxyxsw.oss-cn-hangzhou.aliyuncs.com/20220808205137.png" style="width:30%"><br>ğŸ˜­TSå¤§å·æœ‰2ä¸ª780å¤©å·¦å³çš„ç«ï¼Œ2ä¸ª630å¤©å·¦å³çš„ç«ï¼Œä¸€ä¸ª330å¤©çš„ã€‚<br>å‘ƒå‘ƒå‘ƒå…¨æ‰æ²¡äº†ï¼Œtxå¼€é€šsvipä¸¤ä¸ªæœˆå¯ä»¥ç»­æ´»ä¸€ä¸ªç«ï¼Œä¸¤ä¸ªæœˆæ˜¯nm40å—é’±ğŸ‘¿ğŸ‘¿ğŸ‘¿ğŸ‘¿ğŸ‘¿ğŸ‘¿ğŸ‘¿ğŸ‘¿æˆ‘çœŸçš„æ°”æ­»äº†ğŸ‘¿ğŸ‘¿ğŸ‘¿ğŸ‘¿</p><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>å‘ƒæœ€åéå¸¸æ„Ÿè°¢å¢ä½¬å’Œçƒ§é¸¡å“¥ğŸ˜å¯Œå“¥ğŸ˜ğŸ˜ğŸ˜ğŸ˜<br>å¢ä½¬è¯´<code>å·¥èµ„åˆ°äº†å°±æ˜¯ç¡¬æ°”</code>ç›´æ¥å‘äº†3ä¸ª88æˆ‘å“­æ­»ğŸ˜­</p><p>å‘ƒå‘ƒå‘ƒåˆ»æ™´è¿˜æ²¡ç©¿å‘¢ å†æ‹–ä¼šå„¿å†æ‹–ä¼šå„¿ğŸ¤—</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šå¤§å­¦ç”Ÿä¸æ³•ã€‹æ¡ˆä¾‹åˆ†æ</title>
      <link href="/2022/09/19/%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/"/>
      <url>/2022/09/19/%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<h3 id="ã€Šå¤§å­¦ç”Ÿä¸æ³•ã€‹å†™å‡ºç”Ÿæ´»ä¸­çš„æ³•å¾‹æ¡ˆä¾‹å¹¶åŠ ä»¥åˆ†æã€‚"><a href="#ã€Šå¤§å­¦ç”Ÿä¸æ³•ã€‹å†™å‡ºç”Ÿæ´»ä¸­çš„æ³•å¾‹æ¡ˆä¾‹å¹¶åŠ ä»¥åˆ†æã€‚" class="headerlink" title="ã€Šå¤§å­¦ç”Ÿä¸æ³•ã€‹å†™å‡ºç”Ÿæ´»ä¸­çš„æ³•å¾‹æ¡ˆä¾‹å¹¶åŠ ä»¥åˆ†æã€‚"></a>ã€Šå¤§å­¦ç”Ÿä¸æ³•ã€‹å†™å‡ºç”Ÿæ´»ä¸­çš„æ³•å¾‹æ¡ˆä¾‹å¹¶åŠ ä»¥åˆ†æã€‚</h3><h2 id="æ¥ç¦å£«æ¯å¥³"><a href="#æ¥ç¦å£«æ¯å¥³" class="headerlink" title="æ¥ç¦å£«æ¯å¥³"></a>æ¥ç¦å£«æ¯å¥³</h2><h3 id="æ¡ˆä¾‹è¯¦æƒ…ï¼š"><a href="#æ¡ˆä¾‹è¯¦æƒ…ï¼š" class="headerlink" title="æ¡ˆä¾‹è¯¦æƒ…ï¼š"></a>æ¡ˆä¾‹è¯¦æƒ…ï¼š</h3><ul><li>æ¯å¥³éšç’è¡Œç¨‹ä»æ²ªæ¥æ­è¢«ç«‹æ¡ˆï¼Œæ³¢åŠå¤šå®¶å•†åœºã€‚</li><li>4æœˆ6æ—¥13:18ï¼Œæ­å·å¸‚æ–°å† è‚ºç‚ç–«æƒ…é˜²æ§æŒ‡æŒ¥éƒ¨å‘å¸ƒæ¶ˆæ¯ï¼Œ4æœˆ5æ—¥ï¼Œå®æŸæŸã€å…šæŸæŸä»çœå¤–ç–«æƒ…ä¸­é«˜é£é™©åœ°åŒºæ¥æ­ï¼Œæ¥å—é˜²ç–«å·¥ä½œäººå‘˜è°ƒæŸ¥æœŸé—´åˆ»æ„éšç’è¡Œç¨‹ï¼Œé€ æˆç¤¾ä¼šé¢ä¼ æ’­é£é™©ï¼Œå·²è¢«ä¸ŠåŸåŒºå…¬å®‰åˆ†å±€ä¾æ³•ç«‹æ¡ˆè°ƒæŸ¥ã€‚</li><li>ç½‘ä¸Šæœ‰ä¸€æ®µæ˜¨æ™šæ¥ç¦å£«çš®çˆ·å’–å•¡åº—çš„ç°åœºè§†é¢‘ï¼Œç™½å¤§è¤‚æ­£åœ¨ä¸ä¸¤åååœ¨åº—é—¨å£çš„å¥³å­å¯¹è¯ï¼Œå…¶ä¸­ä¸€åèº«ç©¿é»‘è‰²ä¸Šè¡£ã€æ²¡æœ‰æˆ´å£ç½©çš„å¥³å­<strong>é¢å¸¦ç¬‘å®¹</strong>ã€‚</li><li>ä»åœ°é“é‡Œçš„ç›‘æ§ç”»é¢ä¸­å¯ä»¥çœ‹åˆ°ï¼Œèº«ç©¿åŒæ¬¾é»‘è‰²ä¸Šè¡£çš„å¥³å­åœ¨äººæµå¯†é›†çš„å°é—­åŒºåŸŸ<strong>æ²¡æœ‰è§„èŒƒæˆ´å¥½å£ç½©</strong>ï¼Œå£é¼»å‡éœ²åœ¨å¤–é¢ï¼Œåªæœ‰åœ¨è¢«æé†’çš„æƒ…å†µä¸‹ï¼Œ<strong>æ‰</strong>æŠŠå£ç½©æ‹‰ä¸Šã€‚</li><li>æœ‰æ¶ˆæ¯è¯´ï¼Œå¥¹ä»¬ä»¥<strong>æ²¡æœ‰å¥åº·ç </strong>ä¸ºç”±ï¼Œ<strong>é¿å¼€äº†</strong>éªŒç ç¯èŠ‚ï¼Œä½†ç­¾ç½²äº†æ‰¿è¯ºä¹¦ï¼Œä¸è¿‡ï¼Œæ˜¾ç„¶å¥¹ä»¬çš„â€œæ‰¿è¯ºâ€<strong>å¹¶ä¸çœŸå®</strong>ï¼Œè¿™ä¹Ÿæ˜¯è®¤å®šå¥¹ä»¬æ˜¯å¦å­˜åœ¨â€œ<strong>åˆ»æ„éšç’</strong>â€æƒ…èŠ‚çš„é‡è¦å› ç´ ä¹‹ä¸€ã€‚</li></ul><h3 id="æ¶‰åŠæ­å·å¸‚èŒƒå›´å†…çš„å…¬å…±åœºæ‰€å¦‚ä¸‹ï¼š"><a href="#æ¶‰åŠæ­å·å¸‚èŒƒå›´å†…çš„å…¬å…±åœºæ‰€å¦‚ä¸‹ï¼š" class="headerlink" title="æ¶‰åŠæ­å·å¸‚èŒƒå›´å†…çš„å…¬å…±åœºæ‰€å¦‚ä¸‹ï¼š"></a>æ¶‰åŠæ­å·å¸‚èŒƒå›´å†…çš„å…¬å…±åœºæ‰€å¦‚ä¸‹ï¼š</h3><ul><li><p>4æœˆ5æ—¥ï¼ŒK1805æ¬¡åˆ—è½¦ï¼ˆ2å·è½¦å¢ï¼Œæ— åº§ï¼‰ã€‚</p></li><li><p>4æœˆ5æ—¥ï¼Œ6æ—¶35åˆ†ã€9æ—¶25åˆ†åˆ†åˆ«è¿›å…¥é“é“å¤§å¦è´Ÿä¸€æ¥¼æ ¸é…¸æ£€æµ‹ç‚¹é™„è¿‘å…¬å•ï¼ˆå¥³å•ï¼‰ï¼Œ7æ—¶31åˆ†è¿›å…¥åŸç«™å¹¿åœºå¹³ä»·è¶…å¸‚ï¼Œ7æ—¶37åˆ†è¿›å…¥åŸç«™å¹¿åœºä¸–çºªåè”è¶…å¸‚ï¼Œ10æ—¶09åˆ†è¿›å…¥1å·çº¿åŸç«™åœ°é“ç«™ï¼Œç»è¿‘æ±Ÿåœ°é“ç«™è½¬4å·çº¿è‡³æ±Ÿé”¦è·¯åœ°é“ç«™ï¼Œäº11æ—¶12åˆ†å‡ºç«™ï¼Œ11æ—¶17åˆ†è¿›å…¥æ­å·ä¸‡è±¡åŸï¼ˆä¸ŠåŸåŒºå¯Œæ˜¥è·¯ï¼‰ï¼Œ11æ—¶40åˆ†-21æ—¶åœ¨æ­å·æ¥ç¦å£«ä¸­å¿ƒï¼ˆä¸ŠåŸåŒºæ–°ä¸šè·¯ï¼‰ã€‚</p></li><li><p>ä¸¤äºº4æœˆ5æ—¥æ—©ä¸Š4æ—¶å·¦å³ä»ä¸Šæµ·å‡ºå‘ï¼Œ6æ—¶30åˆ†å·¦å³åˆ°è¾¾æ­å·ç«™ï¼Œå‡ºç«™åï¼Œä¸Šäº†ä¸€è¶Ÿå«ç”Ÿé—´ï¼Œè´­ä¹°æ—©ç‚¹å¹¶åœ¨å‡ºç«™å±‚åƒï¼Œåƒå®Œåä¹˜ååœ°é“å»ä¸‡è±¡åŸé—²é€›åå‡ åˆ†é’Ÿåï¼Œä¸­åˆæ¥åˆ°æ¥ç¦å£«ï¼Œè´­ç‰©ã€åƒé¥­ï¼Œå¹¶åœ¨å’–å•¡åº—ä¼‘æ¯ã€‚</p></li><li><p>äºŒäººå¿…ç„¶åˆ»æ„éšç’äº†ä¸€äº›çœŸå®æƒ…å†µæ‰èƒ½ä»ä¸Šæµ·ä¸€è·¯é—¯å…³æ¥åˆ°æ­å·ã€‚</p><p>æ ¹æ®é€šæŠ¥ï¼Œå®æŸæŸä¸¤äººåœ¨æ¥ç¦å£«<strong>é€—ç•™</strong>äº†<strong>9ä¸ªå°æ—¶</strong>ã€‚</p></li></ul><h3 id="èµ„æ–™æŸ¥è¯¢"><a href="#èµ„æ–™æŸ¥è¯¢" class="headerlink" title="èµ„æ–™æŸ¥è¯¢"></a>èµ„æ–™æŸ¥è¯¢</h3><ul><li><strong>ä¸çŸ¥é“æ„ŸæŸ“ï¼Œä½†åˆ»æ„éšç’è¡Œç¨‹ï¼Œè¦è´Ÿæ³•å¾‹è´£ä»»å—ï¼Ÿ</strong></li></ul><p><strong>éšç’</strong>æˆ–<strong>è°ç§°</strong>ç—…æƒ…ã€å±…ä½å²ã€è¡Œè¸ªè½¨è¿¹ç­‰ï¼Œè¿™äº›éšç’è¡Œä¸ºåœ¨æ³•å¾‹ä¸Šæ˜¯å¯ä»¥è¢«è®¤å®šä¸º<strong>æ‹’ç»ç–«æƒ…é˜²æ§æªæ–½è¡Œä¸º</strong>çš„ã€‚</p><p>è¿™äº›å®¢è§‚ä¸Šçš„è¡Œä¸ºï¼Œå¦‚æœè¾¾åˆ°â€œ<strong>å¼•èµ·ç”²ç±»ä¼ æŸ“ç—…ä¼ æ’­æˆ–è€…æœ‰ä¼ æ’­ä¸¥é‡å±é™©</strong>â€çš„ç¨‹åº¦ï¼Œ<strong>å¦‚é€ æˆå¤šäººè¢«ç¡®è¯Šä¸ºæ–°å† è‚ºç‚ç—…äºº</strong>ï¼Œé‚£è§†å…·ä½“æƒ…èŠ‚åŠè¡Œä¸ºåæœï¼Œæ˜¯å¯ä»¥è®¤å®šä¸º<strong>å¦¨å®³ä¼ æŸ“ç—…é˜²æ²»ç½ª</strong>çš„ã€‚</p><p>ä¸Šæµ·äºŒäººçš„è¡Œä¸ºèƒ½å¦ä»¥â€œä»¥å±é™©æ–¹æ³•å±å®³å…¬å…±å®‰å…¨ç½ªâ€è¿›è¡Œå®šç½ªå¤„ç½šï¼Œä»æ³•å¾‹ä¸Šéœ€è¦æ˜ç¡®ä¸‰ä¸ªäº‹å®ï¼šå…¶ä¸€ï¼Œåœ¨ä¸»ä½“ä¸ŠäºŒäººæ˜¯å¦å·²ç»å±äºå·²ç¡®è¯Šçš„æ–°å† è‚ºç‚ç—…äººã€ç—…åŸæºå¸¦è€…æˆ–è€…æ–°å† è‚ºç‚ç–‘ä¼¼ç—…äººï¼›å…¶äºŒï¼Œåœ¨ä¸»è§‚ä¸ŠäºŒäººæ˜¯å¦å…·æœ‰ä¼ æ’­æ–°å† è‚ºç‚ç—…åŸä½“çš„æ•…æ„ï¼›å…¶ä¸‰ï¼Œåœ¨å®¢è§‚ä¸Šéœ€æ»¡è¶³æ‹’ç»éš”ç¦»æ²»ç–—æˆ–è€…éš”ç¦»æœŸæœªæ»¡æ“…è‡ªè„±ç¦»éš”ç¦»æ²»ç–—ï¼Œä¸”å®æ–½äº†è¿›å…¥å…¬å…±åœºæ‰€æˆ–è€…å…¬å…±äº¤é€šå·¥å…·çš„è¡Œä¸ºã€‚</p><p>å¦‚æœè¡Œä¸ºäººä¸çŸ¥é“è‡ªå·±å­˜åœ¨é˜³æ€§æ„ŸæŸ“ï¼Œè€Œä»…æ˜¯éšç’ä»ç–«æƒ…é«˜å‘åœ°åŒºï¼ˆä¸Šæµ·ï¼‰çš„æ—…å±…å²æˆ–è¡Œè¸ªè½¨è¿¹ï¼Œåœ¨æœªé€ æˆä¸¥é‡å±å®³åæœçš„æƒ…å†µä¸‹ï¼Œå³ä½¿æ— æ³•æ„æˆç›¸å…³æ¶‰ç–«çŠ¯ç½ªï¼Œä¹Ÿå±å¦¨å®³ç–«æƒ…é˜²æ§çš„è¿æ³•è¡Œä¸ºï¼Œå¯äºˆä»¥æ²»å®‰å¤„ç½šã€‚</p><ul><li><strong>æ˜çŸ¥å·²æ„ŸæŸ“ï¼Œä»éšç’æ½œå…¥æ­å·ï¼Œè¦é¢ä¸´æ€æ ·çš„æ³•å¾‹åæœï¼Ÿ</strong></li></ul><p>å¦‚æœç›¸å…³è¡Œä¸ºäººæ˜çŸ¥è‡ªèº«å·²ç»ç¡®è¯Šä¸ºæ–°å† è‚ºç‚ç—…äººæˆ–è€…ç–‘ä¼¼ç—…äººï¼Œæ˜¯å‡ºäºæŠ¥å¤ç¤¾ä¼šç­‰ä¸»è§‚æ•…æ„ï¼Œæ¶æ„å‘ä¸ç‰¹å®šå¤šæ•°äººä¼ æ’­ç—…æ¯’ï¼Œåæœä¸¥é‡ã€æƒ…èŠ‚æ¶åŠ£çš„ï¼Œå°†æ¶‰å«Œä»¥å±é™©æ–¹æ³•å±å®³å…¬å…±å®‰å…¨ç½ªã€‚</p><p>æ ¹æ®åˆ‘æ³•ç¬¬ä¸€ç™¾ä¸€åå››æ¡è§„å®šï¼ŒçŠ¯æ­¤ç½ªçš„ï¼Œå°šæœªé€ æˆä¸¥é‡åæœçš„ï¼Œå¤„<strong>ä¸‰å¹´ä»¥ä¸Šåå¹´ä»¥ä¸‹</strong>æœ‰æœŸå¾’åˆ‘ï¼›è‡´äººé‡ä¼¤ã€æ­»äº¡æˆ–è€…ä½¿å…¬ç§è´¢äº§é­å—é‡å¤§æŸå¤±çš„ï¼Œå¤„<strong>åå¹´ä»¥ä¸Šæœ‰æœŸå¾’åˆ‘</strong>ã€æ— æœŸå¾’åˆ‘æˆ–è€…æ­»åˆ‘ã€‚</p><p>æ­¤å¤–ï¼Œå¯¹äºå…¶ä»–æ‹’ç»æ‰§è¡Œç–«æƒ…é˜²æ§æªæ–½ï¼Œå¼•èµ·æ–°å‹å† çŠ¶ç—…æ¯’ä¼ æ’­æˆ–è€…æœ‰ä¼ æ’­ä¸¥é‡å±é™©çš„è¡Œä¸ºï¼Œåˆ™å¯èƒ½æ¶‰å«Œ<strong>å¦¨å®³ä¼ æŸ“ç—…é˜²æ²»ç½ª</strong>ã€‚</p><p>ä¾æ®åˆ‘æ³•ç¬¬ä¸‰ç™¾ä¸‰åæ¡ç¬¬ä¸€æ¬¾ç¬¬äº”é¡¹çš„è§„å®šï¼Œè¿åä¼ æŸ“ç—…é˜²æ²»æ³•çš„è§„å®šï¼Œæ‹’ç»æ‰§è¡Œå¿çº§ä»¥ä¸Šäººæ°‘æ”¿åºœã€ç–¾ç—…é¢„é˜²æ§åˆ¶æœºæ„ä¾ç…§ä¼ æŸ“ç—…é˜²æ²»æ³•æå‡ºçš„é¢„é˜²ã€æ§åˆ¶æªæ–½ï¼Œå¼•èµ·ç”²ç±»ä¼ æŸ“ç—…ä»¥åŠä¾æ³•ç¡®å®šé‡‡å–ç”²ç±»ä¼ æŸ“ç—…é¢„é˜²ã€æ§åˆ¶æªæ–½çš„ä¼ æŸ“ç—…ä¼ æ’­æˆ–è€…æœ‰ä¼ æ’­ä¸¥é‡å±é™©çš„ï¼Œå¤„<strong>ä¸‰å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘</strong>æˆ–è€…æ‹˜å½¹ï¼›åæœç‰¹åˆ«ä¸¥é‡çš„ï¼Œå¤„<strong>ä¸‰å¹´ä»¥ä¸Šä¸ƒå¹´ä»¥ä¸‹</strong>æœ‰æœŸå¾’åˆ‘ã€‚</p><ul><li><strong>é™¤äº†åˆ‘äº‹è´£ä»»ï¼Œè¢«æ„ŸæŸ“è€…å¯ä»¥è¦æ±‚æ°‘äº‹èµ”å¿å—ï¼Ÿ</strong></li></ul><p>ä¾æ®ä¼ æŸ“ç—…é˜²æ²»æ³•ç¬¬åäºŒæ¡çš„è§„å®šï¼Œåœ¨ä¸­åäººæ°‘å…±å’Œå›½é¢†åŸŸå†…çš„ä¸€åˆ‡å•ä½å’Œä¸ªäººï¼Œå¿…é¡»æ¥å—ç–¾ç—…é¢„é˜²æ§åˆ¶æœºæ„ã€åŒ»ç–—æœºæ„æœ‰å…³ä¼ æŸ“ç—…çš„è°ƒæŸ¥ã€æ£€éªŒã€é‡‡é›†æ ·æœ¬ã€éš”ç¦»æ²»ç–—ç­‰é¢„é˜²ã€æ§åˆ¶æªæ–½ï¼Œ<strong>å¦‚å®æä¾›æœ‰å…³æƒ…å†µ</strong>ã€‚</p><p>è‹¥å•ä½å’Œä¸ªäººè¿åæœ¬æ³•è§„å®šï¼Œå¯¼è‡´ä¼ æŸ“ç—…ä¼ æ’­ã€æµè¡Œï¼Œç»™ä»–äººäººèº«ã€è´¢äº§é€ æˆæŸå®³çš„ï¼Œè¿˜åº”å½“<strong>ä¾æ³•æ‰¿æ‹…æ°‘äº‹è´£ä»»</strong>ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœäºŒäºº<strong>æ˜çŸ¥è‡ªå·±æ˜¯ç¡®è¯Šæ‚£è€…æˆ–è€…ç–‘ä¼¼æ‚£è€…ä»ç„¶æœªæŒ‰ç…§å›½å®¶ç–«æƒ…é˜²æ§éƒ¨é—¨çš„è¦æ±‚</strong>ï¼Œè¿˜ä¸ä»–äººæ¥è§¦å¯¼è‡´ä»–äººæ„ŸæŸ“çš„ï¼Œé‚£ä¹ˆè¢«æ„ŸæŸ“è€…å¯ä»¥è¦æ±‚ä¼ æ’­è€…èµ”å¿æŸå¤±ã€‚</p><h3 id="æ³•å¾‹è§„å®š"><a href="#æ³•å¾‹è§„å®š" class="headerlink" title="æ³•å¾‹è§„å®š"></a>æ³•å¾‹è§„å®š</h3><ul><li><p>ã€Š<strong>ä¼ æŸ“ç—…é˜²æ²»æ³•</strong>ã€‹ç¬¬åäºŒæ¡ä¹‹è§„å®šï¼Œåœ¨ä¸­åäººæ°‘å…±å’Œå›½é¢†åŸŸå†…çš„ä¸€åˆ‡å•ä½å’Œä¸ªäººï¼Œå¿…é¡»æ¥å—ç–¾ç—…é¢„é˜²æ§åˆ¶æœºæ„ã€åŒ»ç–—æœºæ„æœ‰å…³ä¼ æŸ“ç—…çš„è°ƒæŸ¥ã€æ£€éªŒã€é‡‡é›†æ ·æœ¬ã€éš”ç¦»æ²»ç–—ç­‰é¢„é˜²ã€æ§åˆ¶æªæ–½ï¼Œå¦‚å®æä¾›æœ‰å…³æƒ…å†µã€‚</p></li><li><p>ã€Š<strong>ä¼ æŸ“ç—…é˜²æ²»æ³•</strong>ã€‹ç¬¬ä¸‰åä¸€æ¡ä¹‹è§„å®šï¼Œä»»ä½•å•ä½å’Œä¸ªäººå‘ç°ä¼ æŸ“ç—…ç—…äººæˆ–è€…ç–‘ä¼¼ä¼ æŸ“ç—…ç—…äººæ—¶ï¼Œåº”å½“åŠæ—¶å‘é™„è¿‘çš„ç–¾ç—…é¢„é˜²æ§åˆ¶æœºæ„æˆ–è€…åŒ»ç–—æœºæ„æŠ¥å‘Šã€‚</p></li><li><p>ã€Š<strong>çªå‘äº‹ä»¶åº”å¯¹æ³•</strong>ã€‹ç¬¬äº”åå››æ¡ä¹‹è§„å®šï¼šâ€œä»»ä½•å•ä½å’Œä¸ªäººä¸å¾—ç¼–é€ ã€ä¼ æ’­æœ‰å…³çªå‘äº‹ä»¶äº‹æ€å‘å±•æˆ–è€…åº”æ€¥å¤„ç½®å·¥ä½œçš„è™šå‡ä¿¡æ¯ã€‚â€</p></li><li><p>ã€Š<strong>çªå‘äº‹ä»¶åº”å¯¹æ³•</strong>ã€‹ç¬¬äº”åä¸ƒæ¡ä¹‹è§„å®šï¼Œçªå‘äº‹ä»¶å‘ç”Ÿåœ°çš„å…¬æ°‘åº”å½“æœä»äººæ°‘æ”¿åºœã€å±…æ°‘å§”å‘˜ä¼šã€æ‘æ°‘å§”å‘˜ä¼šæˆ–è€…æ‰€å±å•ä½çš„æŒ‡æŒ¥å’Œå®‰æ’ï¼Œé…åˆäººæ°‘æ”¿åºœé‡‡å–çš„åº”æ€¥å¤„ç½®æªæ–½ï¼Œç§¯æå‚åŠ åº”æ€¥æ•‘æ´å·¥ä½œï¼ŒååŠ©ç»´æŠ¤ç¤¾ä¼šç§©åºã€‚</p></li><li><p>å¦‚æœæ˜çŸ¥è‡ªèº«å·²æ„ŸæŸ“â€œæ–°å‹å† çŠ¶ç—…æ¯’â€è€Œæ•…æ„ä¼ æ’­ï¼Œå±å®³å…¬å…±å®‰å…¨ï¼Œä¾ç…§ã€Š<strong>åˆ‘æ³•</strong>ã€‹ä¸€ç™¾ä¸€åå››æ¡ã€ä¸€ç™¾åä¸€äº”æ¡ç¬¬ä¸€æ¬¾ä¹‹è§„å®šï¼Œä»¥å±é™©æ–¹æ³•å±å®³å…¬å…±å®‰å…¨ç½ªå®šç½ªå¤„ç½šï¼Œæ²¡æœ‰é€ æˆä¸¥é‡åæœçš„ï¼Œå¤„ä¸‰å¹´ä»¥ä¸Šåå¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ï¼Œé€ æˆä¸¥é‡åæœçš„ï¼Œå¤„åå¹´ä»¥ä¸Šæœ‰æœŸå¾’åˆ‘ã€æ— æœŸå¾’åˆ‘æˆ–è€…æ­»åˆ‘ã€‚</p></li><li><p>å¦‚æœå®é™…ä¸Šæ„ŸæŸ“â€œæ–°å‹å† çŠ¶ç—…æ¯’â€ï¼Œå¤„äºæ½œä¼æœŸï¼Œè¯¯ä»¥ä¸ºè‡ªå·±æ²¡æœ‰æ„ŸæŸ“è¯¥ç—…æ¯’ï¼Œè€Œæ‹’ç»æ¥å—æ£€ç–«ã€å¼ºåˆ¶éš”ç¦»æˆ–è€…æ²»ç–—ï¼Œè¿‡å¤±é€ æˆâ€œæ–°å‹å† çŠ¶ç—…æ¯’â€ä¼ æ’­ï¼Œæƒ…èŠ‚ä¸¥é‡ï¼Œå±å®³å…¬å…±å®‰å…¨çš„ï¼Œä¾ç…§ã€Š<strong>åˆ‘æ³•</strong>ã€‹ä¸€ç™¾ä¸€åäº”ç¬¬äºŒæ¬¾ä¹‹è§„å®šï¼ŒæŒ‰è¿‡å¤±ä»¥å±é™©æ–¹æ³•å±å®³å…¬å…±å®‰å…¨ç½ªå®šç½ªå¤„ç½šï¼Œæœ€é«˜å¯å¤„ä¸ƒå¹´æœ‰æœŸå¾’åˆ‘ã€‚</p></li></ul><h3 id="è‡ªå·±çš„æƒ³æ³•"><a href="#è‡ªå·±çš„æƒ³æ³•" class="headerlink" title="è‡ªå·±çš„æƒ³æ³•"></a>è‡ªå·±çš„æƒ³æ³•</h3><ul><li>å¦‚æœæ˜çŸ¥è‡ªå·±æºå¸¦æ–°å† ç—…æ¯’ï¼Œå´è¿˜è¦åœ¨æ­å·å¤§é€›ç‰¹é€›ï¼Œè¯•å›¾ä¼ æ’­ç—…æ¯’ï¼Œåˆ™ç½ªä¸å¯èµ¦ã€‚ç»™å¥¹ä»¬çš„ç—…æ¯’æµ‹ä¸ªåºï¼Œå‡¡æ˜¯è¯¥åºåˆ—ä¹‹åçš„ç—…æ¯’æ„ŸæŸ“è€…ä»¥åŠå¥¹ä»¬é€ æˆå½±å“çš„å•†å®¶éƒ½å¯ä»¥å¯¹å¥¹ä»¬è¿›è¡Œæ°‘äº‹èµ”å¿è¯‰è®¼ï¼Œè‡³äºåˆ‘äº‹è´£ä»»ç”±å›½å®¶å…¬è¯‰ã€‚</li><li>å¦‚ä¸çŸ¥é“æºå¸¦æ–°å† ç—…æ¯’ï¼Œä¸ºä»€ä¹ˆä¸äº®å¥åº·ç ï¼Ÿä¸ºä»€ä¹ˆå…³æ‰æ‰‹æœºç­¾æ‰¿è¯ºä¹¦ï¼Ÿä¸ºä»€ä¹ˆä¸éµå®ˆå°æ§ä»å±é™©çš„ä¸Šæµ·è·‘åˆ°æ­å·æ¥ï¼Ÿä¸ºä»€ä¹ˆåœ¨å•†åœºé‡Œå¾…9å°æ—¶ï¼Ÿä¸ºä»€ä¹ˆä»é£é™©åŒºå‡ºæ¥åœ¨å•†åœºé‡Œä¸æˆ´å£ç½©è°ˆç¬‘é£ç”Ÿï¼Ÿæˆ‘è§‰å¾—è¿™äº›éƒ½æ˜¯å«Œç–‘ç‚¹ã€‚ä¸æ’é™¤æœ‰å…¶æŠ¥å¤ç¤¾ä¼šã€å¦¨ç¢ç–«æƒ…é˜²æ§çš„å¯èƒ½ã€‚</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>javaç­”æ¡ˆ2</title>
      <link href="/2022/09/19/jvav2/"/>
      <url>/2022/09/19/jvav2/</url>
      
        <content type="html"><![CDATA[<h3 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h3><p>DDBDB  BDCAA  ADAAA</p><h3 id="å¡«ç©º"><a href="#å¡«ç©º" class="headerlink" title="å¡«ç©º"></a>å¡«ç©º</h3><p>4-1<br>    BufferedInputStream</p><p>4-2<br>    OutputStream<br>    Reader</p><h3 id="ç¨‹åºå¡«ç©ºé¢˜"><a href="#ç¨‹åºå¡«ç©ºé¢˜" class="headerlink" title="ç¨‹åºå¡«ç©ºé¢˜"></a>ç¨‹åºå¡«ç©ºé¢˜</h3><p>5-1<br>    throw  new<br>    IllegalAccessException e</p><p>5-2<br>    int t a<br>    t</p><p>5-3<br>    f[i]&#x3D;f[i-1]+f[i-2]<br>    int i&#x3D;0<br>    (i+1)%4&#x3D;&#x3D;0</p><h3 id="ç¼–ç¨‹é¢˜"><a href="#ç¼–ç¨‹é¢˜" class="headerlink" title="ç¼–ç¨‹é¢˜"></a>ç¼–ç¨‹é¢˜</h3><p>7-1</p><pre><code>public class Main &#123;    public static void main(String[] args) &#123;        Dog animal = new Dog();        animal.shout();        animal.run();    &#125;&#125;class Animal &#123;    void shout() &#123;        System.out.println(&quot;animal shoutï¼&quot;);    &#125;&#125;class Dog extends Animal &#123;    void shout() &#123;        super.shout();        System.out.println(&quot;wangwangâ€¦â€¦&quot;);    &#125;    void run() &#123;        System.out.println(&quot;Dog is running&quot;);    &#125;&#125;</code></pre><p>7-2</p><pre><code>public class Main &#123;    public static void main(String[] args) &#123;        Son son = new Son();        son.method();    &#125;&#125;class Parent &#123;    Parent() &#123;        System.out.println(&quot;Parent&#39;s Constructor without parameter&quot;);    &#125;    Parent(boolean b) &#123;        System.out.println(&quot;Parent&#39;s Constructor with a boolean parameter&quot;);    &#125;    public void method() &#123;        System.out.println(&quot;Parent&#39;s method()&quot;);    &#125;&#125;class Son extends Parent &#123;    Son() &#123;        super(true);        System.out.println(&quot;Son&#39;s Constructor without parameter&quot;);    &#125;    public void method() &#123;        System.out.println(&quot;Son&#39;s method()&quot;);        super.method();    &#125;&#125;</code></pre><p>7-3</p><pre><code>import java.util.Scanner;public class Main&#123;    public static void main(String[] args) &#123;        Scanner in=new Scanner(System.in);        int n=in.nextInt();        int sum1=0,sum2=0;        int []s=new int[n];        for(int i=0;i&lt;n;i++) &#123;            int m=in.nextInt();            if(m&gt;100||m&lt;0) &#123;                System.out.println(m+&quot;invalid!&quot;);                i--;                continue;            &#125;            else                s[i]=m;            if(m&lt;60) sum1+=1;            else sum2+=1;        &#125;        System.out.println(sum2);        System.out.println(sum1);    &#125;&#125;</code></pre><p>7-4</p><pre><code>import java.util.Arrays;import java.util.Scanner;class Main &#123;    public static void main(String[] args) &#123;        Scanner sc = new Scanner(System.in);        int n = sc.nextInt();        int[] arr = new int[n];        for (int i = 0; i &lt; n; i++) &#123;            arr[i] = sc.nextInt();        &#125;        double sum = 0;        for (int i = 0; i &lt; n; i++) &#123;            sum += arr[i];        &#125;        double mean = sum / n;        arr = Arrays.stream(arr).sorted().toArray();        double median = 0;        if (n % 2 == 0) &#123;            median = (arr[n / 2 - 1] + arr[n / 2]) / 2.0;        &#125;        else &#123;            median = arr[n / 2];        &#125;        System.out.print(&quot;mean=&quot; + String.format(&quot;%.2f&quot;, mean) + &quot;,median=&quot; + String.format(&quot;%.1f&quot;, median));    &#125;&#125;</code></pre><p>7-5</p><pre><code>import java.util.Arrays;import java.util.Scanner;public class Main &#123;    public static void main(String[] args) &#123;        Scanner scanner = new Scanner(System.in);        int n = scanner.nextInt();        int[] arr = new int[n];        for (int i = 0; i &lt; n; i++) &#123;            try&#123;                String str = scanner.next();                arr[i] = Integer.parseInt(str);            &#125;catch (Exception e)&#123;                System.out.println(e);                i--;            &#125;        &#125;        System.out.println(Arrays.toString(arr));    &#125;&#125;</code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>javaç­”æ¡ˆ</title>
      <link href="/2022/09/19/jvav/"/>
      <url>/2022/09/19/jvav/</url>
      
        <content type="html"><![CDATA[<h3 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h3><p>BDCDA CABCC</p><h3 id="ç¨‹åºå¡«ç©º"><a href="#ç¨‹åºå¡«ç©º" class="headerlink" title="ç¨‹åºå¡«ç©º"></a>ç¨‹åºå¡«ç©º</h3><p>5-1</p><pre><code>str.toCharArray()i&lt;x.lengthch&gt;=&#39;a&#39;&amp;&amp;ch&lt;=&#39;z&#39; ||ch&gt;=&#39;A&#39;&amp;&amp;ch&lt;=&#39;Z&#39;ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;c++</code></pre><p>5-2</p><pre><code>sc.nextLine()str.charAt(i)String.valueOf(curChar).toUpperCase()String.valueOf(curChar).toLowerCase()sb.append(s1)sb.toString()</code></pre><p>5-3</p><pre><code>super(a);this.a=super.a*10;super.athis.a</code></pre><h3 id="ç¼–ç¨‹é¢˜"><a href="#ç¼–ç¨‹é¢˜" class="headerlink" title="ç¼–ç¨‹é¢˜"></a>ç¼–ç¨‹é¢˜</h3><p>7-1</p><pre><code>import java.util.Scanner;class Rectangle &#123;    double width = 1;    double height = 1;    Rectangle() &#123;    &#125;    Rectangle(double width, double height) &#123;        this.width = width;        this.height = height;    &#125;    double getArea() &#123;        return width * height;    &#125;    double getPerimeter() &#123;        return 2 * (width + height);    &#125;&#125;class Main&#123;    public static void main(String[] args) &#123;        Scanner scanner = new Scanner(System.in);        double width = scanner.nextDouble();        double height = scanner.nextDouble();        Rectangle rectangle1 = new Rectangle(width, height);        System.out.println(rectangle1.width + &quot; &quot; + rectangle1.height + &quot; &quot; + rectangle1.getArea() + &quot; &quot; + rectangle1.getPerimeter());        width = scanner.nextDouble();        height = scanner.nextDouble();        Rectangle rectangle2 = new Rectangle(width, height);        System.out.print(rectangle2.width + &quot; &quot; + rectangle2.height + &quot; &quot; + rectangle2.getArea() + &quot; &quot; + rectangle2.getPerimeter());    &#125;&#125;</code></pre><p>7-2</p><pre><code>import java.util.Scanner;interface ICompute&#123;    int computer(int n, int m);&#125;class Add implements ICompute&#123;    public int computer(int n, int m)&#123;        return n+m;    &#125;&#125;class Sub implements ICompute&#123;    public int computer(int n, int m)&#123;        return n-m;    &#125;&#125;class Main&#123;    public static void main(String[] args)&#123;        Scanner sc = new Scanner(System.in);        int a = sc.nextInt();        int b = sc.nextInt();        ICompute add = new Add();        ICompute sub = new Sub();        System.out.println(add.computer(a, b));        System.out.println(sub.computer(a, b));    &#125;&#125;</code></pre><p>7-3</p><pre><code>import java.util.Scanner;class Circle&#123;    private double radius;    Circle(double radius)&#123;        this.radius = radius;    &#125;    Circle()&#123;        this.radius =0;    &#125;    void setRadius(double r)&#123;        this.radius = r;    &#125;    double getRadius()&#123;        return this.radius;    &#125;    double getArea()&#123;        return Math.PI * this.radius * this.radius;    &#125;    double getPerimeter()&#123;        return Math.PI * this.radius * 2;    &#125;    public String toString()&#123;        return&quot;Circle(r:&quot;+this.radius+&quot;)&quot;;    &#125;&#125;class Cylinder&#123;    private double height;    private Circle circle;    Cylinder(double height,Circle circle)&#123;        this.height = height;        this.circle = circle;    &#125;    Cylinder()&#123;        this.height = 0;        this.circle = new Circle();    &#125;    void setHeight(double height)&#123;        this.height = height;    &#125;    double getHeight()&#123;        return this.height;    &#125;    void setCircle(Circle circle)&#123;        this.circle = circle;    &#125;    Circle getCircle()&#123;        return this.circle;    &#125;    double getArea()&#123;        return 2 * this.circle.getArea() + this.circle.getPerimeter() * this.height;    &#125;    double getVolume()&#123;        return this.circle.getArea() * this.height;    &#125;    public String toString()&#123;        return &quot;Cylinder(h:&quot;+this.height+&quot;,&quot;+this.circle+&quot;)&quot;;    &#125;&#125;public class Main&#123;    public static void main(String args[]) &#123;        Scanner input = new Scanner(System.in);        int n = input.nextInt();        for(int i = 0; i &lt; n; i++) &#123;            String str = input.next();            if(str.equals(&quot;Circle&quot;)) &#123;                Circle c = new Circle(input.nextDouble());                System.out.println(&quot;The area of &quot; + c.toString() + &quot; is &quot; + String.format(&quot;%.2f&quot;,c.getArea()));                System.out.println(&quot;The perimeterof &quot; + c.toString() + &quot; is &quot;+ String.format(&quot;%.2f&quot;,c.getPerimeter()));            &#125; else if(str.equals(&quot;Cylinder&quot;)) &#123;                Cylinder r = new Cylinder(input.nextDouble(), new Circle(input.nextDouble()));                System.out.println(&quot;The area of &quot; + r.toString() + &quot; is &quot; + String.format(&quot;%.2f&quot;,r.getArea()));                System.out.println(&quot;The volume of &quot; + r.toString() + &quot; is &quot; + String.format(&quot;%.2f&quot;,r.getVolume()));            &#125;        &#125;    &#125;&#125;</code></pre><p>7-4</p><pre><code>import java.util.Scanner;class Shape&#123;    double PI=3.1415926;    public double area()&#123;        return 0;    &#125;    public double perimeter()&#123;        return 0;    &#125;&#125;class Oval extends Shape&#123;    private double a;    private double b;    public Oval(double a,double b)&#123;        this.a=a;        this.b=b;    &#125;    public Oval()&#123;        this.a=0;        this.b=0;    &#125;    public double area()&#123;        return PI*a*b;    &#125;    public double perimeter()&#123;        return 2*PI*Math.sqrt((a*a+b*b)/2);    &#125;    public String toString()&#123;        return &quot;Oval(a:&quot;+a+&quot;,b:&quot;+b+&quot;)&quot;;    &#125;&#125;public class Main &#123;    public static void main(String[] args) &#123;        Scanner sc=new Scanner(System.in);        double a=sc.nextDouble();        double b=sc.nextDouble();        Oval o=new Oval(a,b);        System.out.println(&quot;The area of &quot;+o.toString()+&quot; is &quot;+o.area());        System.out.println(&quot;The perimeterof &quot;+o.toString()+&quot; is &quot;+o.perimeter());    &#125;&#125;</code></pre><p>7-5</p><pre><code>import java.util.Scanner;public class Main &#123;    public static void main(String[] args) &#123;        String statement;            Scanner sc =new Scanner(System.in);            statement=sc.nextLine();            String word1=sc.next();            String word2=sc.next();//ç”¨word2æ›¿æ¢word1            String words[]=statement.split(&quot; &quot;);        /* for(int i=0;i&lt;words.length;i++)                System.out.print(words[i]+&quot;\t&quot;);*/            for(int i=0;i&lt;words.length;i++) &#123;//å°†å¥å­åˆ†å‰²æˆå•è¯                if(word1.equals(words[i])) &#123;                    words[i]=word2;                &#125;            &#125;        StringBuffer stb=new StringBuffer();        String sta=null;        for(int i=0;i&lt;words.length;i++) &#123;//æ•°ç»„è½¬æ¢ä¸ºå¥å­            if(i==words.length-1)stb.append(words[i]);            elsestb.append(words[i]+&quot; &quot;);        &#125;        sta=stb.toString();        System.out.println(sta);            sc.close();    &#125;&#125;</code></pre><p>7-6</p><pre><code>import java.util.Scanner;interface Shape&#123;    double length();&#125;class Triangle implements Shape&#123;    double a;    double b;    double c;    Triangle()&#123;        this.a = this.b = this.c = 0;    &#125;    Triangle(double a)&#123;        this.a = this.b = this.c = 0;    &#125;    Triangle(double a, double b)&#123;        this.a = this.b = this.c = 0;    &#125;    Triangle(double a, double b, double c)&#123;        this.a = a;        this.b = b;        this.c = c;        if(a &lt;= 0 || b &lt;= 0 || c &lt;= 0 || !(a + b &gt; c &amp;&amp; a + c &gt; b &amp;&amp; b + c &gt; a))&#123;            this.a = this.b = this.c = 0;        &#125;    &#125;    @Override    public double length() &#123;        return a + b + c;    &#125;&#125;class Rectangle implements Shape&#123;    double a, b;    Rectangle()&#123;        this.a = this.b = 0;    &#125;    Rectangle(double a)&#123;        this.a = this.b = 0;    &#125;    Rectangle(double a, double b)&#123;        this.a = a;        this.b = b;        if(a &lt;= 0 || b &lt;= 0)&#123;            this.a = this.b = 0;        &#125;    &#125;    @Override    public double length() &#123;        return 2 * (a + b);    &#125;&#125;class Circle implements Shape&#123;    double r;    Circle()&#123;        r = 0;    &#125;    Circle(double r)&#123;        this.r = r;        if(r &lt;= 0) this.r = 0;    &#125;    @Override    public double length() &#123;        return 2 * 3.14 * r;    &#125;&#125;public class Main &#123;    public static void main(String[] args) &#123;        Scanner sc = new Scanner(System.in);        while(sc.hasNextInt()) &#123;            double[] l = new double[5];            String s;            s = sc.nextLine();            String[] str = s.split(&quot; &quot;);            int cnt = 0;            for (String value : str) &#123;                l[cnt++] = Double.parseDouble(value);            &#125;            if(cnt == 1)&#123;                Circle C = new Circle(l[0]);                System.out.printf(&quot;%.2f\n&quot;, C.length());            &#125;            else if (cnt == 2)&#123;                Rectangle r = new Rectangle(l[0], l[1]);                System.out.printf(&quot;%.2f\n&quot;, r.length());            &#125;            else&#123;                Triangle t = new Triangle(l[0], l[1], l[2]);                System.out.printf(&quot;%.2f\n&quot;, t.length());            &#125;        &#125;    &#125;&#125;</code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>yaml</title>
      <link href="/2021/10/20/yaml/"/>
      <url>/2021/10/20/yaml/</url>
      
        <content type="html"><![CDATA[<h1 id="ğŸ‰å‰æçŸ¥è¯†"><a href="#ğŸ‰å‰æçŸ¥è¯†" class="headerlink" title="ğŸ‰å‰æçŸ¥è¯†"></a>ğŸ‰å‰æçŸ¥è¯†</h1><ol><li>Nodejså’Œnpmï¼Œä¼šä½¿ç”¨Npmå®‰è£…åŒ…</li><li>äº†è§£yamlåŸºç¡€è¯­æ³•</li><li>åŸºæœ¬çš„js</li><li>ä»å‘½ä»¤è¡Œæ¥æ”¶å‚æ•° <a href="http://nodejs.cn/learn/nodejs-accept-arguments-from-the-command-line">http://nodejs.cn/learn/nodejs-accept-arguments-from-the-command-line</a></li><li>å¦‚ä½•æœ¬åœ°ç›´æ¥è¿è¡Œjsä»£ç ï¼šæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ <code>node xxx.js</code></li></ol><h1 id="æ¶‰åŠåˆ°çš„åº“"><a href="#æ¶‰åŠåˆ°çš„åº“" class="headerlink" title="æ¶‰åŠåˆ°çš„åº“"></a>æ¶‰åŠåˆ°çš„åº“</h1><ol><li><a href="https://github.com/nodeca/js-yaml">js-yaml</a></li></ol><h1 id="ç»ƒä¹ å†…å®¹ï¼šæ— é¡µé¢ç‰ˆTodo-list"><a href="#ç»ƒä¹ å†…å®¹ï¼šæ— é¡µé¢ç‰ˆTodo-list" class="headerlink" title="ç»ƒä¹ å†…å®¹ï¼šæ— é¡µé¢ç‰ˆTodo list"></a>ç»ƒä¹ å†…å®¹ï¼šæ— é¡µé¢ç‰ˆTodo list</h1><ol><li><p>åœ¨ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ª todo.yaml</p><ul><li>åŒ…å«ä¸‰å¤§å—ï¼š todo, doing, doneï¼Œåˆ†åˆ«ä»£è¡¨å¾…åŠä»»åŠ¡çš„ä¸‰ç§çŠ¶æ€</li><li>æ¯æ¡ä»»åŠ¡åˆ†å¸ƒåœ¨ä¸‰å¤§å—ä¸­ï¼Œæ¯æ¡ä»»åŠ¡æœ‰ä»¥ä¸‹å±æ€§ï¼šidï¼Œcontent,</li></ul></li><li><p>å®ç°ä»¥ä¸‹å‘½ä»¤ï¼š</p></li></ol><ul><li><code>node xxx.js ls</code>ï¼šåˆ—å‡ºæ‰€æœ‰ä»»åŠ¡</li><li><code>node xxx.js ls --status=done</code>ï¼šåˆ—å‡ºæ‰€æœ‰ä»»åŠ¡å®Œæˆçš„ä»»åŠ¡</li><li><code>node xxx.js ls --status=doing</code>: åˆ—å‡ºæ‰€æœ‰è¿›è¡Œä¸­çš„ä»»åŠ¡</li><li><code>node xxx.js ls --status=todo</code></li><li><code>node xxx.js done ä»»åŠ¡id</code>ï¼š å°†è¯¥idå¯¹åº”çš„ä»»åŠ¡ç½®ä¸ºå®ŒæˆçŠ¶æ€</li><li><code>node xxx.js todo ä»»åŠ¡id</code></li><li><code>node xxx.js doing ä»»åŠ¡id</code></li><li>ä¸‹é¢çš„æˆ‘çœç•¥node xxx.jsï¼š</li><li>delete ä»»åŠ¡id</li><li>add ä»»åŠ¡å†…å®¹<br>  ã€‚ã€‚ã€‚è‡ªè¡Œæƒ³è±¡æ·»åŠ åŠŸèƒ½ã€‚ã€‚ã€‚</li></ul><h1 id="ä¸€äº›å®ç°çš„ç»†èŠ‚ï¼š"><a href="#ä¸€äº›å®ç°çš„ç»†èŠ‚ï¼š" class="headerlink" title="ä¸€äº›å®ç°çš„ç»†èŠ‚ï¼š"></a>ä¸€äº›å®ç°çš„ç»†èŠ‚ï¼š</h1><ol><li>åˆ©ç”¨js-yamlä¸­çš„dumpä¿å­˜jså¯¹è±¡åˆ°yamlæ–‡ä»¶</li><li>åˆ©ç”¨js-yamlä¸­çš„loadè¯»å–yamlæ–‡ä»¶åˆ°jså¯¹è±¡</li><li>å¯ä»¥è¾¹å†™è¾¹åŠ å…¥es6è¯­æ³•æ¥ç»ƒä¹ </li></ol><hr><h1 id="æœ€åå£°æ˜"><a href="#æœ€åå£°æ˜" class="headerlink" title="æœ€åå£°æ˜"></a>æœ€åå£°æ˜</h1><blockquote><p>æœ¬ç»ƒä¹ çœŸçš„åªæ˜¯ä¸ºäº†ä½ ç»ƒä¹ ï¼Œä¸»è¦æ˜¯ç»ƒä¹ node,npm,jsï¼Œes6,æ‰€ä»¥è¿˜æ˜¯é è‡ªè§‰å®Œæˆï¼Œ<strong>ä½†æ˜¯æ‚¨çš„æäº¤æ¬¡æ•°ä¼šä½œä¸ºæˆ‘ä»¬è¯„ä¼˜çš„ä¾æ®</strong>ï¼Œå®Œæˆäº†è¯·æ¨åˆ°ä½ çš„åˆ†æ”¯</p></blockquote><h1 id="links"><a href="#links" class="headerlink" title="links"></a>links</h1><p><a href="https://github.com/hduhelp/frontend_2021_pratice/">https://github.com/hduhelp/frontend_2021_pratice/</a></p><p>å¦‚ä½•å°†yamlè½¬ä¸ºjså¯¹è±¡: <a href="https://github.com/nodeca/js-yaml">https://github.com/nodeca/js-yaml</a></p><p>æ¯æ—¥ä¸€ç¯‡ä¹‹yaml: <a href="http://www.ruanyifeng.com/blog/2016/07/yaml.html">http://www.ruanyifeng.com/blog/2016/07/yaml.html</a></p><p>æ¯æ—¥ä¸€ç¯‡ä¹‹es6: <a href="https://www.w3cschool.cn/escript6/escript6-827l37er.html">https://www.w3cschool.cn/escript6/escript6-827l37er.html</a>  ES6 ç®€ä»‹_w3cschool</p><p>å®‰åˆ©ä¸€æœ¬ä¹¦<a href="https://es6.ruanyifeng.com/">https://es6.ruanyifeng.com/</a> ES6 å…¥é—¨æ•™ç¨‹</p><p><a href="https://hduhelp21.yuque.com/staff-mhchbm/ergbdy/lobnc5">https://hduhelp21.yuque.com/staff-mhchbm/ergbdy/lobnc5</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å¤©æ°”å°ç»„ä»¶å…¥é—¨</title>
      <link href="/2021/10/06/%E5%A4%A9%E6%B0%94%E5%B0%8F%E7%BB%84%E4%BB%B6%E5%85%A5%E9%97%A8/"/>
      <url>/2021/10/06/%E5%A4%A9%E6%B0%94%E5%B0%8F%E7%BB%84%E4%BB%B6%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="å¤©æ°”api"><a href="#å¤©æ°”api" class="headerlink" title="å¤©æ°”api"></a>å¤©æ°”api</h1><p>ç”¨çš„apiæ˜¯qweather<br><strong>å’Œé£å¤©æ°”</strong><br><a href="https://www.qweather.com/">qweather</a><br><a href="https://dev.qweather.com/docs/api/">apiæ‰‹å†Œ</a></p><h5 id="æˆ‘æ˜¯è’Ÿè’»"><a href="#æˆ‘æ˜¯è’Ÿè’»" class="headerlink" title="æˆ‘æ˜¯è’Ÿè’»"></a>æˆ‘æ˜¯è’Ÿè’»</h5><p><del>UIè®¾è®¡æ‹‰èƒ¯</del><br><strong>ä½¿ç”¨ä¸–ç•Œä¸Šæœ€å¥½çš„jsæ¡†æ¶ vanilla js</strong></p><p>å·²ç»å®ç°çš„åŠŸèƒ½ï¼š</p><ul><li>è·å–å®æ—¶æ°”æ¸© æ¹¿åº¦ é£å‘ é£åŠ› é£é€Ÿ å¤§æ°”å‹ èƒ½è§åº¦</li><li>è·å–å½“å‰æ—¥æœŸæ—¶é—´å‘¨å‡ </li><li>å¤©æ°”å°å›¾æ ‡</li><li>3å¤©å¤©æ°”é¢„å‘Š</li><li>flexå¸ƒå±€ï¼Œé€‚åº”è®¾å¤‡</li></ul><p>å¾…å®ç°åŠŸèƒ½ï¼š</p><ul><li>æ°”æ¸©å˜åŒ–å›¾è¡¨</li><li>ç©¿è¡£å»ºè®®</li><li>darkmode</li><li>iconfontå›¾æ ‡</li></ul><p>é€šè¿‡è¿™æ¬¡å°ç»„ä»¶å¼€å‘å­¦ä¼šçš„ä¸œè¥¿ï¼š</p><ul><li>flexçš„ä½¿ç”¨</li><li>fetch then promise ï¼ˆè¿˜æ˜¯ä¸ä¼šç”¨<del>æŠ„çš„</del>ï¼‰</li><li>å¤©æ°”apiçš„ä½¿ç”¨</li><li>jsonæ ¼å¼åŒ–å¤„ç†</li></ul><h5 id="apiè¯·æ±‚æ ¼å¼"><a href="#apiè¯·æ±‚æ ¼å¼" class="headerlink" title="apiè¯·æ±‚æ ¼å¼"></a>apiè¯·æ±‚æ ¼å¼</h5><pre><code>https://devapi.qweather.com/v7/weather/now?[è¯·æ±‚å‚æ•°]</code></pre><p>å¿…é¡»å‚æ•° â€“location<br>å¿…é¡»å‚æ•° â€“key</p><h5 id="è¿”å›æ•°æ®ä¾‹"><a href="#è¿”å›æ•°æ®ä¾‹" class="headerlink" title="è¿”å›æ•°æ®ä¾‹"></a>è¿”å›æ•°æ®ä¾‹</h5><pre><code>// åŒ—äº¬å®å†µå¤©æ°” // å•†ä¸šç‰ˆ https://api.qweather.com/v7/weather/now?location=101010100&amp;key=ä½ çš„KEY// å¼€å‘ç‰ˆ https://devapi.qweather.com/v7/weather/now?location=101010100&amp;key=ä½ çš„KEY&#123;  &quot;code&quot;: &quot;200&quot;,  &quot;updateTime&quot;: &quot;2020-06-30T22:00+08:00&quot;,  &quot;fxLink&quot;: &quot;http://hfx.link/2ax1&quot;,  &quot;now&quot;: &#123;    &quot;obsTime&quot;: &quot;2020-06-30T21:40+08:00&quot;,    &quot;temp&quot;: &quot;24&quot;,    &quot;feelsLike&quot;: &quot;26&quot;,    &quot;icon&quot;: &quot;101&quot;,    &quot;text&quot;: &quot;å¤šäº‘&quot;,    &quot;wind360&quot;: &quot;123&quot;,    &quot;windDir&quot;: &quot;ä¸œå—é£&quot;,    &quot;windScale&quot;: &quot;1&quot;,    &quot;windSpeed&quot;: &quot;3&quot;,    &quot;humidity&quot;: &quot;72&quot;,    &quot;precip&quot;: &quot;0.0&quot;,    &quot;pressure&quot;: &quot;1003&quot;,    &quot;vis&quot;: &quot;16&quot;,    &quot;cloud&quot;: &quot;10&quot;,    &quot;dew&quot;: &quot;21&quot;  &#125;,  &quot;refer&quot;: &#123;    &quot;sources&quot;: [      &quot;Weather China&quot;    ],    &quot;license&quot;: [      &quot;commercial license&quot;    ]  &#125;&#125;</code></pre><h5 id="jsä¾‹"><a href="#jsä¾‹" class="headerlink" title="jsä¾‹"></a>jsä¾‹</h5><p>  function fetchwea() {<br>    fetch(â€˜<a href="https://devapi.qweather.com/v7/weather/now?key=90304353392d4ea4ba00608cb2e7f9ae&location=101210101">https://devapi.qweather.com/v7/weather/now?key=90304353392d4ea4ba00608cb2e7f9ae&amp;location=101210101</a>â€˜)<br>    .then(res &#x3D;&gt; res.json())<br>    .then(json &#x3D;&gt; {</p><pre><code>  document.getElementById(&#39;temp&#39;).innerHTML=json.now.temp+&quot;â„ƒ&quot;;</code></pre><h3 id="ä½¿ç”¨å›¾æ ‡icon"><a href="#ä½¿ç”¨å›¾æ ‡icon" class="headerlink" title="ä½¿ç”¨å›¾æ ‡icon"></a>ä½¿ç”¨å›¾æ ‡icon</h3><p><a href="https://dev.qweather.com/docs/start/icons/">å›¾æ ‡apiæ‰‹å†Œ</a></p><pre><code>document.getElementById(&#39;i&#39;).className=&#39;qi-&#39;+json.now.icon;</code></pre><p>è¿™é‡Œjson.now.iconä¼šè¿”å›å›¾æ ‡ä»£ç <br>å¯¼å…¥å›¾æ ‡css<br>æ”¹å˜HTMLé‡Œ <i>æ ‡ç­¾çš„classä¸ºqi-(å›¾æ ‡ä»£ç )<br>å°±å¯ä»¥æ˜¾ç¤ºå¥½çœ‹çš„å›¾æ ‡å•¦~<br><img src="https://dev.qweather.com/assets/images/content/qweather-icon-screenshot-new.png" alt="images"></p><h1 id="æœ€ç»ˆæ•ˆæœ"><a href="#æœ€ç»ˆæ•ˆæœ" class="headerlink" title="æœ€ç»ˆæ•ˆæœ"></a>æœ€ç»ˆæ•ˆæœ</h1><p><a href="https://imgtu.com/i/5CZo5V"><img src="https://z3.ax1x.com/2021/10/08/5CZo5V.png" alt="5CZo5V.png"></a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
